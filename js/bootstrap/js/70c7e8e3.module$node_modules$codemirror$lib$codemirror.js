shadow$provide[1]=function(Nc,Vb,pc,wb){(function(p,ma){"object"===typeof wb&&"undefined"!==typeof pc?pc.exports=ma():"function"===typeof define&&define.amd?define(ma):(p=p||self,p.CodeMirror=ma())})(this,function(){function p(b){return new RegExp("(^|\\s)"+b+"(?:$|\\s)\\s*")}function ma(b){for(var g=b.childNodes.length;0<g;--g)b.removeChild(b.firstChild);return b}function Ma(b,g){return ma(b).appendChild(g)}function y(b,g,v,t){b=document.createElement(b);v&&(b.className=v);t&&(b.style.cssText=t);
if("string"==typeof g)b.appendChild(document.createTextNode(g));else if(g)for(v=0;v<g.length;++v)b.appendChild(g[v]);return b}function O(b,g,v,t){b=y(b,g,v,t);b.setAttribute("role","presentation");return b}function X(b,g){3==g.nodeType&&(g=g.parentNode);if(b.contains)return b.contains(g);do if(11==g.nodeType&&(g=g.host),g==b)return!0;while(g=g.parentNode)}function la(){try{var b=document.activeElement}catch(g){b=document.body||null}for(;b&&b.shadowRoot&&b.shadowRoot.activeElement;)b=b.shadowRoot.activeElement;
return b}function ua(b,g){var v=b.className;p(g).test(v)||(b.className+=(v?" ":"")+g)}function Ea(b,g){b=b.split(" ");for(var v=0;v<b.length;v++)b[v]&&!p(b[v]).test(g)&&(g+=" "+b[v]);return g}function ka(b){var g=Array.prototype.slice.call(arguments,1);return function(){return b.apply(null,g)}}function P(b,g,v){g||(g={});for(var t in b)!b.hasOwnProperty(t)||!1===v&&g.hasOwnProperty(t)||(g[t]=b[t]);return g}function ca(b,g,v,t,A){null==g&&(g=b.search(/[^\s\u00a0]/),-1==g&&(g=b.length));t=t||0;for(A=
A||0;;){var U=b.indexOf("\t",t);if(0>U||U>=g)return A+(g-t);A+=U-t;A+=v-A%v;t=U+1}}function va(b,g){for(var v=0;v<b.length;++v)if(b[v]==g)return v;return-1}function ra(b,g,v){for(var t=0,A=0;;){var U=b.indexOf("\t",t);-1==U&&(U=b.length);var na=U-t;if(U==b.length||A+na>=g)return t+Math.min(na,g-A);A+=U-t;A+=v-A%v;t=U+1;if(A>=g)return t}}function Y(b){for(;$f.length<=b;)$f.push(qa($f)+" ");return $f[b]}function qa(b){return b[b.length-1]}function ya(b,g){for(var v=[],t=0;t<b.length;t++)v[t]=g(b[t],
t);return v}function ia(b,g,v){for(var t=0,A=v(g);t<b.length&&v(b[t])<=A;)t++;b.splice(t,0,g)}function ea(){}function Ha(b,g){Object.create?b=Object.create(b):(ea.prototype=b,b=new ea);g&&P(g,b);return b}function aa(b){return/\w/.test(b)||""<b&&(b.toUpperCase()!=b.toLowerCase()||ih.test(b))}function Ba(b,g){return g?-1<g.source.indexOf("\\w")&&aa(b)?!0:g.test(b):aa(b)}function Va(b){for(var g in b)if(b.hasOwnProperty(g)&&b[g])return!1;return!0}function Ya(b){return 768<=b.charCodeAt(0)&&jh.test(b)}
function d(b,g,v){for(;(0>v?0<g:g<b.length)&&Ya(b.charAt(g));)g+=v;return g}function f(b,g,v){for(var t=g>v?-1:1;;){if(g==v)return g;var A=(g+v)/2;A=0>t?Math.ceil(A):Math.floor(A);if(A==g)return b(A)?g:v;b(A)?v=A:g=A+t}}function l(b,g,v,t){if(!b)return t(g,v,"ltr",0);for(var A=!1,U=0;U<b.length;++U){var na=b[U];if(na.from<v&&na.to>g||g==v&&na.to==g)t(Math.max(na.from,g),Math.min(na.to,v),1==na.level?"rtl":"ltr",U),A=!0}A||t(g,v,"ltr")}function q(b,g,v){var t;Gf=null;for(var A=0;A<b.length;++A){var U=
b[A];if(U.from<g&&U.to>g)return A;U.to==g&&(U.from!=U.to&&"before"==v?t=A:Gf=A);U.from==g&&(U.from!=U.to&&"before"!=v?t=A:Gf=A)}return null!=t?t:Gf}function w(b,g){var v=b.order;null==v&&(v=b.order=kh(b.text,g));return v}function z(b,g,v){if(b.removeEventListener)b.removeEventListener(g,v,!1);else if(b.detachEvent)b.detachEvent("on"+g,v);else{var t=(b=b._handlers)&&b[g];t&&(v=va(t,v),-1<v&&(b[g]=t.slice(0,v).concat(t.slice(v+1))))}}function G(b,g){var v=b._handlers&&b._handlers[g]||ag;if(v.length)for(var t=
Array.prototype.slice.call(arguments,2),A=0;A<v.length;++A)v[A].apply(null,t)}function H(b,g,v){"string"==typeof g&&(g={type:g,preventDefault:function(){this.defaultPrevented=!0}});G(b,v||g.type,b,g);return oa(g)||g.codemirrorIgnore}function R(b){var g=b._handlers&&b._handlers.cursorActivity;if(g){b=b.curOp.cursorActivityHandlers||(b.curOp.cursorActivityHandlers=[]);for(var v=0;v<g.length;++v)-1==va(b,g[v])&&b.push(g[v])}}function ha(b,g){return 0<(b._handlers&&b._handlers[g]||ag).length}function Ja(b){b.prototype.on=
function(g,v){xd(this,g,v)};b.prototype.off=function(g,v){z(this,g,v)}}function D(b){b.preventDefault?b.preventDefault():b.returnValue=!1}function Q(b){b.stopPropagation?b.stopPropagation():b.cancelBubble=!0}function oa(b){return null!=b.defaultPrevented?b.defaultPrevented:0==b.returnValue}function Fa(b){D(b);Q(b)}function Ga(b){var g=b.which;null==g&&(b.button&1?g=1:b.button&2?g=3:b.button&4&&(g=2));ff&&b.ctrlKey&&1==g&&(g=3);return g}function xb(b){if(null==ng){var g=y("span","​");Ma(b,y("span",
[g,document.createTextNode("x")]));0!=b.firstChild.offsetHeight&&(ng=1>=g.offsetWidth&&2<g.offsetHeight&&!(Xd&&8>ne))}b=ng?y("span","​"):y("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");b.setAttribute("cm-text","");return b}function Hb(b,g){2<arguments.length&&(g.dependencies=Array.prototype.slice.call(arguments,2));og[b]=g}function Kb(b){if("string"==typeof b&&zf.hasOwnProperty(b))b=zf[b];else if(b&&"string"==typeof b.name&&zf.hasOwnProperty(b.name)){var g=zf[b.name];"string"==
typeof g&&(g={name:g});b=Ha(g,b);b.name=g.name}else{if("string"==typeof b&&/^[\w\-]+\/[\w\-]+\+xml$/.test(b))return Kb("application/xml");if("string"==typeof b&&/^[\w\-]+\/[\w\-]+\+json$/.test(b))return Kb("application/json")}return"string"==typeof b?{name:b}:b||{name:"null"}}function Cb(b,g){g=Kb(g);var v=og[g.name];if(!v)return Cb(b,"text/plain");b=v(b,g);if(Af.hasOwnProperty(g.name)){v=Af[g.name];for(var t in v)v.hasOwnProperty(t)&&(b.hasOwnProperty(t)&&(b["_"+t]=b[t]),b[t]=v[t])}b.name=g.name;
g.helperType&&(b.helperType=g.helperType);if(g.modeProps)for(var A in g.modeProps)b[A]=g.modeProps[A];return b}function ib(b,g){b=Af.hasOwnProperty(b)?Af[b]:Af[b]={};P(g,b)}function Ib(b,g){if(!0===g)return g;if(b.copyState)return b.copyState(g);b={};for(var v in g){var t=g[v];t instanceof Array&&(t=t.concat([]));b[v]=t}return b}function Oa(b,g){for(var v;b.innerMode;){v=b.innerMode(g);if(!v||v.mode==b)break;g=v.state;b=v.mode}return v||{mode:b,state:g}}function Ua(b,g,v){return b.startState?b.startState(g,
v):!0}function Pa(b,g){g-=b.first;if(0>g||g>=b.size)throw Error("There is no line "+(g+b.first)+" in the document.");for(;!b.lines;)for(var v=0;;++v){var t=b.children[v],A=t.chunkSize();if(g<A){b=t;break}g-=A}return b.lines[g]}function ja(b,g,v){var t=[],A=g.line;b.iter(g.line,v.line+1,function(U){U=U.text;A==v.line&&(U=U.slice(0,v.ch));A==g.line&&(U=U.slice(g.ch));t.push(U);++A});return t}function Qa(b,g,v){var t=[];b.iter(g,v,function(A){t.push(A.text)});return t}function Za(b,g){if(g-=b.height)for(;b;b=
b.parent)b.height+=g}function qb(b){if(null==b.parent)return null;var g=b.parent;b=va(g.lines,b);for(var v=g.parent;v;g=v,v=v.parent)for(var t=0;v.children[t]!=g;++t)b+=v.children[t].chunkSize();return b+g.first}function La(b,g){var v=b.first;a:do{for(var t=0;t<b.children.length;++t){var A=b.children[t],U=A.height;if(g<U){b=A;continue a}g-=U;v+=A.chunkSize()}return v}while(!b.lines);for(t=0;t<b.lines.length;++t){A=b.lines[t].height;if(g<A)break;g-=A}return v+t}function Na(b,g){return g>=b.first&&
g<b.first+b.size}function kb(b,g){return String(b.lineNumberFormatter(g+b.firstLineNumber))}function Sa(b,g,v){void 0===v&&(v=null);if(!(this instanceof Sa))return new Sa(b,g,v);this.line=b;this.ch=g;this.sticky=v}function vb(b,g){return b.line-g.line||b.ch-g.ch}function jb(b,g){return b.sticky==g.sticky&&0==vb(b,g)}function nb(b){return Sa(b.line,b.ch)}function sb(b,g){return 0>vb(b,g)?g:b}function hc(b,g){return 0>vb(b,g)?b:g}function Nb(b,g){if(g.line<b.first)return Sa(b.first,0);var v=b.first+
b.size-1;if(g.line>v)return Sa(v,Pa(b,v).text.length);b=Pa(b,g.line).text.length;v=g.ch;g=null==v||v>b?Sa(g.line,b):0>v?Sa(g.line,0):g;return g}function cc(b,g){for(var v=[],t=0;t<g.length;t++)v[t]=Nb(b,g[t]);return v}function nc(b,g,v,t){var A=[b.state.modeGen],U={};hb(b,g.text,b.doc.mode,v,function($a,ub){return A.push($a,ub)},U,t);var na=v.state;t=function($a){v.baseTokens=A;var ub=b.state.overlays[$a],Lb=1,qc=0;v.state=!0;hb(b,g.text,ub.mode,v,function(Yb,Zb){for(var Jc=Lb;qc<Yb;){var id=A[Lb];
id>Yb&&A.splice(Lb,1,Yb,A[Lb+1],id);Lb+=2;qc=Math.min(Yb,id)}if(Zb)if(ub.opaque)A.splice(Jc,Lb-Jc,Yb,"overlay "+Zb),Lb=Jc+2;else for(;Jc<Lb;Jc+=2)Yb=A[Jc+1],A[Jc+1]=(Yb?Yb+" ":"")+"overlay "+Zb},U);v.state=na;v.baseTokens=null;v.baseTokenPos=1};for(var ta=0;ta<b.state.overlays.length;++ta)t(ta);return{styles:A,classes:U.bgClass||U.textClass?U:null}}function Fc(b,g,v){if(!g.styles||g.styles[0]!=b.state.modeGen){var t=oc(b,qb(g)),A=g.text.length>b.options.maxHighlightLength&&Ib(b.doc.mode,t.state),
U=nc(b,g,t);A&&(t.state=A);g.stateAfter=t.save(!A);g.styles=U.styles;U.classes?g.styleClasses=U.classes:g.styleClasses&&(g.styleClasses=null);v===b.doc.highlightFrontier&&(b.doc.modeFrontier=Math.max(b.doc.modeFrontier,++b.doc.highlightFrontier))}return g.styles}function oc(b,g,v){var t=b.doc,A=b.display;if(!t.mode.startState)return new jf(t,!0,g);var U=Mb(b,g,v),na=U>t.first&&Pa(t,U-1).stateAfter,ta=na?jf.fromSaved(t,na,U):new jf(t,Ua(t.mode),U);t.iter(U,g,function($a){ec(b,$a.text,ta);var ub=ta.line;
$a.stateAfter=ub==g-1||0==ub%5||ub>=A.viewFrom&&ub<A.viewTo?ta.save():null;ta.nextLine()});v&&(t.modeFrontier=ta.line);return ta}function ec(b,g,v,t){var A=b.doc.mode;b=new Ee(g,b.options.tabSize,v);b.start=b.pos=t||0;for(""==g&&lb(A,v.state);!b.eol();)Gb(A,b,v.state),b.start=b.pos}function lb(b,g){if(b.blankLine)return b.blankLine(g);if(b.innerMode&&(b=Oa(b,g),b.mode.blankLine))return b.mode.blankLine(b.state)}function Gb(b,g,v,t){for(var A=0;10>A;A++){t&&(t[0]=Oa(b,v).mode);var U=b.token(g,v);if(g.pos>
g.start)return U}throw Error("Mode "+b.name+" failed to advance stream.");}function kc(b,g,v,t){var A=b.doc,U=A.mode;g=Nb(A,g);var na=Pa(A,g.line);v=oc(b,g.line,v);b=new Ee(na.text,b.options.tabSize,v);var ta;for(t&&(ta=[]);(t||b.pos<g.ch)&&!b.eol();){b.start=b.pos;var $a=Gb(U,b,v.state);t&&ta.push(new Eg(b,$a,Ib(A.mode,v.state)))}return t?ta:new Eg(b,$a,v.state)}function V(b,g){if(b)for(;;){var v=b.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!v)break;b=b.slice(0,v.index)+b.slice(v.index+v[0].length);
var t=v[1]?"bgClass":"textClass";null==g[t]?g[t]=v[2]:(new RegExp("(?:^|\\s)"+v[2]+"(?:$|\\s)")).test(g[t])||(g[t]+=" "+v[2])}return b}function hb(b,g,v,t,A,U,na){var ta=v.flattenSpans;null==ta&&(ta=b.options.flattenSpans);var $a=0,ub=null,Lb=new Ee(g,b.options.tabSize,t),qc=b.options.addModeClass&&[null];for(""==g&&V(lb(v,t.state),U);!Lb.eol();){if(Lb.pos>b.options.maxHighlightLength){ta=!1;na&&ec(b,g,t,Lb.pos);Lb.pos=g.length;var Yb=null}else Yb=V(Gb(v,Lb,t.state,qc),U);if(qc){var Zb=qc[0].name;
Zb&&(Yb="m-"+(Yb?Zb+" "+Yb:Zb))}if(!ta||ub!=Yb){for(;$a<Lb.start;)$a=Math.min(Lb.start,$a+5E3),A($a,ub);ub=Yb}Lb.start=Lb.pos}for(;$a<Lb.pos;)b=Math.min(Lb.pos,$a+5E3),A(b,ub),$a=b}function Mb(b,g,v){for(var t,A,U=b.doc,na=v?-1:g-(b.doc.mode.innerMode?1E3:100);g>na;--g){if(g<=U.first)return U.first;var ta=Pa(U,g-1),$a=ta.stateAfter;if($a&&(!v||g+($a instanceof bg?$a.lookAhead:0)<=U.modeFrontier))return g;ta=ca(ta.text,null,b.options.tabSize);if(null==A||t>ta)A=g-1,t=ta}return A}function Wb(b,g){b.modeFrontier=
Math.min(b.modeFrontier,g);if(!(b.highlightFrontier<g-10)){for(var v=b.first,t=g-1;t>v;t--){var A=Pa(b,t).stateAfter;if(A&&(!(A instanceof bg)||t+A.lookAhead<g)){v=t+1;break}}b.highlightFrontier=Math.min(b.highlightFrontier,v)}}function Ub(b,g,v){this.marker=b;this.from=g;this.to=v}function lc(b,g){if(b)for(var v=0;v<b.length;++v){var t=b[v];if(t.marker==g)return t}}function gb(b,g){if(g.full)return null;var v=Na(b,g.from.line)&&Pa(b,g.from.line).markedSpans,t=Na(b,g.to.line)&&Pa(b,g.to.line).markedSpans;
if(!v&&!t)return null;b=g.from.ch;var A=g.to.ch,U=0==vb(g.from,g.to),na;if(v)for(var ta=0;ta<v.length;++ta){var $a=v[ta],ub=$a.marker;if(null==$a.from||(ub.inclusiveLeft?$a.from<=b:$a.from<b)||!($a.from!=b||"bookmark"!=ub.type||U&&$a.marker.insertLeft)){var Lb=null==$a.to||(ub.inclusiveRight?$a.to>=b:$a.to>b);(na||(na=[])).push(new Ub(ub,$a.from,Lb?null:$a.to))}}v=na;var qc;if(t)for(na=0;na<t.length;++na)if(ta=t[na],$a=ta.marker,null==ta.to||($a.inclusiveRight?ta.to>=A:ta.to>A)||ta.from==A&&"bookmark"==
$a.type&&(!U||ta.marker.insertLeft))ub=null==ta.from||($a.inclusiveLeft?ta.from<=A:ta.from<A),(qc||(qc=[])).push(new Ub($a,ub?null:ta.from-A,null==ta.to?null:ta.to-A));t=1==g.text.length;A=qa(g.text).length+(t?b:0);if(v)for(U=0;U<v.length;++U)if(na=v[U],null==na.to)(ta=lc(qc,na.marker),ta)?t&&(na.to=null==ta.to?null:ta.to+A):na.to=b;if(qc)for(b=0;b<qc.length;++b)U=qc[b],null!=U.to&&(U.to+=A),null==U.from?lc(v,U.marker)||(U.from=A,t&&(v||(v=[])).push(U)):(U.from+=A,t&&(v||(v=[])).push(U));v&&(v=xa(v));
qc&&qc!=v&&(qc=xa(qc));b=[v];if(!t){g=g.text.length-2;var Yb;if(0<g&&v)for(t=0;t<v.length;++t)null==v[t].to&&(Yb||(Yb=[])).push(new Ub(v[t].marker,null,null));for(v=0;v<g;++v)b.push(Yb);b.push(qc)}return b}function xa(b){for(var g=0;g<b.length;++g){var v=b[g];null!=v.from&&v.from==v.to&&!1!==v.marker.clearWhenEmpty&&b.splice(g--,1)}return b.length?b:null}function cb(b,g,v){var t=null;b.iter(g.line,v.line+1,function(Lb){if(Lb.markedSpans)for(var qc=0;qc<Lb.markedSpans.length;++qc){var Yb=Lb.markedSpans[qc].marker;
!Yb.readOnly||t&&-1!=va(t,Yb)||(t||(t=[])).push(Yb)}});if(!t)return null;b=[{from:g,to:v}];for(g=0;g<t.length;++g){v=t[g];for(var A=v.find(0),U=0;U<b.length;++U){var na=b[U];if(!(0>vb(na.to,A.from)||0<vb(na.from,A.to))){var ta=[U,1],$a=vb(na.from,A.from),ub=vb(na.to,A.to);(0>$a||!v.inclusiveLeft&&!$a)&&ta.push({from:na.from,to:A.from});(0<ub||!v.inclusiveRight&&!ub)&&ta.push({from:A.to,to:na.to});b.splice.apply(b,ta);U+=ta.length-3}}}return b}function Ia(b){var g=b.markedSpans;if(g){for(var v=0;v<
g.length;++v)g[v].marker.detachLine(b);b.markedSpans=null}}function mb(b,g){if(g){for(var v=0;v<g.length;++v)g[v].marker.attachLine(b);b.markedSpans=g}}function Sb(b,g){var v=b.lines.length-g.lines.length;if(0!=v)return v;v=b.find();var t=g.find(),A=vb(v.from,t.from)||(b.inclusiveLeft?-1:0)-(g.inclusiveLeft?-1:0);return A?-A:(v=vb(v.to,t.to)||(b.inclusiveRight?1:0)-(g.inclusiveRight?1:0))?v:g.id-b.id}function Xb(b,g){b=mf&&b.markedSpans;if(b)for(var v,t=0;t<b.length;++t)if(v=b[t],v.marker.collapsed&&
null==(g?v.from:v.to)&&(!A||0>Sb(A,v.marker)))var A=v.marker;return A}function tc(b,g,v,t,A){b=Pa(b,g);if(b=mf&&b.markedSpans)for(g=0;g<b.length;++g){var U=b[g];if(U.marker.collapsed){var na=U.marker.find(0),ta=vb(na.from,v)||(U.marker.inclusiveLeft?-1:0)-(A.inclusiveLeft?-1:0),$a=vb(na.to,t)||(U.marker.inclusiveRight?1:0)-(A.inclusiveRight?1:0);if(!(0<=ta&&0>=$a||0>=ta&&0<=$a)&&(0>=ta&&(U.marker.inclusiveRight&&A.inclusiveLeft?0<=vb(na.to,v):0<vb(na.to,v))||0<=ta&&(U.marker.inclusiveRight&&A.inclusiveLeft?
0>=vb(na.from,t):0>vb(na.from,t))))return!0}}}function Ec(b){for(var g;g=Xb(b,!0);)b=g.find(-1,!0).line;return b}function dd(b,g){b=Pa(b,g);var v=Ec(b);return b==v?g:qb(v)}function ud(b,g){if(g>b.lastLine())return g;var v=Pa(b,g);if(!Yc(b,v))return g;for(;b=Xb(v,!1);)v=b.find(1,!0).line;return qb(v)+1}function Yc(b,g){var v=mf&&g.markedSpans;if(v)for(var t,A=0;A<v.length;++A)if(t=v[A],t.marker.collapsed&&(null==t.from||!t.marker.widgetNode&&0==t.from&&t.marker.inclusiveLeft&&Id(b,g,t)))return!0}function Id(b,
g,v){if(null==v.to)return g=v.marker.find(1,!0),Id(b,g.line,lc(g.line.markedSpans,v.marker));if(v.marker.inclusiveRight&&v.to==g.text.length)return!0;for(var t,A=0;A<g.markedSpans.length;++A)if(t=g.markedSpans[A],t.marker.collapsed&&!t.marker.widgetNode&&t.from==v.to&&(null==t.to||t.to!=v.from)&&(t.marker.inclusiveLeft||v.marker.inclusiveRight)&&Id(b,g,t))return!0}function Wd(b){b=Ec(b);for(var g=0,v=b.parent,t=0;t<v.lines.length;++t){var A=v.lines[t];if(A==b)break;else g+=A.height}for(b=v.parent;b;v=
b,b=v.parent)for(t=0;t<b.children.length&&(A=b.children[t],A!=v);++t)g+=A.height;return g}function ge(b){if(0==b.height)return 0;for(var g=b.text.length,v,t=b;v=Xb(t,!0);)v=v.find(0,!0),t=v.from.line,g+=v.from.ch-v.to.ch;for(t=b;v=Xb(t,!1);)b=v.find(0,!0),g-=t.text.length-b.from.ch,t=b.to.line,g+=t.text.length-b.to.ch;return g}function Ld(b){var g=b.display;b=b.doc;g.maxLine=Pa(b,b.first);g.maxLineLength=ge(g.maxLine);g.maxLineChanged=!0;b.iter(function(v){var t=ge(v);t>g.maxLineLength&&(g.maxLineLength=
t,g.maxLine=v)})}function Qd(b,g){if(!b||/^\s*$/.test(b))return null;g=g.addModeClass?lh:mh;return g[b]||(g[b]=b.replace(/\S+/g,"cm-$\x26"))}function Dd(b,g){var v=O("span",null,null,Ve?"padding-right: .1px":null);v={pre:O("pre",[v],"CodeMirror-line"),content:v,col:0,pos:0,cm:b,trailingSpace:!1,splitSpaces:b.getOption("lineWrapping")};g.measure={};for(var t=0;t<=(g.rest?g.rest.length:0);t++){var A=t?g.rest[t-1]:g.line,U=void 0;v.pos=0;v.addToken=fb;var na=b.display.measure;if(null!=pg)na=pg;else{var ta=
Ma(na,document.createTextNode("AخA")),$a=Hf(ta,0,1).getBoundingClientRect();ta=Hf(ta,1,2).getBoundingClientRect();ma(na);na=$a&&$a.left!=$a.right?pg=3>ta.right-$a.right:!1}na&&(U=w(A,b.doc.direction))&&(v.addToken=Db(v.addToken,U));v.map=[];var ub=g!=b.display.externalMeasured&&qb(A);a:{var Lb=ta=$a=na=void 0,qc=void 0,Yb=void 0,Zb=void 0;U=v;ub=Fc(b,A,ub);var Jc=A.markedSpans,id=A.text,Gd=0;if(Jc)for(var Yd=id.length,td=0,he=1,ce="",ie=0;;){if(ie==td){qc=Lb=ta=Yb="";$a=na=null;ie=Infinity;for(var ke=
[],Jd=void 0,je=0;je<Jc.length;++je){var Zd=Jc[je],de=Zd.marker;if("bookmark"==de.type&&Zd.from==td&&de.widgetNode)ke.push(de);else if(Zd.from<=td&&(null==Zd.to||Zd.to>td||de.collapsed&&Zd.to==td&&Zd.from==td)){null!=Zd.to&&Zd.to!=td&&ie>Zd.to&&(ie=Zd.to,Lb="");de.className&&(qc+=" "+de.className);de.css&&(Yb=(Yb?Yb+";":"")+de.css);de.startStyle&&Zd.from==td&&(ta+=" "+de.startStyle);de.endStyle&&Zd.to==ie&&(Jd||(Jd=[])).push(de.endStyle,Zd.to);de.title&&((na||(na={})).title=de.title);if(de.attributes)for(var We in de.attributes)(na||
(na={}))[We]=de.attributes[We];de.collapsed&&(!$a||0>Sb($a.marker,de))&&($a=Zd)}else Zd.from>td&&ie>Zd.from&&(ie=Zd.from)}if(Jd)for(je=0;je<Jd.length;je+=2)Jd[je+1]==ie&&(Lb+=" "+Jd[je]);if(!$a||$a.from==td)for(Jd=0;Jd<ke.length;++Jd)gc(U,0,ke[Jd]);if($a&&($a.from||0)==td){gc(U,(null==$a.to?Yd+1:$a.to)-td,$a.marker,null==$a.from);if(null==$a.to)break a;$a.to==td&&($a=!1)}}if(td>=Yd)break;for(ke=Math.min(Yd,ie);;){if(ce){Jd=td+ce.length;$a||(je=Jd>ke?ce.slice(0,ke-td):ce,U.addToken(U,je,Zb?Zb+qc:qc,
ta,td+je.length==ie?Lb:"",Yb,na));if(Jd>=ke){ce=ce.slice(ke-td);td=ke;break}td=Jd;ta=""}ce=id.slice(Gd,Gd=ub[he++]);Zb=Qd(ub[he++],U.cm.options)}}else for(na=1;na<ub.length;na+=2)U.addToken(U,id.slice(Gd,Gd=ub[na]),Qd(ub[na+1],U.cm.options))}A.styleClasses&&(A.styleClasses.bgClass&&(v.bgClass=Ea(A.styleClasses.bgClass,v.bgClass||"")),A.styleClasses.textClass&&(v.textClass=Ea(A.styleClasses.textClass,v.textClass||"")));0==v.map.length&&v.map.push(0,0,v.content.appendChild(xb(b.display.measure)));0==
t?(g.measure.map=v.map,g.measure.cache={}):((g.measure.maps||(g.measure.maps=[])).push(v.map),(g.measure.caches||(g.measure.caches=[])).push({}))}Ve&&(We=v.content.lastChild,/\bcm-tab\b/.test(We.className)||We.querySelector&&We.querySelector(".cm-tab"))&&(v.content.className="cm-tab-wrap-hack");G(b,"renderLine",b,g.line,v.pre);v.pre.className&&(v.textClass=Ea(v.pre.className,v.textClass||""));return v}function Gc(b){var g=y("span","•","cm-invalidchar");g.title="\\u"+b.charCodeAt(0).toString(16);g.setAttribute("aria-label",
g.title);return g}function fb(b,g,v,t,A,U,na){if(g){if(b.splitSpaces){var ta=b.trailingSpace;if(1<g.length&&!/  /.test(g))ta=g;else{for(var $a="",ub=0;ub<g.length;ub++){var Lb=g.charAt(ub);" "!=Lb||!ta||ub!=g.length-1&&32!=g.charCodeAt(ub+1)||(Lb=" ");$a+=Lb;ta=" "==Lb}ta=$a}}else ta=g;$a=ta;ub=b.cm.state.specialChars;Lb=!1;if(ub.test(g)){ta=document.createDocumentFragment();for(var qc=0;;){ub.lastIndex=qc;var Yb=ub.exec(g),Zb=Yb?Yb.index-qc:g.length-qc;if(Zb){var Jc=document.createTextNode($a.slice(qc,
qc+Zb));Xd&&9>ne?ta.appendChild(y("span",[Jc])):ta.appendChild(Jc);b.map.push(b.pos,b.pos+Zb,Jc);b.col+=Zb;b.pos+=Zb}if(!Yb)break;qc+=Zb+1;"\t"==Yb[0]?(Yb=b.cm.options.tabSize,Yb-=b.col%Yb,Zb=ta.appendChild(y("span",Y(Yb),"cm-tab")),Zb.setAttribute("role","presentation"),Zb.setAttribute("cm-text","\t"),b.col+=Yb):("\r"==Yb[0]||"\n"==Yb[0]?(Zb=ta.appendChild(y("span","\r"==Yb[0]?"␍":"␤","cm-invalidchar")),Zb.setAttribute("cm-text",Yb[0])):(Zb=b.cm.options.specialCharPlaceholder(Yb[0]),Zb.setAttribute("cm-text",
Yb[0]),Xd&&9>ne?ta.appendChild(y("span",[Zb])):ta.appendChild(Zb)),b.col+=1);b.map.push(b.pos,b.pos+1,Zb);b.pos++}}else b.col+=g.length,ta=document.createTextNode($a),b.map.push(b.pos,b.pos+g.length,ta),Xd&&9>ne&&(Lb=!0),b.pos+=g.length;b.trailingSpace=32==$a.charCodeAt(g.length-1);if(v||t||A||Lb||U){g=v||"";t&&(g+=t);A&&(g+=A);t=y("span",[ta],g,U);if(na)for(var id in na)na.hasOwnProperty(id)&&"style"!=id&&"class"!=id&&t.setAttribute(id,na[id]);return b.content.appendChild(t)}b.content.appendChild(ta)}}
function Db(b,g){return function(v,t,A,U,na,ta,$a){A=A?A+" cm-force-border":"cm-force-border";for(var ub=v.pos,Lb=ub+t.length;;){for(var qc=void 0,Yb=0;Yb<g.length&&!(qc=g[Yb],qc.to>ub&&qc.from<=ub);Yb++);if(qc.to>=Lb)return b(v,t,A,U,na,ta,$a);b(v,t.slice(0,qc.to-ub),A,U,null,ta,$a);U=null;t=t.slice(qc.to-ub);ub=qc.to}}}function gc(b,g,v,t){var A=!t&&v.widgetNode;A&&b.map.push(b.pos,b.pos+g,A);!t&&b.cm.display.input.needsContentAttribute&&(A||(A=b.content.appendChild(document.createElement("span"))),
A.setAttribute("cm-marker",v.id));A&&(b.cm.display.input.setUneditable(A),b.content.appendChild(A));b.pos+=g;b.trailingSpace=!1}function sc(b,g,v){for(var t=this.line=g,A;t=Xb(t,!1);)t=t.find(1,!0).line,(A||(A=[])).push(t);this.size=(this.rest=A)?qb(qa(this.rest))-v+1:1;this.node=this.text=null;this.hidden=Yc(b,g)}function wc(b,g,v){var t=[],A;for(A=g;A<v;)g=new sc(b.doc,Pa(b.doc,A),A),A+=g.size,t.push(g);return t}function Mc(b,g){if(b=b.ownsGroup)try{var v=b.delayedCallbacks,t=0;do{for(;t<v.length;t++)v[t].call(null);
for(var A=0;A<b.ops.length;A++){var U=b.ops[A];if(U.cursorActivityHandlers)for(;U.cursorActivityCalled<U.cursorActivityHandlers.length;)U.cursorActivityHandlers[U.cursorActivityCalled++].call(null,U.cm)}}while(t<v.length)}finally{Bf=null,g(b)}}function ic(b,g){var v=b._handlers&&b._handlers[g]||ag;if(v.length){var t=Array.prototype.slice.call(arguments,2);if(Bf)var A=Bf.delayedCallbacks;else If?A=If:(A=If=[],setTimeout(zb,0));for(var U=function(ta){A.push(function(){return v[ta].apply(null,t)})},
na=0;na<v.length;++na)U(na)}}function zb(){var b=If;If=null;for(var g=0;g<b.length;++g)b[g]()}function fc(b,g,v,t){for(var A=0;A<g.changes.length;A++){var U=g.changes[A];if("text"==U){U=b;var na=g,ta=na.text.className,$a=vc(U,na);na.text==na.node&&(na.node=$a.pre);na.text.parentNode.replaceChild($a.pre,na.text);na.text=$a.pre;$a.bgClass!=na.bgClass||$a.textClass!=na.textClass?(na.bgClass=$a.bgClass,na.textClass=$a.textClass,xc(U,na)):ta&&(na.text.className=ta)}else if("gutter"==U)Vc(b,g,v,t);else if("class"==
U)xc(b,g);else if("widget"==U){U=b;na=g;ta=t;na.alignable&&(na.alignable=null);$a=p("CodeMirror-linewidget");for(var ub=na.node.firstChild,Lb;ub;ub=Lb)Lb=ub.nextSibling,$a.test(ub.className)&&na.node.removeChild(ub);Uc(U,na,ta)}}g.changes=null}function dc(b){b.node==b.text&&(b.node=y("div",null,null,"position: relative"),b.text.parentNode&&b.text.parentNode.replaceChild(b.node,b.text),b.node.appendChild(b.text),Xd&&8>ne&&(b.node.style.zIndex=2));return b.node}function vc(b,g){var v=b.display.externalMeasured;
return v&&v.line==g.line?(b.display.externalMeasured=null,g.measure=v.measure,v.built):Dd(b,g)}function xc(b,g){var v=g.bgClass?g.bgClass+" "+(g.line.bgClass||""):g.line.bgClass;v&&(v+=" CodeMirror-linebackground");if(g.background)v?g.background.className=v:(g.background.parentNode.removeChild(g.background),g.background=null);else if(v){var t=dc(g);g.background=t.insertBefore(y("div",null,v),t.firstChild);b.display.input.setUneditable(g.background)}g.line.wrapClass?dc(g).className=g.line.wrapClass:
g.node!=g.text&&(g.node.className="");g.text.className=(g.textClass?g.textClass+" "+(g.line.textClass||""):g.line.textClass)||""}function Vc(b,g,v,t){g.gutter&&(g.node.removeChild(g.gutter),g.gutter=null);g.gutterBackground&&(g.node.removeChild(g.gutterBackground),g.gutterBackground=null);if(g.line.gutterClass){var A=dc(g);g.gutterBackground=y("div",null,"CodeMirror-gutter-background "+g.line.gutterClass,"left: "+(b.options.fixedGutter?t.fixedPos:-t.gutterTotalWidth)+"px; width: "+t.gutterTotalWidth+
"px");b.display.input.setUneditable(g.gutterBackground);A.insertBefore(g.gutterBackground,g.text)}A=g.line.gutterMarkers;if(b.options.lineNumbers||A){var U=dc(g),na=g.gutter=y("div",null,"CodeMirror-gutter-wrapper","left: "+(b.options.fixedGutter?t.fixedPos:-t.gutterTotalWidth)+"px");b.display.input.setUneditable(na);U.insertBefore(na,g.text);g.line.gutterClass&&(na.className+=" "+g.line.gutterClass);!b.options.lineNumbers||A&&A["CodeMirror-linenumbers"]||(g.lineNumber=na.appendChild(y("div",kb(b.options,
v),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+t.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+b.display.lineNumInnerWidth+"px")));if(A)for(g=0;g<b.display.gutterSpecs.length;++g)v=b.display.gutterSpecs[g].className,(U=A.hasOwnProperty(v)&&A[v])&&na.appendChild(y("div",[U],"CodeMirror-gutter-elt","left: "+t.gutterLeft[v]+"px; width: "+t.gutterWidth[v]+"px"))}}function bd(b,g,v,t){var A=vc(b,g);g.text=g.node=A.pre;A.bgClass&&(g.bgClass=A.bgClass);A.textClass&&(g.textClass=A.textClass);
xc(b,g);Vc(b,g,v,t);Uc(b,g,t);return g.node}function Uc(b,g,v){F(b,g.line,g,v,!0);if(g.rest)for(var t=0;t<g.rest.length;t++)F(b,g.rest[t],g,v,!1)}function F(b,g,v,t,A){if(g.widgets){var U=dc(v),na=0;for(g=g.widgets;na<g.length;++na){var ta=g[na],$a=y("div",[ta.node],"CodeMirror-linewidget"+(ta.className?" "+ta.className:""));ta.handleMouseEvents||$a.setAttribute("cm-ignore-events","true");var ub=ta,Lb=$a,qc=t;if(ub.noHScroll){(v.alignable||(v.alignable=[])).push(Lb);var Yb=qc.wrapperWidth;Lb.style.left=
qc.fixedPos+"px";ub.coverGutter||(Yb-=qc.gutterTotalWidth,Lb.style.paddingLeft=qc.gutterTotalWidth+"px");Lb.style.width=Yb+"px"}ub.coverGutter&&(Lb.style.zIndex=5,Lb.style.position="relative",ub.noHScroll||(Lb.style.marginLeft=-qc.gutterTotalWidth+"px"));b.display.input.setUneditable($a);A&&ta.above?U.insertBefore($a,v.gutter||v.text):U.appendChild($a);ic(ta,"redraw")}}}function M(b){if(null!=b.height)return b.height;var g=b.doc.cm;if(!g)return 0;if(!X(document.body,b.node)){var v="position: relative;";
b.coverGutter&&(v+="margin-left: -"+g.display.gutters.offsetWidth+"px;");b.noHScroll&&(v+="width: "+g.display.wrapper.clientWidth+"px;");Ma(g.display.measure,y("div",[b.node],null,v))}return b.height=b.node.parentNode.offsetHeight}function da(b,g){for(g=g.target||g.srcElement;g!=b.wrapper;g=g.parentNode)if(!g||1==g.nodeType&&"true"==g.getAttribute("cm-ignore-events")||g.parentNode==b.sizer&&g!=b.mover)return!0}function Aa(b){return b.mover.offsetHeight-b.lineSpace.offsetHeight}function Wa(b){if(b.cachedPaddingH)return b.cachedPaddingH;
var g=Ma(b.measure,y("pre","x","CodeMirror-line-like"));g=window.getComputedStyle?window.getComputedStyle(g):g.currentStyle;g={left:parseInt(g.paddingLeft),right:parseInt(g.paddingRight)};isNaN(g.left)||isNaN(g.right)||(b.cachedPaddingH=g);return g}function Ra(b){return 50-b.display.nativeBarWidth}function Bb(b){return b.display.scroller.clientWidth-Ra(b)-b.display.barWidth}function Ob(b){return b.display.scroller.clientHeight-Ra(b)-b.display.barHeight}function tb(b,g,v){if(b.line==g)return{map:b.measure.map,
cache:b.measure.cache};for(var t=0;t<b.rest.length;t++)if(b.rest[t]==g)return{map:b.measure.maps[t],cache:b.measure.caches[t]};for(g=0;g<b.rest.length;g++)if(qb(b.rest[g])>v)return{map:b.measure.maps[g],cache:b.measure.caches[g],before:!0}}function Tb(b,g){if(g>=b.display.viewFrom&&g<b.display.viewTo)return b.display.view[pe(b,g)];if((b=b.display.externalMeasured)&&g>=b.lineN&&g<b.lineN+b.size)return b}function mc(b,g){var v=qb(g),t=Tb(b,v);t&&!t.text?t=null:t&&t.changes&&(fc(b,t,v,Wc(b)),b.curOp.forceUpdate=
!0);if(!t){var A=Ec(g);t=qb(A);A=b.display.externalMeasured=new sc(b.doc,A,t);A.lineN=t;t=A.built=Dd(b,A);A.text=t.pre;Ma(b.display.lineMeasure,t.pre);t=A}b=tb(t,g,v);return{line:g,view:t,rect:null,map:b.map,cache:b.cache,before:b.before,hasHeights:!1}}function K(b,g,v,t,A){g.before&&(v=-1);var U=v+(t||"");if(g.cache.hasOwnProperty(U))b=g.cache[U];else{g.rect||(g.rect=g.view.text.getBoundingClientRect());if(!g.hasHeights){var na=g.view,ta=g.rect,$a=b.options.lineWrapping,ub=$a&&Bb(b);if(!na.measure.heights||
$a&&na.measure.width!=ub){var Lb=na.measure.heights=[];if($a)for(na.measure.width=ub,na=na.text.firstChild.getClientRects(),$a=0;$a<na.length-1;$a++){ub=na[$a];var qc=na[$a+1];2<Math.abs(ub.bottom-qc.bottom)&&Lb.push((ub.bottom+qc.top)/2-ta.top)}Lb.push(ta.bottom-ta.top)}g.hasHeights=!0}Lb=t;na=m(g.map,v,Lb);t=na.node;ta=na.start;$a=na.end;v=na.collapse;if(3==t.nodeType){for(var Yb=0;4>Yb;Yb++){for(;ta&&Ya(g.line.text.charAt(na.coverStart+ta));)--ta;for(;na.coverStart+$a<na.coverEnd&&Ya(g.line.text.charAt(na.coverStart+
$a));)++$a;if(Xd&&9>ne&&0==ta&&$a==na.coverEnd-na.coverStart)var Zb=t.parentNode.getBoundingClientRect();else{Zb=Hf(t,ta,$a).getClientRects();$a=Fg;if("left"==Lb)for(ub=0;ub<Zb.length&&($a=Zb[ub]).left==$a.right;ub++);else for(ub=Zb.length-1;0<=ub&&($a=Zb[ub]).left==$a.right;ub--);Zb=$a}if(Zb.left||Zb.right||0==ta)break;$a=ta;--ta;v="right"}Xd&&11>ne&&((Yb=!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI)||(null!=qg?Yb=qg:(Lb=Ma(b.display.measure,y("span","x")),Yb=Lb.getBoundingClientRect(),
Lb=Hf(Lb,0,1).getBoundingClientRect(),Yb=qg=1<Math.abs(Yb.left-Lb.left)),Yb=!Yb),Yb||(Yb=screen.logicalXDPI/screen.deviceXDPI,Lb=screen.logicalYDPI/screen.deviceYDPI,Zb={left:Zb.left*Yb,right:Zb.right*Yb,top:Zb.top*Lb,bottom:Zb.bottom*Lb}))}else 0<ta&&(v=Lb="right"),Zb=b.options.lineWrapping&&1<(Yb=t.getClientRects()).length?Yb["right"==Lb?Yb.length-1:0]:t.getBoundingClientRect();!(Xd&&9>ne)||ta||Zb&&(Zb.left||Zb.right)||(Zb=(Zb=t.parentNode.getClientRects()[0])?{left:Zb.left,right:Zb.left+yd(b.display),
top:Zb.top,bottom:Zb.bottom}:Fg);t=Zb.top-g.rect.top;ta=Zb.bottom-g.rect.top;Yb=(t+ta)/2;Lb=g.view.measure.heights;for(na=0;na<Lb.length-1&&!(Yb<Lb[na]);na++);v={left:("right"==v?Zb.right:Zb.left)-g.rect.left,right:("left"==v?Zb.left:Zb.right)-g.rect.left,top:na?Lb[na-1]:0,bottom:Lb[na]};Zb.left||Zb.right||(v.bogus=!0);b.options.singleCursorHeightPerLine||(v.rtop=t,v.rbottom=ta);b=v;b.bogus||(g.cache[U]=b)}return{left:b.left,right:b.right,top:A?b.rtop:b.top,bottom:A?b.rbottom:b.bottom}}function m(b,
g,v){for(var t,A,U,na,ta,$a,ub=0;ub<b.length;ub+=3){ta=b[ub];$a=b[ub+1];if(g<ta)A=0,U=1,na="left";else if(g<$a)A=g-ta,U=A+1;else if(ub==b.length-3||g==$a&&b[ub+3]>g)U=$a-ta,A=U-1,g>=$a&&(na="right");if(null!=A){t=b[ub+2];ta==$a&&v==(t.insertLeft?"left":"right")&&(na=v);if("left"==v&&0==A)for(;ub&&b[ub-2]==b[ub-3]&&b[ub-1].insertLeft;)t=b[(ub-=3)+2],na="left";if("right"==v&&A==$a-ta)for(;ub<b.length-3&&b[ub+3]==b[ub+4]&&!b[ub+5].insertLeft;)t=b[(ub+=3)+2],na="right";break}}return{node:t,start:A,end:U,
collapse:na,coverStart:ta,coverEnd:$a}}function k(b){if(b.measure&&(b.measure.cache={},b.measure.heights=null,b.rest))for(var g=0;g<b.rest.length;g++)b.measure.caches[g]={}}function r(b){b.display.externalMeasure=null;ma(b.display.lineMeasure);for(var g=0;g<b.display.view.length;g++)k(b.display.view[g])}function x(b){r(b);b.display.cachedCharWidth=b.display.cachedTextHeight=b.display.cachedPaddingH=null;b.options.lineWrapping||(b.display.maxLineChanged=!0);b.display.lineNumChars=null}function J(){return cg&&
dg?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Z(){return cg&&dg?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function sa(b){var g=0;if(b.widgets)for(var v=0;v<b.widgets.length;++v)b.widgets[v].above&&(g+=M(b.widgets[v]));return g}function bb(b,
g,v,t,A){A||(A=sa(g),v.top+=A,v.bottom+=A);if("line"==t)return v;t||(t="local");g=Wd(g);g="local"==t?g+b.display.lineSpace.offsetTop:g-b.display.viewOffset;if("page"==t||"window"==t)b=b.display.lineSpace.getBoundingClientRect(),g+=b.top+("window"==t?0:Z()),t=b.left+("window"==t?0:J()),v.left+=t,v.right+=t;v.top+=g;v.bottom+=g;return v}function Ta(b,g,v){if("div"==v)return g;var t=g.left;g=g.top;"page"==v?(t-=J(),g-=Z()):"local"!=v&&v||(v=b.display.sizer.getBoundingClientRect(),t+=v.left,g+=v.top);
b=b.display.lineSpace.getBoundingClientRect();return{left:t-b.left,top:g-b.top}}function Pb(b,g,v,t,A){t||(t=Pa(b.doc,g.line));var U=t;g=g.ch;t=K(b,mc(b,t),g,A);return bb(b,U,t,v)}function ac(b,g,v,t,A,U){function na(Yb,Zb){Yb=K(b,A,Yb,Zb?"right":"left",U);Zb?Yb.left=Yb.right:Yb.right=Yb.left;return bb(b,t,Yb,v)}function ta(Yb,Zb,Jc){return na(Jc?Yb-1:Yb,1==$a[Zb].level!=Jc)}t=t||Pa(b.doc,g.line);A||(A=mc(b,t));var $a=w(t,b.doc.direction),ub=g.ch;g=g.sticky;ub>=t.text.length?(ub=t.text.length,g="before"):
0>=ub&&(ub=0,g="after");if(!$a)return na("before"==g?ub-1:ub,"before"==g);var Lb=q($a,ub,g),qc=Gf;Lb=ta(ub,Lb,"before"==g);null!=qc&&(Lb.other=ta(ub,qc,"before"!=g));return Lb}function yc(b,g){var v=0;g=Nb(b.doc,g);b.options.lineWrapping||(v=yd(b.display)*g.ch);g=Pa(b.doc,g.line);b=Wd(g)+b.display.lineSpace.offsetTop;return{left:v,right:v,top:b,bottom:b+g.height}}function Pc(b,g,v,t,A){b=Sa(b,g,v);b.xRel=A;t&&(b.outside=t);return b}function Bc(b,g,v){var t=b.doc;v+=b.display.viewOffset;if(0>v)return Pc(t.first,
0,null,-1,-1);var A=La(t,v),U=t.first+t.size-1;if(A>U)return Pc(t.first+t.size-1,Pa(t,U).text.length,null,1,1);0>g&&(g=0);for(var na=Pa(t,A);;){U=cd(b,na,A,g,v);var ta=void 0;var $a=U.ch+(0<U.xRel||0<U.outside?1:0);if(na=mf&&na.markedSpans)for(var ub=0;ub<na.length;++ub){var Lb=na[ub];Lb.marker.collapsed&&(null==Lb.from||Lb.from<$a)&&(null==Lb.to||Lb.to>$a)&&(!ta||0>Sb(ta,Lb.marker))&&(ta=Lb.marker)}if(!ta)return U;U=ta.find(1);if(U.line==A)return U;na=Pa(t,A=U.line)}}function Hc(b,g,v,t){t-=sa(g);
g=g.text.length;var A=f(function(U){return K(b,v,U-1).bottom<=t},g,0);g=f(function(U){return K(b,v,U).top>t},A,g);return{begin:A,end:g}}function gd(b,g,v,t){v||(v=mc(b,g));t=bb(b,g,K(b,v,t),"line").top;return Hc(b,g,v,t)}function pd(b,g,v,t){return b.bottom<=v?!1:b.top>v?!0:(t?b.left:b.right)>g}function cd(b,g,v,t,A){A-=Wd(g);var U=mc(b,g),na=sa(g),ta=0,$a=g.text.length,ub=!0,Lb=w(g,b.doc.direction);Lb&&(Lb=(b.options.lineWrapping?me:le)(b,g,v,U,Lb,t,A),ta=(ub=1!=Lb.level)?Lb.from:Lb.to-1,$a=ub?Lb.to:
Lb.from-1);var qc=null,Yb=null;Lb=f(function(Jc){var id=K(b,U,Jc);id.top+=na;id.bottom+=na;if(!pd(id,t,A,!1))return!1;id.top<=A&&id.left<=t&&(qc=Jc,Yb=id);return!0},ta,$a);var Zb=!1;Yb?(ta=t-Yb.left<Yb.right-t,ub=ta==ub,Lb=qc+(ub?0:1),ub=ub?"after":"before",ta=ta?Yb.left:Yb.right):(ub||Lb!=$a&&Lb!=ta||Lb++,ub=0==Lb?"after":Lb==g.text.length?"before":K(b,U,Lb-(ub?1:0)).bottom+na<=A==ub?"after":"before",Zb=ac(b,Sa(v,Lb,ub),"line",g,U),ta=Zb.left,Zb=A<Zb.top?-1:A>=Zb.bottom?1:0);Lb=d(g.text,Lb,1);return Pc(v,
Lb,ub,Zb,t-ta)}function le(b,g,v,t,A,U,na){var ta=f(function(Lb){Lb=A[Lb];var qc=1!=Lb.level;return pd(ac(b,Sa(v,qc?Lb.to:Lb.from,qc?"before":"after"),"line",g,t),U,na,!0)},0,A.length-1),$a=A[ta];if(0<ta){var ub=1!=$a.level;ub=ac(b,Sa(v,ub?$a.from:$a.to,ub?"after":"before"),"line",g,t);pd(ub,U,na,!0)&&ub.top>na&&($a=A[ta-1])}return $a}function me(b,g,v,t,A,U,na){na=Hc(b,g,t,na);v=na.begin;na=na.end;/\s/.test(g.text.charAt(na-1))&&na--;for(var ta=g=null,$a=0;$a<A.length;$a++){var ub=A[$a];if(!(ub.from>=
na||ub.to<=v)){var Lb=K(b,t,1!=ub.level?Math.min(na,ub.to)-1:Math.max(v,ub.from)).right;Lb=Lb<U?U-Lb+1E9:Lb-U;if(!g||ta>Lb)g=ub,ta=Lb}}g||(g=A[A.length-1]);g.from<v&&(g={from:v,to:g.to,level:g.level});g.to>na&&(g={from:g.from,to:na,level:g.level});return g}function Sd(b){if(null!=b.cachedTextHeight)return b.cachedTextHeight;if(null==sf){sf=y("pre",null,"CodeMirror-line-like");for(var g=0;49>g;++g)sf.appendChild(document.createTextNode("x")),sf.appendChild(y("br"));sf.appendChild(document.createTextNode("x"))}Ma(b.measure,
sf);g=sf.offsetHeight/50;3<g&&(b.cachedTextHeight=g);ma(b.measure);return g||1}function yd(b){if(null!=b.cachedCharWidth)return b.cachedCharWidth;var g=y("span","xxxxxxxxxx"),v=y("pre",[g],"CodeMirror-line-like");Ma(b.measure,v);g=g.getBoundingClientRect();g=(g.right-g.left)/10;2<g&&(b.cachedCharWidth=g);return g||10}function Wc(b){for(var g=b.display,v={},t={},A=g.gutters.clientLeft,U=g.gutters.firstChild,na=0;U;U=U.nextSibling,++na){var ta=b.display.gutterSpecs[na].className;v[ta]=U.offsetLeft+
U.clientLeft+A;t[ta]=U.clientWidth}return{fixedPos:Md(g),gutterTotalWidth:g.gutters.offsetWidth,gutterLeft:v,gutterWidth:t,wrapperWidth:g.wrapper.clientWidth}}function Md(b){return b.scroller.getBoundingClientRect().left-b.sizer.getBoundingClientRect().left}function vd(b){var g=Sd(b.display),v=b.options.lineWrapping,t=v&&Math.max(5,b.display.scroller.clientWidth/yd(b.display)-3);return function(A){if(Yc(b.doc,A))return 0;var U=0;if(A.widgets)for(var na=0;na<A.widgets.length;na++)A.widgets[na].height&&
(U+=A.widgets[na].height);return v?U+(Math.ceil(A.text.length/t)||1)*g:U+g}}function Fd(b){var g=b.doc,v=vd(b);g.iter(function(t){var A=v(t);A!=t.height&&Za(t,A)})}function Td(b,g,v,t){var A=b.display;if(!v&&"true"==(g.target||g.srcElement).getAttribute("cm-not-content"))return null;v=A.lineSpace.getBoundingClientRect();try{var U=g.clientX-v.left;var na=g.clientY-v.top}catch($a){return null}g=Bc(b,U,na);var ta;t&&0<g.xRel&&(ta=Pa(b.doc,g.line).text).length==g.ch&&(t=ca(ta,ta.length,b.options.tabSize)-
ta.length,g=Sa(g.line,Math.max(0,Math.round((U-Wa(b.display).left)/yd(b.display))-t)));return g}function pe(b,g){if(g>=b.display.viewTo)return null;g-=b.display.viewFrom;if(0>g)return null;b=b.display.view;for(var v=0;v<b.length;v++)if(g-=b[v].size,0>g)return v}function Vd(b,g,v,t){null==g&&(g=b.doc.first);null==v&&(v=b.doc.first+b.doc.size);t||(t=0);var A=b.display;t&&v<A.viewTo&&(null==A.updateLineNumbers||A.updateLineNumbers>g)&&(A.updateLineNumbers=g);b.curOp.viewChanged=!0;if(g>=A.viewTo)mf&&
dd(b.doc,g)<A.viewTo&&Nd(b);else if(v<=A.viewFrom)mf&&ud(b.doc,v+t)>A.viewFrom?Nd(b):(A.viewFrom+=t,A.viewTo+=t);else if(g<=A.viewFrom&&v>=A.viewTo)Nd(b);else if(g<=A.viewFrom){var U=Ke(b,v,v+t,1);U?(A.view=A.view.slice(U.index),A.viewFrom=U.lineN,A.viewTo+=t):Nd(b)}else if(v>=A.viewTo)(U=Ke(b,g,g,-1))?(A.view=A.view.slice(0,U.index),A.viewTo=U.lineN):Nd(b);else{U=Ke(b,g,g,-1);var na=Ke(b,v,v+t,1);U&&na?(A.view=A.view.slice(0,U.index).concat(wc(b,U.lineN,na.lineN)).concat(A.view.slice(na.index)),
A.viewTo+=t):Nd(b)}if(b=A.externalMeasured)v<b.lineN?b.lineN+=t:g<b.lineN+b.size&&(A.externalMeasured=null)}function qe(b,g,v){b.curOp.viewChanged=!0;var t=b.display,A=b.display.externalMeasured;A&&g>=A.lineN&&g<A.lineN+A.size&&(t.externalMeasured=null);g<t.viewFrom||g>=t.viewTo||(b=t.view[pe(b,g)],null!=b.node&&(b=b.changes||(b.changes=[]),-1==va(b,v)&&b.push(v)))}function Nd(b){b.display.viewFrom=b.display.viewTo=b.doc.first;b.display.view=[];b.display.viewOffset=0}function Ke(b,g,v,t){var A=pe(b,
g),U=b.display.view;if(!mf||v==b.doc.first+b.doc.size)return{index:A,lineN:v};for(var na=b.display.viewFrom,ta=0;ta<A;ta++)na+=U[ta].size;if(na!=g){if(0<t){if(A==U.length-1)return null;g=na+U[A].size-g;A++}else g=na-g;v+=g}for(;dd(b.doc,v)!=v;){if(A==(0>t?0:U.length-1))return null;v+=t*U[A-(0>t?1:0)].size;A+=t}return{index:A,lineN:v}}function Pe(b){b=b.display.view;for(var g=0,v=0;v<b.length;v++){var t=b[v];t.hidden||t.node&&!t.changes||++g}return g}function Ge(b){b.display.input.showSelection(b.display.input.prepareSelection())}
function B(b,g){void 0===g&&(g=!0);for(var v=b.doc,t={},A=t.cursors=document.createDocumentFragment(),U=t.selection=document.createDocumentFragment(),na=0;na<v.sel.ranges.length;na++)if(g||na!=v.sel.primIndex){var ta=v.sel.ranges[na];if(!(ta.from().line>=b.display.viewTo||ta.to().line<b.display.viewFrom)){var $a=ta.empty();($a||b.options.showCursorWhenSelecting)&&T(b,ta.head,A);$a||Da(b,ta,U)}}return t}function T(b,g,v){g=ac(b,g,"div",null,null,!b.options.singleCursorHeightPerLine);var t=v.appendChild(y("div",
" ","CodeMirror-cursor"));t.style.left=g.left+"px";t.style.top=g.top+"px";t.style.height=Math.max(0,g.bottom-g.top)*b.options.cursorHeight+"px";g.other&&(b=v.appendChild(y("div"," ","CodeMirror-cursor CodeMirror-secondarycursor")),b.style.display="",b.style.left=g.other.left+"px",b.style.top=g.other.top+"px",b.style.height=.85*(g.other.bottom-g.other.top)+"px")}function pa(b,g){return b.top-g.top||b.left-g.left}function Da(b,g,v){function t(Zb,Jc,id,Gd){0>Jc&&(Jc=0);Jc=Math.round(Jc);Gd=Math.round(Gd);
ta.appendChild(y("div",null,"CodeMirror-selected","position: absolute; left: "+Zb+"px;\n                             top: "+Jc+"px; width: "+(null==id?Lb-Zb:id)+"px;\n                             height: "+(Gd-Jc)+"px"))}function A(Zb,Jc,id){function Gd(Jd,je){return Pb(b,Sa(Zb,Jd),"div",td,je)}function Yd(Jd,je,Zd){Jd=gd(b,td,null,Jd);je="ltr"==je==("after"==Zd)?"left":"right";Zd="after"==Zd?Jd.begin:Jd.end-(/\s/.test(td.text.charAt(Jd.end-1))?2:1);return Gd(Zd,je)[je]}var td=Pa(na,Zb),he=td.text.length,
ce,ie,ke=w(td,na.direction);l(ke,Jc||0,null==id?he:id,function(Jd,je,Zd,de){var We="ltr"==Zd,Ze=Gd(Jd,We?"left":"right"),bf=Gd(je-1,We?"right":"left"),tf=null==Jc&&0==Jd,uf=null==id&&je==he,rg=0==de;de=!ke||de==ke.length-1;3>=bf.top-Ze.top?(je=(qc?tf:uf)&&rg?ub:(We?Ze:bf).left,t(je,Ze.top,((qc?uf:tf)&&de?Lb:(We?bf:Ze).right)-je,Ze.bottom)):(We?(We=qc&&tf&&rg?ub:Ze.left,tf=qc?Lb:Yd(Jd,Zd,"before"),Jd=qc?ub:Yd(je,Zd,"after"),uf=qc&&uf&&de?Lb:bf.right):(We=qc?Yd(Jd,Zd,"before"):ub,tf=!qc&&tf&&rg?Lb:
Ze.right,Jd=!qc&&uf&&de?ub:bf.left,uf=qc?Yd(je,Zd,"after"):Lb),t(We,Ze.top,tf-We,Ze.bottom),Ze.bottom<bf.top&&t(ub,Ze.bottom,null,bf.top),t(Jd,bf.top,uf-Jd,bf.bottom));if(!ce||0>pa(Ze,ce))ce=Ze;0>pa(bf,ce)&&(ce=bf);if(!ie||0>pa(Ze,ie))ie=Ze;0>pa(bf,ie)&&(ie=bf)});return{start:ce,end:ie}}var U=b.display,na=b.doc,ta=document.createDocumentFragment(),$a=Wa(b.display),ub=$a.left,Lb=Math.max(U.sizerWidth,Bb(b)-U.sizer.offsetLeft)-$a.right,qc="ltr"==na.direction;U=g.from();g=g.to();if(U.line==g.line)A(U.line,
U.ch,g.ch);else{var Yb=Pa(na,U.line);$a=Pa(na,g.line);$a=Ec(Yb)==Ec($a);U=A(U.line,U.ch,$a?Yb.text.length+1:null).end;g=A(g.line,$a?0:null,g.ch).start;$a&&(U.top<g.top-2?(t(U.right,U.top,null,U.bottom),t(ub,g.top,g.left,g.bottom)):t(U.right,U.top,g.left-U.right,U.bottom));U.bottom<g.top&&t(ub,U.bottom,null,g.top)}v.appendChild(ta)}function ab(b){if(b.state.focused){var g=b.display;clearInterval(g.blinker);var v=!0;g.cursorDiv.style.visibility="";0<b.options.cursorBlinkRate?g.blinker=setInterval(function(){return g.cursorDiv.style.visibility=
(v=!v)?"":"hidden"},b.options.cursorBlinkRate):0>b.options.cursorBlinkRate&&(g.cursorDiv.style.visibility="hidden")}}function ob(b){b.state.focused||(b.display.input.focus(),a(b))}function N(b){b.state.delayingBlurEvent=!0;setTimeout(function(){b.state.delayingBlurEvent&&(b.state.delayingBlurEvent=!1,e(b))},100)}function a(b,g){b.state.delayingBlurEvent&&(b.state.delayingBlurEvent=!1);"nocursor"!=b.options.readOnly&&(b.state.focused||(G(b,"focus",b,g),b.state.focused=!0,ua(b.display.wrapper,"CodeMirror-focused"),
b.curOp||b.display.selForContextMenu==b.doc.sel||(b.display.input.reset(),Ve&&setTimeout(function(){return b.display.input.reset(!0)},20)),b.display.input.receivedFocus()),ab(b))}function e(b,g){b.state.delayingBlurEvent||(b.state.focused&&(G(b,"blur",b,g),b.state.focused=!1,vf(b.display.wrapper,"CodeMirror-focused")),clearInterval(b.display.blinker),setTimeout(function(){b.state.focused||(b.display.shift=!1)},150))}function h(b){for(var g=b.display,v=g.lineDiv.offsetTop,t=0;t<g.view.length;t++){var A=
g.view[t],U=b.options.lineWrapping,na=0;if(!A.hidden){if(Xd&&8>ne){U=A.node.offsetTop+A.node.offsetHeight;var ta=U-v;v=U}else{var $a=A.node.getBoundingClientRect();ta=$a.bottom-$a.top;!U&&A.text.firstChild&&(na=A.text.firstChild.getBoundingClientRect().right-$a.left-1)}U=A.line.height-ta;if(.005<U||-.005>U)if(Za(A.line,ta),u(A.line),A.rest)for(ta=0;ta<A.rest.length;ta++)u(A.rest[ta]);na>b.display.sizerWidth&&(na=Math.ceil(na/yd(b.display)),na>b.display.maxLineLength&&(b.display.maxLineLength=na,b.display.maxLine=
A.line,b.display.maxLineChanged=!0))}}}function u(b){if(b.widgets)for(var g=0;g<b.widgets.length;++g){var v=b.widgets[g],t=v.node.parentNode;t&&(v.height=t.offsetHeight)}}function C(b,g,v){var t=v&&null!=v.top?Math.max(0,v.top):b.scroller.scrollTop;t=Math.floor(t-b.lineSpace.offsetTop);var A=v&&null!=v.bottom?v.bottom:t+b.wrapper.clientHeight;t=La(g,t);A=La(g,A);if(v&&v.ensure){var U=v.ensure.from.line;v=v.ensure.to.line;U<t?(t=U,A=La(g,Wd(Pa(g,U))+b.wrapper.clientHeight)):Math.min(v,g.lastLine())>=
A&&(t=La(g,Wd(Pa(g,v))-b.wrapper.clientHeight),A=v)}return{from:t,to:Math.max(A,t+1)}}function W(b,g){var v=b.display,t=Sd(b.display);0>g.top&&(g.top=0);var A=b.curOp&&null!=b.curOp.scrollTop?b.curOp.scrollTop:v.scroller.scrollTop,U=Ob(b),na={};g.bottom-g.top>U&&(g.bottom=g.top+U);var ta=b.doc.height+Aa(v),$a=g.top<t;t=g.bottom>ta-t;g.top<A?na.scrollTop=$a?0:g.top:g.bottom>A+U&&(U=Math.min(g.top,(t?ta:g.bottom)-U),U!=A&&(na.scrollTop=U));A=b.curOp&&null!=b.curOp.scrollLeft?b.curOp.scrollLeft:v.scroller.scrollLeft;
b=Bb(b)-(b.options.fixedGutter?v.gutters.offsetWidth:0);if(v=g.right-g.left>b)g.right=g.left+b;10>g.left?na.scrollLeft=0:g.left<A?na.scrollLeft=Math.max(0,g.left-(v?0:10)):g.right>b+A-3&&(na.scrollLeft=g.right+(v?0:10)-b);return na}function za(b,g){null!=g&&($b(b),b.curOp.scrollTop=(null==b.curOp.scrollTop?b.doc.scrollTop:b.curOp.scrollTop)+g)}function eb(b){$b(b);var g=b.getCursor();b.curOp.scrollToPos={from:g,to:g,margin:b.options.cursorScrollMargin}}function Eb(b,g,v){null==g&&null==v||$b(b);null!=
g&&(b.curOp.scrollLeft=g);null!=v&&(b.curOp.scrollTop=v)}function $b(b){var g=b.curOp.scrollToPos;if(g){b.curOp.scrollToPos=null;var v=yc(b,g.from),t=yc(b,g.to);jc(b,v,t,g.margin)}}function jc(b,g,v,t){g=W(b,{left:Math.min(g.left,v.left),top:Math.min(g.top,v.top)-t,right:Math.max(g.right,v.right),bottom:Math.max(g.bottom,v.bottom)+t});Eb(b,g.scrollLeft,g.scrollTop)}function uc(b,g){2>Math.abs(b.doc.scrollTop-g)||(nf||ee(b,{top:g}),zc(b,g,!0),nf&&ee(b),rd(b,100))}function zc(b,g,v){g=Math.max(0,Math.min(b.display.scroller.scrollHeight-
b.display.scroller.clientHeight,g));if(b.display.scroller.scrollTop!=g||v)b.doc.scrollTop=g,b.display.scrollbars.setScrollTop(g),b.display.scroller.scrollTop!=g&&(b.display.scroller.scrollTop=g)}function Ic(b,g,v,t){g=Math.max(0,Math.min(g,b.display.scroller.scrollWidth-b.display.scroller.clientWidth));(v?g==b.doc.scrollLeft:2>Math.abs(b.doc.scrollLeft-g))&&!t||(b.doc.scrollLeft=g,xe(b),b.display.scroller.scrollLeft!=g&&(b.display.scroller.scrollLeft=g),b.display.scrollbars.setScrollLeft(g))}function Lc(b){var g=
b.display,v=g.gutters.offsetWidth,t=Math.round(b.doc.height+Aa(b.display));return{clientHeight:g.scroller.clientHeight,viewHeight:g.wrapper.clientHeight,scrollWidth:g.scroller.scrollWidth,clientWidth:g.scroller.clientWidth,viewWidth:g.wrapper.clientWidth,barLeft:b.options.fixedGutter?v:0,docHeight:t,scrollHeight:t+Ra(b)+g.barHeight,nativeBarWidth:g.nativeBarWidth,gutterWidth:v}}function Rc(b,g){g||(g=Lc(b));var v=b.display.barWidth,t=b.display.barHeight;Tc(b,g);for(g=0;4>g&&v!=b.display.barWidth||
t!=b.display.barHeight;g++)v!=b.display.barWidth&&b.options.lineWrapping&&h(b),Tc(b,Lc(b)),v=b.display.barWidth,t=b.display.barHeight}function Tc(b,g){var v=b.display,t=v.scrollbars.update(g);v.sizer.style.paddingRight=(v.barWidth=t.right)+"px";v.sizer.style.paddingBottom=(v.barHeight=t.bottom)+"px";v.heightForcer.style.borderBottom=t.bottom+"px solid transparent";t.right&&t.bottom?(v.scrollbarFiller.style.display="block",v.scrollbarFiller.style.height=t.bottom+"px",v.scrollbarFiller.style.width=
t.right+"px"):v.scrollbarFiller.style.display="";t.bottom&&b.options.coverGutterNextToScrollbar&&b.options.fixedGutter?(v.gutterFiller.style.display="block",v.gutterFiller.style.height=t.bottom+"px",v.gutterFiller.style.width=g.gutterWidth+"px"):v.gutterFiller.style.display=""}function Zc(b){b.display.scrollbars&&(b.display.scrollbars.clear(),b.display.scrollbars.addClass&&vf(b.display.wrapper,b.display.scrollbars.addClass));b.display.scrollbars=new Gg[b.options.scrollbarStyle](function(g){b.display.wrapper.insertBefore(g,
b.display.scrollbarFiller);xd(g,"mousedown",function(){b.state.focused&&setTimeout(function(){return b.display.input.focus()},0)});g.setAttribute("cm-not-content","true")},function(g,v){"horizontal"==v?Ic(b,g):uc(b,g)},b);b.display.scrollbars.addClass&&ua(b.display.wrapper,b.display.scrollbars.addClass)}function jd(b){b.curOp={cm:b,viewChanged:!1,startHeight:b.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,
scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++nh};b=b.curOp;Bf?Bf.ops.push(b):b.ownsGroup=Bf={ops:[b],delayedCallbacks:[]}}function ld(b){(b=b.curOp)&&Mc(b,function(g){for(var v=0;v<g.ops.length;v++)g.ops[v].cm.curOp=null;g=g.ops;for(v=0;v<g.length;v++){var t=g[v],A=t.cm,U=A.display,na=A.display;!na.scrollbarsClipped&&na.scroller.offsetWidth&&(na.nativeBarWidth=na.scroller.offsetWidth-na.scroller.clientWidth,na.heightForcer.style.height=Ra(A)+"px",na.sizer.style.marginBottom=-na.nativeBarWidth+
"px",na.sizer.style.borderRightWidth=Ra(A)+"px",na.scrollbarsClipped=!0);t.updateMaxLine&&Ld(A);t.mustUpdate=t.viewChanged||t.forceUpdate||null!=t.scrollTop||t.scrollToPos&&(t.scrollToPos.from.line<U.viewFrom||t.scrollToPos.to.line>=U.viewTo)||U.maxLineChanged&&A.options.lineWrapping;t.update=t.mustUpdate&&new eg(A,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}for(v=0;v<g.length;v++)t=g[v],t.updatedDisplay=t.mustUpdate&&Ud(t.cm,t.update);for(v=0;v<g.length;v++)if(t=g[v],A=t.cm,
U=A.display,t.updatedDisplay&&h(A),t.barMeasure=Lc(A),U.maxLineChanged&&!A.options.lineWrapping&&(na=U.maxLine.text.length,na=K(A,mc(A,U.maxLine),na,void 0),t.adjustWidthTo=na.left+3,A.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(U.scroller.clientWidth,U.sizer.offsetLeft+t.adjustWidthTo+Ra(A)+A.display.barWidth),t.maxScrollLeft=Math.max(0,U.sizer.offsetLeft+t.adjustWidthTo-Bb(A))),t.updatedDisplay||t.selectionChanged)t.preparedSelection=U.input.prepareSelection();for(v=0;v<
g.length;v++)t=g[v],A=t.cm,null!=t.adjustWidthTo&&(A.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<A.doc.scrollLeft&&Ic(A,Math.min(A.display.scroller.scrollLeft,t.maxScrollLeft),!0),A.display.maxLineChanged=!1),U=t.focus&&t.focus==la(),t.preparedSelection&&A.display.input.showSelection(t.preparedSelection,U),(t.updatedDisplay||t.startHeight!=A.doc.height)&&Rc(A,t.barMeasure),t.updatedDisplay&&te(A,t.barMeasure),t.selectionChanged&&ab(A),A.state.focused&&t.updateInput&&A.display.input.reset(t.typing),
U&&ob(t.cm);for(v=0;v<g.length;v++){var ta=void 0;t=g[v];A=t.cm;U=A.display;na=A.doc;t.updatedDisplay&&Ce(A,t.update);null==U.wheelStartX||null==t.scrollTop&&null==t.scrollLeft&&!t.scrollToPos||(U.wheelStartX=U.wheelStartY=null);null!=t.scrollTop&&zc(A,t.scrollTop,t.forceScroll);null!=t.scrollLeft&&Ic(A,t.scrollLeft,!0,!0);if(t.scrollToPos){var $a=Nb(na,t.scrollToPos.from);var ub=Nb(na,t.scrollToPos.to);var Lb=t.scrollToPos.margin;null==Lb&&(Lb=0);A.options.lineWrapping||$a!=ub||($a=$a.ch?Sa($a.line,
"before"==$a.sticky?$a.ch-1:$a.ch,"after"):$a,ub="before"==$a.sticky?Sa($a.line,$a.ch+1,"before"):$a);for(var qc=0;5>qc;qc++){var Yb=!1;ta=ac(A,$a);var Zb=ub&&ub!=$a?ac(A,ub):ta;ta={left:Math.min(ta.left,Zb.left),top:Math.min(ta.top,Zb.top)-Lb,right:Math.max(ta.left,Zb.left),bottom:Math.max(ta.bottom,Zb.bottom)+Lb};Zb=W(A,ta);var Jc=A.doc.scrollTop,id=A.doc.scrollLeft;null!=Zb.scrollTop&&(uc(A,Zb.scrollTop),1<Math.abs(A.doc.scrollTop-Jc)&&(Yb=!0));null!=Zb.scrollLeft&&(Ic(A,Zb.scrollLeft),1<Math.abs(A.doc.scrollLeft-
id)&&(Yb=!0));if(!Yb)break}ub=ta;H(A,"scrollCursorIntoView")||(Lb=A.display,qc=Lb.sizer.getBoundingClientRect(),$a=null,0>ub.top+qc.top?$a=!0:ub.bottom+qc.top>(window.innerHeight||document.documentElement.clientHeight)&&($a=!1),null==$a||oh||(ub=y("div","​",null,"position: absolute;\n                         top: "+(ub.top-Lb.viewOffset-A.display.lineSpace.offsetTop)+"px;\n                         height: "+(ub.bottom-ub.top+Ra(A)+Lb.barHeight)+"px;\n                         left: "+ub.left+"px; width: "+
Math.max(2,ub.right-ub.left)+"px;"),A.display.lineSpace.appendChild(ub),ub.scrollIntoView($a),A.display.lineSpace.removeChild(ub)))}ub=t.maybeHiddenMarkers;$a=t.maybeUnhiddenMarkers;if(ub)for(Lb=0;Lb<ub.length;++Lb)ub[Lb].lines.length||G(ub[Lb],"hide");if($a)for(ub=0;ub<$a.length;++ub)$a[ub].lines.length&&G($a[ub],"unhide");U.wrapper.offsetHeight&&(na.scrollTop=A.display.scroller.scrollTop);t.changeObjs&&G(A,"changes",A,t.changeObjs);t.update&&t.update.finish()}})}function fd(b,g){if(b.curOp)return g();
jd(b);try{return g()}finally{ld(b)}}function ed(b,g){return function(){if(b.curOp)return g.apply(b,arguments);jd(b);try{return g.apply(b,arguments)}finally{ld(b)}}}function Dc(b){return function(){if(this.curOp)return b.apply(this,arguments);jd(this);try{return b.apply(this,arguments)}finally{ld(this)}}}function $c(b){return function(){var g=this.cm;if(!g||g.curOp)return b.apply(this,arguments);jd(g);try{return b.apply(this,arguments)}finally{ld(g)}}}function rd(b,g){b.doc.highlightFrontier<b.display.viewTo&&
b.state.highlight.set(g,ka(Pd,b))}function Pd(b){var g=b.doc;if(!(g.highlightFrontier>=b.display.viewTo)){var v=+new Date+b.options.workTime,t=oc(b,g.highlightFrontier),A=[];g.iter(t.line,Math.min(g.first+g.size,b.display.viewTo+500),function(U){if(t.line>=b.display.viewFrom){var na=U.styles,ta=U.text.length>b.options.maxHighlightLength?Ib(g.mode,t.state):null,$a=nc(b,U,t,!0);ta&&(t.state=ta);U.styles=$a.styles;ta=U.styleClasses;($a=$a.classes)?U.styleClasses=$a:ta&&(U.styleClasses=null);$a=!na||
na.length!=U.styles.length||ta!=$a&&(!ta||!$a||ta.bgClass!=$a.bgClass||ta.textClass!=$a.textClass);for(ta=0;!$a&&ta<na.length;++ta)$a=na[ta]!=U.styles[ta];$a&&A.push(t.line);U.stateAfter=t.save()}else U.text.length<=b.options.maxHighlightLength&&ec(b,U.text,t),U.stateAfter=0==t.line%5?t.save():null;t.nextLine();if(+new Date>v)return rd(b,b.options.workDelay),!0});g.highlightFrontier=t.line;g.modeFrontier=Math.max(g.modeFrontier,t.line);A.length&&fd(b,function(){for(var U=0;U<A.length;U++)qe(b,A[U],
"text")})}}function Ud(b,g){var v=b.display,t=b.doc;if(g.editorIsHidden)return Nd(b),!1;if(!g.force&&g.visible.from>=v.viewFrom&&g.visible.to<=v.viewTo&&(null==v.updateLineNumbers||v.updateLineNumbers>=v.viewTo)&&v.renderedView==v.view&&0==Pe(b))return!1;Re(b)&&(Nd(b),g.dims=Wc(b));var A=t.first+t.size,U=Math.max(g.visible.from-b.options.viewportMargin,t.first),na=Math.min(A,g.visible.to+b.options.viewportMargin);v.viewFrom<U&&20>U-v.viewFrom&&(U=Math.max(t.first,v.viewFrom));v.viewTo>na&&20>v.viewTo-
na&&(na=Math.min(A,v.viewTo));mf&&(U=dd(b.doc,U),na=ud(b.doc,na));t=U!=v.viewFrom||na!=v.viewTo||v.lastWrapHeight!=g.wrapperHeight||v.lastWrapWidth!=g.wrapperWidth;A=b.display;0==A.view.length||U>=A.viewTo||na<=A.viewFrom?(A.view=wc(b,U,na),A.viewFrom=U):(A.viewFrom>U?A.view=wc(b,U,A.viewFrom).concat(A.view):A.viewFrom<U&&(A.view=A.view.slice(pe(b,U))),A.viewFrom=U,A.viewTo<na?A.view=A.view.concat(wc(b,A.viewTo,na)):A.viewTo>na&&(A.view=A.view.slice(0,pe(b,na))));A.viewTo=na;v.viewOffset=Wd(Pa(b.doc,
v.viewFrom));b.display.mover.style.top=v.viewOffset+"px";na=Pe(b);if(!t&&0==na&&!g.force&&v.renderedView==v.view&&(null==v.updateLineNumbers||v.updateLineNumbers>=v.viewTo))return!1;b.hasFocus()?U=null:(U=la())&&X(b.display.lineDiv,U)?(U={activeElt:U},window.getSelection&&(A=window.getSelection(),A.anchorNode&&A.extend&&X(b.display.lineDiv,A.anchorNode)&&(U.anchorNode=A.anchorNode,U.anchorOffset=A.anchorOffset,U.focusNode=A.focusNode,U.focusOffset=A.focusOffset))):U=null;4<na&&(v.lineDiv.style.display=
"none");Fe(b,v.updateLineNumbers,g.dims);4<na&&(v.lineDiv.style.display="");v.renderedView=v.view;(na=U)&&na.activeElt&&na.activeElt!=la()&&(na.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(na.activeElt.nodeName)&&na.anchorNode&&X(document.body,na.anchorNode)&&X(document.body,na.focusNode)&&(U=window.getSelection(),A=document.createRange(),A.setEnd(na.anchorNode,na.anchorOffset),A.collapse(!1),U.removeAllRanges(),U.addRange(A),U.extend(na.focusNode,na.focusOffset)));ma(v.cursorDiv);ma(v.selectionDiv);
v.gutters.style.height=v.sizer.style.minHeight=0;t&&(v.lastWrapHeight=g.wrapperHeight,v.lastWrapWidth=g.wrapperWidth,rd(b,400));v.updateLineNumbers=null;return!0}function Ce(b,g){for(var v=g.viewport,t=!0;;t=!1){if(t&&b.options.lineWrapping&&g.oldDisplayWidth!=Bb(b))t&&(g.visible=C(b.display,b.doc,v));else if(v&&null!=v.top&&(v={top:Math.min(b.doc.height+Aa(b.display)-Ob(b),v.top)}),g.visible=C(b.display,b.doc,v),g.visible.from>=b.display.viewFrom&&g.visible.to<=b.display.viewTo)break;if(!Ud(b,g))break;
h(b);t=Lc(b);Ge(b);Rc(b,t);te(b,t);g.force=!1}g.signal(b,"update",b);if(b.display.viewFrom!=b.display.reportedViewFrom||b.display.viewTo!=b.display.reportedViewTo)g.signal(b,"viewportChange",b,b.display.viewFrom,b.display.viewTo),b.display.reportedViewFrom=b.display.viewFrom,b.display.reportedViewTo=b.display.viewTo}function ee(b,g){g=new eg(b,g);if(Ud(b,g)){h(b);Ce(b,g);var v=Lc(b);Ge(b);Rc(b,v);te(b,v);g.finish()}}function Fe(b,g,v){function t(Yb){var Zb=Yb.nextSibling;Ve&&ff&&b.display.currentWheelTarget==
Yb?Yb.style.display="none":Yb.parentNode.removeChild(Yb);return Zb}var A=b.display,U=b.options.lineNumbers,na=A.lineDiv,ta=na.firstChild,$a=A.view;A=A.viewFrom;for(var ub=0;ub<$a.length;ub++){var Lb=$a[ub];if(!Lb.hidden)if(Lb.node&&Lb.node.parentNode==na){for(;ta!=Lb.node;)ta=t(ta);ta=U&&null!=g&&g<=A&&Lb.lineNumber;Lb.changes&&(-1<va(Lb.changes,"gutter")&&(ta=!1),fc(b,Lb,A,v));ta&&(ma(Lb.lineNumber),Lb.lineNumber.appendChild(document.createTextNode(kb(b.options,A))));ta=Lb.node.nextSibling}else{var qc=
bd(b,Lb,A,v);na.insertBefore(qc,ta)}A+=Lb.size}for(;ta;)ta=t(ta)}function ue(b){b.sizer.style.marginLeft=b.gutters.offsetWidth+"px"}function te(b,g){b.display.sizer.style.minHeight=g.docHeight+"px";b.display.heightForcer.style.top=g.docHeight+"px";b.display.gutters.style.height=g.docHeight+b.display.barHeight+Ra(b)+"px"}function xe(b){var g=b.display,v=g.view;if(g.alignWidgets||g.gutters.firstChild&&b.options.fixedGutter){for(var t=Md(g)-g.scroller.scrollLeft+b.doc.scrollLeft,A=g.gutters.offsetWidth,
U=t+"px",na=0;na<v.length;na++)if(!v[na].hidden){b.options.fixedGutter&&(v[na].gutter&&(v[na].gutter.style.left=U),v[na].gutterBackground&&(v[na].gutterBackground.style.left=U));var ta=v[na].alignable;if(ta)for(var $a=0;$a<ta.length;$a++)ta[$a].style.left=U}b.options.fixedGutter&&(g.gutters.style.left=t+A+"px")}}function Re(b){if(!b.options.lineNumbers)return!1;var g=b.doc;g=kb(b.options,g.first+g.size-1);var v=b.display;if(g.length!=v.lineNumChars){var t=v.measure.appendChild(y("div",[y("div",g)],
"CodeMirror-linenumber CodeMirror-gutter-elt")),A=t.firstChild.offsetWidth;t=t.offsetWidth-A;v.lineGutter.style.width="";v.lineNumInnerWidth=Math.max(A,v.lineGutter.offsetWidth-t)+1;v.lineNumWidth=v.lineNumInnerWidth+t;v.lineNumChars=v.lineNumInnerWidth?g.length:-1;v.lineGutter.style.width=v.lineNumWidth+"px";ue(b.display);return!0}return!1}function Je(b,g){for(var v=[],t=!1,A=0;A<b.length;A++){var U=b[A],na=null;"string"!=typeof U&&(na=U.style,U=U.className);if("CodeMirror-linenumbers"==U)if(g)t=
!0;else continue;v.push({className:U,style:na})}g&&!t&&v.push({className:"CodeMirror-linenumbers",style:null});return v}function ef(b){var g=b.gutters,v=b.gutterSpecs;ma(g);b.lineGutter=null;for(var t=0;t<v.length;++t){var A=v[t],U=A.className;A=A.style;var na=g.appendChild(y("div",null,"CodeMirror-gutter "+U));A&&(na.style.cssText=A);"CodeMirror-linenumbers"==U&&(b.lineGutter=na,na.style.width=(b.lineNumWidth||1)+"px")}g.style.display=v.length?"":"none";ue(b)}function Se(b){ef(b.display);Vd(b);xe(b)}
function Le(b,g,v,t){this.input=v;this.scrollbarFiller=y("div",null,"CodeMirror-scrollbar-filler");this.scrollbarFiller.setAttribute("cm-not-content","true");this.gutterFiller=y("div",null,"CodeMirror-gutter-filler");this.gutterFiller.setAttribute("cm-not-content","true");this.lineDiv=O("div",null,"CodeMirror-code");this.selectionDiv=y("div",null,null,"position: relative; z-index: 1");this.cursorDiv=y("div",null,"CodeMirror-cursors");this.measure=y("div",null,"CodeMirror-measure");this.lineMeasure=
y("div",null,"CodeMirror-measure");this.lineSpace=O("div",[this.measure,this.lineMeasure,this.selectionDiv,this.cursorDiv,this.lineDiv],null,"position: relative; outline: none");var A=O("div",[this.lineSpace],"CodeMirror-lines");this.mover=y("div",[A],null,"position: relative");this.sizer=y("div",[this.mover],"CodeMirror-sizer");this.sizerWidth=null;this.heightForcer=y("div",null,null,"position: absolute; height: 50px; width: 1px;");this.gutters=y("div",null,"CodeMirror-gutters");this.lineGutter=
null;this.scroller=y("div",[this.sizer,this.heightForcer,this.gutters],"CodeMirror-scroll");this.scroller.setAttribute("tabIndex","-1");this.wrapper=y("div",[this.scrollbarFiller,this.gutterFiller,this.scroller],"CodeMirror");Xd&&8>ne&&(this.gutters.style.zIndex=-1,this.scroller.style.paddingRight=0);Ve||nf&&Jf||(this.scroller.draggable=!0);b&&(b.appendChild?b.appendChild(this.wrapper):b(this.wrapper));this.reportedViewFrom=this.reportedViewTo=this.viewFrom=this.viewTo=g.first;this.view=[];this.externalMeasured=
this.renderedView=null;this.lastWrapHeight=this.lastWrapWidth=this.viewOffset=0;this.updateLineNumbers=null;this.nativeBarWidth=this.barHeight=this.barWidth=0;this.scrollbarsClipped=!1;this.lineNumWidth=this.lineNumInnerWidth=this.lineNumChars=null;this.alignWidgets=!1;this.maxLine=this.cachedCharWidth=this.cachedTextHeight=this.cachedPaddingH=null;this.maxLineLength=0;this.maxLineChanged=!1;this.wheelDX=this.wheelDY=this.wheelStartX=this.wheelStartY=null;this.shift=!1;this.activeTouch=this.selForContextMenu=
null;this.gutterSpecs=Je(t.gutters,t.lineNumbers);ef(this);v.init(this)}function ze(b){var g=b.wheelDeltaX,v=b.wheelDeltaY;null==g&&b.detail&&b.axis==b.HORIZONTAL_AXIS&&(g=b.detail);null==v&&b.detail&&b.axis==b.VERTICAL_AXIS?v=b.detail:null==v&&(v=b.wheelDelta);return{x:g,y:v}}function ye(b){b=ze(b);b.x*=cf;b.y*=cf;return b}function Oe(b,g){var v=ze(g),t=v.x;v=v.y;var A=b.display,U=A.scroller,na=U.scrollWidth>U.clientWidth,ta=U.scrollHeight>U.clientHeight;if(t&&na||v&&ta){if(v&&ff&&Ve){na=g.target;
var $a=A.view;a:for(;na!=U;na=na.parentNode)for(var ub=0;ub<$a.length;ub++)if($a[ub].node==na){b.display.currentWheelTarget=na;break a}}!t||nf||gf||null==cf?(v&&null!=cf&&(g=v*cf,ta=b.doc.scrollTop,na=ta+A.wrapper.clientHeight,0>g?ta=Math.max(0,ta+g-50):na=Math.min(b.doc.height,na+g+50),ee(b,{top:ta,bottom:na})),20>fg&&(null==A.wheelStartX?(A.wheelStartX=U.scrollLeft,A.wheelStartY=U.scrollTop,A.wheelDX=t,A.wheelDY=v,setTimeout(function(){if(null!=A.wheelStartX){var Lb=U.scrollLeft-A.wheelStartX,qc=
U.scrollTop-A.wheelStartY;Lb=qc&&A.wheelDY&&qc/A.wheelDY||Lb&&A.wheelDX&&Lb/A.wheelDX;A.wheelStartX=A.wheelStartY=null;Lb&&(cf=(cf*fg+Lb)/(fg+1),++fg)}},200)):(A.wheelDX+=t,A.wheelDY+=v))):(v&&ta&&uc(b,Math.max(0,U.scrollTop+v*cf)),Ic(b,Math.max(0,U.scrollLeft+t*cf)),(!v||v&&ta)&&D(g),A.wheelStartX=null)}}function Ed(b,g,v){b=b&&b.options.selectionsMayTouch;v=g[v];g.sort(function($a,ub){return vb($a.from(),ub.from())});v=va(g,v);for(var t=1;t<g.length;t++){var A=g[t],U=g[t-1],na=vb(U.to(),A.from());
if(b&&!A.empty()?0<na:0<=na){na=hc(U.from(),A.from());var ta=sb(U.to(),A.to());A=U.empty()?A.from()==A.head:U.from()==U.head;t<=v&&--v;g.splice(--t,2,new ae(A?ta:na,A?na:ta))}}return new df(g,v)}function be(b,g){return new df([new ae(b,g||b)],0)}function ve(b){return b.text?Sa(b.from.line+b.text.length-1,qa(b.text).length+(1==b.text.length?b.from.ch:0)):b.to}function zd(b,g){if(0>vb(b,g.from))return b;if(0>=vb(b,g.to))return ve(g);var v=b.line+g.text.length-(g.to.line-g.from.line)-1,t=b.ch;b.line==
g.to.line&&(t+=ve(g).ch-g.to.ch);return Sa(v,t)}function De(b,g){for(var v=[],t=0;t<b.sel.ranges.length;t++){var A=b.sel.ranges[t];v.push(new ae(zd(A.anchor,g),zd(A.head,g)))}return Ed(b.cm,v,b.sel.primIndex)}function E(b,g,v){return b.line==g.line?Sa(v.line,b.ch-g.ch+v.ch):Sa(v.line+(b.line-g.line),b.ch)}function S(b){b.doc.mode=Cb(b.options,b.doc.modeOption);Ka(b)}function Ka(b){b.doc.iter(function(g){g.stateAfter&&(g.stateAfter=null);g.styles&&(g.styles=null)});b.doc.modeFrontier=b.doc.highlightFrontier=
b.doc.first;rd(b,100);b.state.modeGen++;b.curOp&&Vd(b)}function pb(b,g){return 0==g.from.ch&&0==g.to.ch&&""==qa(g.text)&&(!b.cm||b.cm.options.wholeLineUpdateBefore)}function bc(b,g,v,t){function A(Jc,id,Gd){Jc.text=id;Jc.stateAfter&&(Jc.stateAfter=null);Jc.styles&&(Jc.styles=null);null!=Jc.order&&(Jc.order=null);Ia(Jc);mb(Jc,Gd);id=t?t(Jc):1;id!=Jc.height&&Za(Jc,id);ic(Jc,"change",Jc,g)}function U(Jc,id){for(var Gd=[];Jc<id;++Jc)Gd.push(new Cf($a[Jc],v?v[Jc]:null,t));return Gd}var na=g.from,ta=g.to,
$a=g.text,ub=Pa(b,na.line),Lb=Pa(b,ta.line),qc=qa($a),Yb=v?v[$a.length-1]:null,Zb=ta.line-na.line;g.full?(b.insert(0,U(0,$a.length)),b.remove($a.length,b.size-$a.length)):pb(b,g)?(ta=U(0,$a.length-1),A(Lb,Lb.text,Yb),Zb&&b.remove(na.line,Zb),ta.length&&b.insert(na.line,ta)):ub==Lb?1==$a.length?A(ub,ub.text.slice(0,na.ch)+qc+ub.text.slice(ta.ch),Yb):(Zb=U(1,$a.length-1),Zb.push(new Cf(qc+ub.text.slice(ta.ch),Yb,t)),A(ub,ub.text.slice(0,na.ch)+$a[0],v?v[0]:null),b.insert(na.line+1,Zb)):1==$a.length?
(A(ub,ub.text.slice(0,na.ch)+$a[0]+Lb.text.slice(ta.ch),v?v[0]:null),b.remove(na.line+1,Zb)):(A(ub,ub.text.slice(0,na.ch)+$a[0],v?v[0]:null),A(Lb,qc+Lb.text.slice(ta.ch),Yb),Yb=U(1,$a.length-1),1<Zb&&b.remove(na.line+1,Zb-1),b.insert(na.line+1,Yb));ic(b,"change",b,g)}function Cc(b,g,v){function t(A,U,na){if(A.linked)for(var ta=0;ta<A.linked.length;++ta){var $a=A.linked[ta];if($a.doc!=U){var ub=na&&$a.sharedHist;if(!v||ub)g($a.doc,ub),t($a.doc,A,ub)}}}t(b,null,!0)}function Qc(b,g){if(g.cm)throw Error("This document is already in use.");
b.doc=g;g.cm=b;Fd(b);S(b);sd(b);b.options.lineWrapping||Ld(b);b.options.mode=g.modeOption;Vd(b)}function sd(b){("rtl"==b.doc.direction?ua:vf)(b.display.lineDiv,"CodeMirror-rtl")}function Bd(b){fd(b,function(){sd(b);Vd(b)})}function nd(b){this.done=[];this.undone=[];this.undoDepth=Infinity;this.lastModTime=this.lastSelTime=0;this.lastOrigin=this.lastSelOrigin=this.lastOp=this.lastSelOp=null;this.generation=this.maxGeneration=b||1}function Rd(b,g){var v={from:nb(g.from),to:ve(g),text:ja(b,g.from,g.to)};
Ad(b,v,g.from.line,g.to.line+1);Cc(b,function(t){return Ad(t,v,g.from.line,g.to.line+1)},!0);return v}function Ie(b){for(;b.length;)if(qa(b).ranges)b.pop();else break}function He(b,g,v,t){var A=b.history;A.undone.length=0;var U=+new Date,na;if(na=A.lastOp==t||A.lastOrigin==g.origin&&g.origin&&("+"==g.origin.charAt(0)&&A.lastModTime>U-(b.cm?b.cm.options.historyEventDelay:500)||"*"==g.origin.charAt(0))){if(A.lastOp==t){Ie(A.done);var ta=qa(A.done)}else A.done.length&&!qa(A.done).ranges?ta=qa(A.done):
1<A.done.length&&!A.done[A.done.length-2].ranges?(A.done.pop(),ta=qa(A.done)):ta=void 0;na=ta}if(na){var $a=qa(ta.changes);0==vb(g.from,g.to)&&0==vb(g.from,$a.to)?$a.to=ve(g):ta.changes.push(Rd(b,g))}else for((ta=qa(A.done))&&ta.ranges||we(b.sel,A.done),ta={changes:[Rd(b,g)],generation:A.generation},A.done.push(ta);A.done.length>A.undoDepth;)A.done.shift(),A.done[0].ranges||A.done.shift();A.done.push(v);A.generation=++A.maxGeneration;A.lastModTime=A.lastSelTime=U;A.lastOp=A.lastSelOp=t;A.lastOrigin=
A.lastSelOrigin=g.origin;$a||G(b,"historyAdded")}function we(b,g){var v=qa(g);v&&v.ranges&&v.equals(b)||g.push(b)}function Ad(b,g,v,t){var A=g["spans_"+b.id],U=0;b.iter(Math.max(b.first,v),Math.min(b.first+b.size,t),function(na){na.markedSpans&&((A||(A=g["spans_"+b.id]={}))[U]=na.markedSpans);++U})}function hf(b){if(!b)return null;for(var g,v=0;v<b.length;++v)b[v].marker.explicitlyCleared?g||(g=b.slice(0,v)):g&&g.push(b[v]);return g?g.length?g:null:b}function oe(b,g){var v;if(v=g["spans_"+b.id]){for(var t=
[],A=0;A<g.text.length;++A)t.push(hf(v[A]));v=t}else v=null;b=gb(b,g);if(!v)return b;if(!b)return v;for(g=0;g<v.length;++g)if(t=v[g],A=b[g],t&&A){var U=0;a:for(;U<A.length;++U){for(var na=A[U],ta=0;ta<t.length;++ta)if(t[ta].marker==na.marker)continue a;t.push(na)}}else A&&(v[g]=A);return v}function Te(b,g,v){for(var t=[],A=0;A<b.length;++A){var U=b[A];if(U.ranges)t.push(v?df.prototype.deepCopy.call(U):U);else{U=U.changes;var na=[];t.push({changes:na});for(var ta=0;ta<U.length;++ta){var $a=U[ta],ub;
na.push({from:$a.from,to:$a.to,text:$a.text});if(g)for(var Lb in $a)(ub=Lb.match(/^spans_(\d+)$/))&&-1<va(g,Number(ub[1]))&&(qa(na)[Lb]=$a[Lb],delete $a[Lb])}}}return t}function Cd(b,g,v,t){return t?(b=b.anchor,v&&(t=0>vb(g,b),t!=0>vb(v,b)?(b=g,g=v):t!=0>vb(g,v)&&(g=v)),new ae(b,g)):new ae(v||g,g)}function Me(b,g,v,t,A){null==A&&(A=b.cm&&(b.cm.display.shift||b.extend));Fb(b,new df([Cd(b.sel.primary(),g,v,A)],0),t)}function Ue(b,g,v){for(var t=[],A=b.cm&&(b.cm.display.shift||b.extend),U=0;U<b.sel.ranges.length;U++)t[U]=
Cd(b.sel.ranges[U],g[U],null,A);g=Ed(b.cm,t,b.sel.primIndex);Fb(b,g,v)}function Ne(b,g,v,t){var A=b.sel.ranges.slice(0);A[g]=v;Fb(b,Ed(b.cm,A,b.sel.primIndex),t)}function yb(b,g,v){v={ranges:g.ranges,update:function(t){this.ranges=[];for(var A=0;A<t.length;A++)this.ranges[A]=new ae(Nb(b,t[A].anchor),Nb(b,t[A].head))},origin:v&&v.origin};G(b,"beforeSelectionChange",b,v);b.cm&&G(b.cm,"beforeSelectionChange",b.cm,v);return v.ranges!=g.ranges?Ed(b.cm,v.ranges,v.ranges.length-1):g}function Rb(b,g,v){var t=
b.history.done,A=qa(t);A&&A.ranges?(t[t.length-1]=g,rc(b,g,v)):Fb(b,g,v)}function Fb(b,g,v){rc(b,g,v);g=b.sel;var t=b.cm?b.cm.curOp.id:NaN,A=b.history,U=v&&v.origin,na;if(!(na=t==A.lastSelOp)&&(na=U&&A.lastSelOrigin==U)&&!(na=A.lastModTime==A.lastSelTime&&A.lastOrigin==U)){na=qa(A.done);var ta=U.charAt(0);na="*"==ta||"+"==ta&&na.ranges.length==g.ranges.length&&na.somethingSelected()==g.somethingSelected()&&new Date-b.history.lastSelTime<=(b.cm?b.cm.options.historyEventDelay:500)}na?A.done[A.done.length-
1]=g:we(g,A.done);A.lastSelTime=+new Date;A.lastSelOrigin=U;A.lastSelOp=t;v&&!1!==v.clearRedo&&Ie(A.undone)}function rc(b,g,v){if(ha(b,"beforeSelectionChange")||b.cm&&ha(b.cm,"beforeSelectionChange"))g=yb(b,g,v);var t=v&&v.bias||(0>vb(g.primary().head,b.sel.primary().head)?-1:1);Kc(b,Ca(b,g,t,!0));v&&!1===v.scroll||!b.cm||eb(b.cm)}function Kc(b,g){g.equals(b.sel)||(b.sel=g,b.cm&&(b.cm.curOp.updateInput=1,b.cm.curOp.selectionChanged=!0,R(b.cm)),ic(b,"cursorActivity",b))}function fa(b){Kc(b,Ca(b,b.sel,
null,!1))}function Ca(b,g,v,t){for(var A,U=0;U<g.ranges.length;U++){var na=g.ranges[U],ta=g.ranges.length==b.sel.ranges.length&&b.sel.ranges[U],$a=db(b,na.anchor,ta&&ta.anchor,v,t);ta=db(b,na.head,ta&&ta.head,v,t);if(A||$a!=na.anchor||ta!=na.head)A||(A=g.ranges.slice(0,U)),A[U]=new ae($a,ta)}return A?Ed(b.cm,A,g.primIndex):g}function Xa(b,g,v,t,A){var U=Pa(b,g.line);if(U.markedSpans)for(var na=0;na<U.markedSpans.length;++na){var ta=U.markedSpans[na],$a=ta.marker,ub="selectLeft"in $a?!$a.selectLeft:
$a.inclusiveLeft,Lb="selectRight"in $a?!$a.selectRight:$a.inclusiveRight;if((null==ta.from||(ub?ta.from<=g.ch:ta.from<g.ch))&&(null==ta.to||(Lb?ta.to>=g.ch:ta.to>g.ch))){if(A&&(G($a,"beforeCursorEnter"),$a.explicitlyCleared))if(U.markedSpans){--na;continue}else break;if($a.atomic){if(v){na=$a.find(0>t?1:-1);ta=void 0;if(0>t?Lb:ub)na=c(b,na,-t,na&&na.line==g.line?U:null);if(na&&na.line==g.line&&(ta=vb(na,v))&&(0>t?0>ta:0<ta))return Xa(b,na,g,t,A)}v=$a.find(0>t?-1:1);if(0>t?ub:Lb)v=c(b,v,t,v.line==
g.line?U:null);return v?Xa(b,v,g,t,A):null}}}return g}function db(b,g,v,t,A){t=t||1;g=Xa(b,g,v,t,A)||!A&&Xa(b,g,v,t,!0)||Xa(b,g,v,-t,A)||!A&&Xa(b,g,v,-t,!0);return g?g:(b.cantEdit=!0,Sa(b.first,0))}function c(b,g,v,t){return 0>v&&0==g.ch?g.line>b.first?Nb(b,Sa(g.line-1)):null:0<v&&g.ch==(t||Pa(b,g.line)).text.length?g.line<b.first+b.size-1?Sa(g.line+1,0):null:new Sa(g.line,g.ch+v)}function n(b){b.setSelection(Sa(b.firstLine(),0),Sa(b.lastLine()),kf)}function I(b,g,v){var t={canceled:!1,from:g.from,
to:g.to,text:g.text,origin:g.origin,cancel:function(){return t.canceled=!0}};v&&(t.update=function(A,U,na,ta){A&&(t.from=Nb(b,A));U&&(t.to=Nb(b,U));na&&(t.text=na);void 0!==ta&&(t.origin=ta)});G(b,"beforeChange",b,t);b.cm&&G(b.cm,"beforeChange",b.cm,t);return t.canceled?(b.cm&&(b.cm.curOp.updateInput=2),null):{from:t.from,to:t.to,text:t.text,origin:t.origin}}function ba(b,g,v){if(b.cm){if(!b.cm.curOp)return ed(b.cm,ba)(b,g,v);if(b.cm.state.suppressEdits)return}if(ha(b,"beforeChange")||b.cm&&ha(b.cm,
"beforeChange"))if(g=I(b,g,!0),!g)return;if(v=Hg&&!v&&cb(b,g.from,g.to))for(var t=v.length-1;0<=t;--t)wa(b,{from:v[t].from,to:v[t].to,text:t?[""]:g.text,origin:g.origin});else wa(b,g)}function wa(b,g){if(1!=g.text.length||""!=g.text[0]||0!=vb(g.from,g.to)){var v=De(b,g);He(b,g,v,b.cm?b.cm.curOp.id:NaN);Jb(b,g,v,gb(b,g));var t=[];Cc(b,function(A,U){U||-1!=va(t,A.history)||(qd(A.history,g),t.push(A.history));Jb(A,g,null,gb(A,g))})}}function rb(b,g,v){var t=b.cm&&b.cm.state.suppressEdits;if(!t||v){for(var A=
b.history,U,na=b.sel,ta="undo"==g?A.done:A.undone,$a="undo"==g?A.undone:A.done,ub=0;ub<ta.length&&(U=ta[ub],v?!U.ranges||U.equals(b.sel):U.ranges);ub++);if(ub!=ta.length){for(A.lastOrigin=A.lastSelOrigin=null;;)if(U=ta.pop(),U.ranges){we(U,$a);if(v&&!U.equals(b.sel)){Fb(b,U,{clearRedo:!1});return}na=U}else{if(t){ta.push(U);return}break}var Lb=[];we(na,$a);$a.push({changes:Lb,generation:A.generation});A.generation=U.generation||++A.maxGeneration;var qc=ha(b,"beforeChange")||b.cm&&ha(b.cm,"beforeChange");
v=function(Yb){var Zb=U.changes[Yb];Zb.origin=g;if(qc&&!I(b,Zb,!1))return ta.length=0,{};Lb.push(Rd(b,Zb));var Jc=Yb?De(b,Zb):qa(ta);Jb(b,Zb,Jc,oe(b,Zb));!Yb&&b.cm&&b.cm.scrollIntoView({from:Zb.from,to:ve(Zb)});var id=[];Cc(b,function(Gd,Yd){Yd||-1!=va(id,Gd.history)||(qd(Gd.history,Zb),id.push(Gd.history));Jb(Gd,Zb,null,oe(Gd,Zb))})};for(t=U.changes.length-1;0<=t;--t)if(A=v(t))return A.v}}}function Ab(b,g){if(0!=g&&(b.first+=g,b.sel=new df(ya(b.sel.ranges,function(A){return new ae(Sa(A.anchor.line+
g,A.anchor.ch),Sa(A.head.line+g,A.head.ch))}),b.sel.primIndex),b.cm)){Vd(b.cm,b.first,b.first-g,g);for(var v=b.cm.display,t=v.viewFrom;t<v.viewTo;t++)qe(b.cm,t,"gutter")}}function Jb(b,g,v,t){if(b.cm&&!b.cm.curOp)return ed(b.cm,Jb)(b,g,v,t);if(g.to.line<b.first)Ab(b,g.text.length-1-(g.to.line-g.from.line));else if(!(g.from.line>b.lastLine())){if(g.from.line<b.first){var A=g.text.length-1-(b.first-g.from.line);Ab(b,A);g={from:Sa(b.first,0),to:Sa(g.to.line+A,g.to.ch),text:[qa(g.text)],origin:g.origin}}A=
b.lastLine();g.to.line>A&&(g={from:g.from,to:Sa(A,Pa(b,A).text.length),text:[g.text[0]],origin:g.origin});g.removed=ja(b,g.from,g.to);v||(v=De(b,g));b.cm?Qb(b.cm,g,t):bc(b,g,t);rc(b,v,kf);b.cantEdit&&db(b,Sa(b.firstLine(),0))&&(b.cantEdit=!1)}}function Qb(b,g,v){var t=b.doc,A=b.display,U=g.from,na=g.to,ta=!1,$a=U.line;b.options.lineWrapping||($a=qb(Ec(Pa(t,U.line))),t.iter($a,na.line+1,function(ub){if(ub==A.maxLine)return ta=!0}));-1<t.sel.contains(g.from,g.to)&&R(b);bc(t,g,v,vd(b));b.options.lineWrapping||
(t.iter($a,U.line+g.text.length,function(ub){var Lb=ge(ub);Lb>A.maxLineLength&&(A.maxLine=ub,A.maxLineLength=Lb,A.maxLineChanged=!0,ta=!1)}),ta&&(b.curOp.updateMaxLine=!0));Wb(t,U.line);rd(b,400);v=g.text.length-(na.line-U.line)-1;g.full?Vd(b):U.line!=na.line||1!=g.text.length||pb(b.doc,g)?Vd(b,U.line,na.line+1,v):qe(b,U.line,"text");v=ha(b,"changes");if((t=ha(b,"change"))||v)g={from:U,to:na,text:g.text,removed:g.removed,origin:g.origin},t&&ic(b,"change",b,g),v&&(b.curOp.changeObjs||(b.curOp.changeObjs=
[])).push(g);b.display.selForContextMenu=null}function Ac(b,g,v,t,A){t||(t=v);0>vb(t,v)&&(t=[t,v],v=t[0],t=t[1]);"string"==typeof g&&(g=b.splitLines(g));ba(b,{from:v,to:t,text:g,origin:A})}function Oc(b,g,v,t){v<b.line?b.line+=t:g<b.line&&(b.line=g,b.ch=0)}function Sc(b,g,v,t){for(var A=0;A<b.length;++A){var U=b[A],na=!0;if(U.ranges)for(U.copied||(U=b[A]=U.deepCopy(),U.copied=!0),na=0;na<U.ranges.length;na++)Oc(U.ranges[na].anchor,g,v,t),Oc(U.ranges[na].head,g,v,t);else{for(var ta=0;ta<U.changes.length;++ta){var $a=
U.changes[ta];if(v<$a.from.line)$a.from=Sa($a.from.line+t,$a.from.ch),$a.to=Sa($a.to.line+t,$a.to.ch);else if(g<=$a.to.line){na=!1;break}}na||(b.splice(0,A+1),A=0)}}}function qd(b,g){var v=g.from.line,t=g.to.line;g=g.text.length-(t-v)-1;Sc(b.done,v,t,g);Sc(b.undone,v,t,g)}function od(b,g,v,t){var A=g,U=g;"number"==typeof g?U=Pa(b,Math.max(b.first,Math.min(g,b.first+b.size-1))):A=qb(g);if(null==A)return null;t(U,A)&&b.cm&&qe(b.cm,A,v);return U}function md(b){this.lines=b;this.parent=null;for(var g=
0,v=0;v<b.length;++v)b[v].parent=this,g+=b[v].height;this.height=g}function ad(b){this.children=b;for(var g=0,v=0,t=0;t<b.length;++t){var A=b[t];g+=A.chunkSize();v+=A.height;A.parent=this}this.size=g;this.height=v;this.parent=null}function Xc(b,g,v,t){var A=new Kf(b,v,t),U=b.cm;U&&A.noHScroll&&(U.display.alignWidgets=!0);od(b,g,"widget",function(na){var ta=na.widgets||(na.widgets=[]);null==A.insertAt?ta.push(A):ta.splice(Math.min(ta.length-1,Math.max(0,A.insertAt)),0,A);A.line=na;U&&!Yc(b,na)&&(ta=
Wd(na)<b.scrollTop,Za(na,na.height+M(A)),ta&&za(U,A.height),U.curOp.forceUpdate=!0);return!0});U&&ic(U,"lineWidgetAdded",U,A,"number"==typeof g?g:qb(g));return A}function kd(b,g,v,t,A){if(t&&t.shared)return Od(b,g,v,t,A);if(b.cm&&!b.cm.curOp)return ed(b.cm,kd)(b,g,v,t,A);var U=new of(b,A);A=vb(g,v);t&&P(t,U,!1);if(0<A||0==A&&!1!==U.clearWhenEmpty)return U;U.replacedWith&&(U.collapsed=!0,U.widgetNode=O("span",[U.replacedWith],"CodeMirror-widget"),t.handleMouseEvents||U.widgetNode.setAttribute("cm-ignore-events",
"true"),t.insertLeft&&(U.widgetNode.insertLeft=!0));if(U.collapsed){if(tc(b,g.line,g,v,U)||g.line!=v.line&&tc(b,v.line,g,v,U))throw Error("Inserting collapsed marker partially overlapping an existing one");mf=!0}U.addToHistory&&He(b,{from:g,to:v,origin:"markText"},b.sel,NaN);var na=g.line,ta=b.cm,$a;b.iter(na,v.line+1,function(ub){ta&&U.collapsed&&!ta.options.lineWrapping&&Ec(ub)==ta.display.maxLine&&($a=!0);U.collapsed&&na!=g.line&&Za(ub,0);var Lb=new Ub(U,na==g.line?g.ch:null,na==v.line?v.ch:null);
ub.markedSpans=ub.markedSpans?ub.markedSpans.concat([Lb]):[Lb];Lb.marker.attachLine(ub);++na});U.collapsed&&b.iter(g.line,v.line+1,function(ub){Yc(b,ub)&&Za(ub,0)});U.clearOnEnter&&xd(U,"beforeCursorEnter",function(){return U.clear()});U.readOnly&&(Hg=!0,(b.history.done.length||b.history.undone.length)&&b.clearHistory());U.collapsed&&(U.id=++Ig,U.atomic=!0);if(ta){$a&&(ta.curOp.updateMaxLine=!0);if(U.collapsed)Vd(ta,g.line,v.line+1);else if(U.className||U.startStyle||U.endStyle||U.css||U.attributes||
U.title)for(t=g.line;t<=v.line;t++)qe(ta,t,"text");U.atomic&&fa(ta.doc);ic(ta,"markerAdded",ta,U)}return U}function Od(b,g,v,t,A){t=P(t);t.shared=!1;var U=[kd(b,g,v,t,A)],na=U[0],ta=t.widgetNode;Cc(b,function($a){ta&&(t.widgetNode=ta.cloneNode(!0));U.push(kd($a,Nb($a,g),Nb($a,v),t,A));for(var ub=0;ub<$a.linked.length;++ub)if($a.linked[ub].isParent)return;na=qa(U)});return new Lf(U,na)}function wd(b){return b.findMarks(Sa(b.first,0),b.clipPos(Sa(b.lastLine())),function(g){return g.parent})}function $d(b){for(var g=
function(t){t=b[t];var A=[t.primary.doc];Cc(t.primary.doc,function(ta){return A.push(ta)});for(var U=0;U<t.markers.length;U++){var na=t.markers[U];-1==va(A,na.doc)&&(na.parent=null,t.markers.splice(U--,1))}},v=0;v<b.length;v++)g(v)}function Hd(b){var g=this;Kd(g);if(!H(g,b)&&!da(g.display,b)){D(b);Xd&&(Jg=+new Date);var v=Td(g,b,!0),t=b.dataTransfer.files;if(v&&!g.isReadOnly())if(t&&t.length&&window.FileReader&&window.File)for(var A=t.length,U=Array(A),na=0,ta=function(){++na==A&&ed(g,function(){v=
Nb(g.doc,v);var Lb={from:v,to:v,text:g.doc.splitLines(U.filter(function(qc){return null!=qc}).join(g.doc.lineSeparator())),origin:"paste"};ba(g.doc,Lb);Rb(g.doc,be(Nb(g.doc,v),Nb(g.doc,ve(Lb))))})()},$a=function(Lb,qc){if(g.options.allowDropFileTypes&&-1==va(g.options.allowDropFileTypes,Lb.type))ta();else{var Yb=new FileReader;Yb.onerror=function(){return ta()};Yb.onload=function(){var Zb=Yb.result;/[\x00-\x08\x0e-\x1f]{2}/.test(Zb)||(U[qc]=Zb);ta()};Yb.readAsText(Lb)}},ub=0;ub<t.length;ub++)$a(t[ub],
ub);else if(g.state.draggingText&&-1<g.doc.sel.contains(v))g.state.draggingText(b),setTimeout(function(){return g.display.input.focus()},20);else try{if($a=b.dataTransfer.getData("Text")){g.state.draggingText&&!g.state.draggingText.copy&&(ub=g.listSelections());rc(g.doc,be(v,v));if(ub)for(t=0;t<ub.length;++t)Ac(g.doc,"",ub[t].anchor,ub[t].head,"drag");g.replaceSelection($a,"around","paste");g.display.input.focus()}}catch(Lb){}}}function Kd(b){b.display.dragCursor&&(b.display.lineSpace.removeChild(b.display.dragCursor),
b.display.dragCursor=null)}function Ae(b){if(document.getElementsByClassName){for(var g=document.getElementsByClassName("CodeMirror"),v=[],t=0;t<g.length;t++){var A=g[t].CodeMirror;A&&v.push(A)}v.length&&v[0].operation(function(){for(var U=0;U<v.length;U++)b(v[U])})}}function Xe(){var b;xd(window,"resize",function(){null==b&&(b=setTimeout(function(){b=null;Ae(Qe)},100))});xd(window,"blur",function(){return Ae(e)})}function Qe(b){var g=b.display;g.cachedCharWidth=g.cachedTextHeight=g.cachedPaddingH=
null;g.scrollbarsClipped=!1;b.setSize()}function wf(b){var g=b.split(/-(?!$)/);b=g[g.length-1];for(var v,t,A,U,na=0;na<g.length-1;na++){var ta=g[na];if(/^(cmd|meta|m)$/i.test(ta))U=!0;else if(/^a(lt)?$/i.test(ta))v=!0;else if(/^(c|ctrl|control)$/i.test(ta))t=!0;else if(/^s(hift)?$/i.test(ta))A=!0;else throw Error("Unrecognized modifier name: "+ta);}v&&(b="Alt-"+b);t&&(b="Ctrl-"+b);U&&(b="Cmd-"+b);A&&(b="Shift-"+b);return b}function hd(b){var g={},v;for(v in b)if(b.hasOwnProperty(v)){var t=b[v];if(!/^(name|fallthrough|(de|at)tach)$/.test(v)){if("..."!=
t)for(var A=ya(v.split(" "),wf),U=0;U<A.length;U++){if(U==A.length-1){var na=A.join(" ");var ta=t}else na=A.slice(0,U+1).join(" "),ta="...";var $a=g[na];if(!$a)g[na]=ta;else if($a!=ta)throw Error("Inconsistent bindings for "+na);}delete b[v]}}for(var ub in g)b[ub]=g[ub];return b}function re(b,g,v,t){g=gg(g);var A=g.call?g.call(b,t):g[b];if(!1===A)return"nothing";if("..."===A)return"multi";if(null!=A&&v(A))return"handled";if(g.fallthrough){if("[object Array]"!=Object.prototype.toString.call(g.fallthrough))return re(b,
g.fallthrough,v,t);for(A=0;A<g.fallthrough.length;A++){var U=re(b,g.fallthrough[A],v,t);if(U)return U}}}function lf(b){b="string"==typeof b?b:pf[b.keyCode];return"Ctrl"==b||"Alt"==b||"Shift"==b||"Mod"==b}function qf(b,g,v){var t=b;g.altKey&&"Alt"!=t&&(b="Alt-"+b);(Kg?g.metaKey:g.ctrlKey)&&"Ctrl"!=t&&(b="Ctrl-"+b);(Kg?g.ctrlKey:g.metaKey)&&"Mod"!=t&&(b="Cmd-"+b);!v&&g.shiftKey&&"Shift"!=t&&(b="Shift-"+b);return b}function Lg(b,g){if(gf&&34==b.keyCode&&b["char"])return!1;var v=pf[b.keyCode];if(null==
v||b.altGraphKey)return!1;3==b.keyCode&&b.code&&(v=b.code);return qf(v,b,g)}function gg(b){return"string"==typeof b?Mf[b]:b}function Df(b,g){for(var v=b.doc.sel.ranges,t=[],A=0;A<v.length;A++){for(var U=g(v[A]);t.length&&0>=vb(U.from,qa(t).to);){var na=t.pop();if(0>vb(na.from,U.from)){U.from=na.from;break}}t.push(U)}fd(b,function(){for(var ta=t.length-1;0<=ta;ta--)Ac(b.doc,"",t[ta].from,t[ta].to,"+delete");eb(b)})}function sg(b,g,v){g=d(b.text,g+v,v);return 0>g||g>b.text.length?null:g}function tg(b,
g,v){b=sg(b,g.ch,v);return null==b?null:new Sa(g.line,b,0>v?"after":"before")}function ug(b,g,v,t,A){if(b&&("rtl"==g.doc.direction&&(A=-A),b=w(v,g.doc.direction))){b=0>A?qa(b):b[0];var U=0>A==(1==b.level)?"after":"before";if(0<b.level||"rtl"==g.doc.direction){var na=mc(g,v);var ta=0>A?v.text.length-1:0;var $a=K(g,na,ta).top;ta=f(function(ub){return K(g,na,ub).top==$a},0>A==(1==b.level)?b.from:b.to-1,ta);"before"==U&&(ta=sg(v,ta,1))}else ta=0>A?b.to:b.from;return new Sa(t,ta,U)}return new Sa(t,0>A?
v.text.length:0,0>A?"before":"after")}function ph(b,g,v,t){var A=w(g,b.doc.direction);if(!A)return tg(g,v,t);v.ch>=g.text.length?(v.ch=g.text.length,v.sticky="before"):0>=v.ch&&(v.ch=0,v.sticky="after");var U=q(A,v.ch,v.sticky),na=A[U];if("ltr"==b.doc.direction&&0==na.level%2&&(0<t?na.to>v.ch:na.from<v.ch))return tg(g,v,t);var ta=function(Zb,Jc){return sg(g,Zb instanceof Sa?Zb.ch:Zb,Jc)},$a,ub=function(Zb){if(!b.options.lineWrapping)return{begin:0,end:g.text.length};$a=$a||mc(b,g);return gd(b,g,$a,
Zb)},Lb=ub("before"==v.sticky?ta(v,-1):v.ch);if("rtl"==b.doc.direction||1==na.level){var qc=1==na.level==0>t,Yb=ta(v,qc?1:-1);if(null!=Yb&&(qc?Yb<=na.to&&Yb<=Lb.end:Yb>=na.from&&Yb>=Lb.begin))return new Sa(v.line,Yb,qc?"before":"after")}na=function(Zb,Jc,id){for(var Gd=function(ce,ie){return ie?new Sa(v.line,ta(ce,1),"before"):new Sa(v.line,ce,"after")};0<=Zb&&Zb<A.length;Zb+=Jc){var Yd=A[Zb],td=0<Jc==(1!=Yd.level),he=td?id.begin:ta(id.end,-1);if(Yd.from<=he&&he<Yd.to)return Gd(he,td);he=td?Yd.from:
ta(Yd.to,-1);if(id.begin<=he&&he<id.end)return Gd(he,td)}};if(U=na(U+t,t,Lb))return U;Lb=0<t?Lb.end:ta(Lb.begin,-1);return null==Lb||0<t&&Lb==g.text.length||!(U=na(0<t?0:A.length-1,t,ub(Lb)))?null:U}function Mg(b,g){var v=Pa(b.doc,g),t=Ec(v);t!=v&&(g=qb(t));return ug(!0,b,t,g,1)}function Ng(b,g){var v=Mg(b,g.line),t=Pa(b.doc,v.line);b=w(t,b.doc.direction);return b&&0!=b[0].level?v:(t=Math.max(v.ch,t.text.search(/\S/)),Sa(v.line,g.line==v.line&&g.ch<=t&&g.ch?0:t,v.sticky))}function hg(b,g,v){if("string"==
typeof g&&(g=Nf[g],!g))return!1;b.display.input.ensurePolled();var t=b.display.shift,A=!1;try{b.isReadOnly()&&(b.state.suppressEdits=!0),v&&(b.display.shift=!1),A=g(b)!=ig}finally{b.display.shift=t,b.state.suppressEdits=!1}return A}function Of(b,g,v,t){var A=b.state.keySeq;if(A){if(lf(g))return"handled";/'$/.test(g)?b.state.keySeq=null:qh.set(50,function(){b.state.keySeq==A&&(b.state.keySeq=null,b.display.input.reset())});if(Og(b,A+" "+g,v,t))return!0}return Og(b,g,v,t)}function Og(b,g,v,t){a:{for(var A=
0;A<b.state.keyMaps.length;A++){var U=re(g,b.state.keyMaps[A],t,b);if(U){t=U;break a}}t=b.options.extraKeys&&re(g,b.options.extraKeys,t,b)||re(g,b.options.keyMap,t,b)}"multi"==t&&(b.state.keySeq=g);"handled"==t&&ic(b,"keyHandled",b,g,v);if("handled"==t||"multi"==t)D(v),ab(b);return!!t}function Pg(b,g){var v=Lg(g,!0);return v?g.shiftKey&&!b.state.keySeq?Of(b,"Shift-"+v,g,function(t){return hg(b,t,!0)})||Of(b,v,g,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return hg(b,t)}):Of(b,v,
g,function(t){return hg(b,t)}):!1}function rh(b,g,v){return Of(b,"'"+v+"'",g,function(t){return hg(b,t,!0)})}function Qg(b){if(!b.target||b.target==this.display.input.getField())if(this.curOp.focus=la(),!H(this,b)){Xd&&11>ne&&27==b.keyCode&&(b.returnValue=!1);var g=b.keyCode;this.display.shift=16==g||b.shiftKey;var v=Pg(this,b);gf&&(vg=v?g:null,!v&&88==g&&!sh&&(ff?b.metaKey:b.ctrlKey)&&this.replaceSelection("",null,"cut"));nf&&!ff&&!v&&46==g&&b.shiftKey&&!b.ctrlKey&&document.execCommand&&document.execCommand("cut");
18!=g||/\bCodeMirror-crosshair\b/.test(this.display.lineDiv.className)||th(this)}}function th(b){function g(t){18!=t.keyCode&&t.altKey||(vf(v,"CodeMirror-crosshair"),z(document,"keyup",g),z(document,"mouseover",g))}var v=b.display.lineDiv;ua(v,"CodeMirror-crosshair");xd(document,"keyup",g);xd(document,"mouseover",g)}function Rg(b){16==b.keyCode&&(this.doc.sel.shift=!1);H(this,b)}function Sg(b){if(!(b.target&&b.target!=this.display.input.getField()||da(this.display,b)||H(this,b)||b.ctrlKey&&!b.altKey||
ff&&b.metaKey)){var g=b.keyCode,v=b.charCode;if(gf&&g==vg)vg=null,D(b);else if(!gf||b.which&&!(10>b.which)||!Pg(this,b))if(g=String.fromCharCode(null==v?g:v),"\b"!=g&&!rh(this,b,g))this.display.input.onKeyPress(b)}}function uh(b,g){var v=+new Date;if(Pf&&Pf.compare(v,b,g))return Qf=Pf=null,"triple";if(Qf&&Qf.compare(v,b,g))return Pf=new wg(v,b,g),Qf=null,"double";Qf=new wg(v,b,g);Pf=null;return"single"}function Tg(b){var g=this.display;if(!(H(this,b)||g.activeTouch&&g.input.supportsTouch()))if(g.input.ensurePolled(),
g.shift=b.shiftKey,da(g,b))Ve||(g.scroller.draggable=!1,setTimeout(function(){return g.scroller.draggable=!0},100));else if(!jg(this,b,"gutterClick",!0)){var v=Td(this,b),t=Ga(b),A=v?uh(v,t):"single";window.focus();1==t&&this.state.selectingText&&this.state.selectingText(b);if(!v||!vh(this,t,v,A,b))if(1==t)v?wh(this,v,A,b):(b.target||b.srcElement)==g.scroller&&D(b);else if(2==t)v&&Me(this.doc,v),setTimeout(function(){return g.input.focus()},20);else if(3==t)if(xg)this.display.input.onContextMenu(b);
else N(this)}}function vh(b,g,v,t,A){var U="Click";"double"==t?U="Double"+U:"triple"==t&&(U="Triple"+U);return Of(b,qf((1==g?"Left":2==g?"Middle":"Right")+U,A),A,function(na){"string"==typeof na&&(na=Nf[na]);if(!na)return!1;var ta=!1;try{b.isReadOnly()&&(b.state.suppressEdits=!0),ta=na(b,v)!=ig}finally{b.state.suppressEdits=!1}return ta})}function wh(b,g,v,t){Xd?setTimeout(ka(ob,b),0):b.curOp.focus=la();var A=b.getOption("configureMouse");A=A?A(b,v,t):{};null==A.unit&&(A.unit=(xh?t.shiftKey&&t.metaKey:
t.altKey)?"rectangle":"single"==v?"char":"double"==v?"word":"line");if(null==A.extend||b.doc.extend)A.extend=b.doc.extend||t.shiftKey;null==A.addNew&&(A.addNew=ff?t.metaKey:t.ctrlKey);null==A.moveOnDrag&&(A.moveOnDrag=!(ff?t.altKey:t.ctrlKey));var U=b.doc.sel,na;b.options.dragDrop&&yh&&!b.isReadOnly()&&"single"==v&&-1<(na=U.contains(g))&&(0>vb((na=U.ranges[na]).from(),g)||0<g.xRel)&&(0<vb(na.to(),g)||0>g.xRel)?zh(b,t,g,A):Ah(b,t,g,A)}function zh(b,g,v,t){var A=b.display,U=!1,na=ed(b,function(ub){Ve&&
(A.scroller.draggable=!1);b.state.draggingText=!1;z(A.wrapper.ownerDocument,"mouseup",na);z(A.wrapper.ownerDocument,"mousemove",ta);z(A.scroller,"dragstart",$a);z(A.scroller,"drop",na);U||(D(ub),t.addNew||Me(b.doc,v,null,null,t.extend),Ve&&!yg||Xd&&9==ne?setTimeout(function(){A.wrapper.ownerDocument.body.focus({preventScroll:!0});A.input.focus()},20):A.input.focus())}),ta=function(ub){U=U||10<=Math.abs(g.clientX-ub.clientX)+Math.abs(g.clientY-ub.clientY)},$a=function(){return U=!0};Ve&&(A.scroller.draggable=
!0);b.state.draggingText=na;na.copy=!t.moveOnDrag;A.scroller.dragDrop&&A.scroller.dragDrop();xd(A.wrapper.ownerDocument,"mouseup",na);xd(A.wrapper.ownerDocument,"mousemove",ta);xd(A.scroller,"dragstart",$a);xd(A.scroller,"drop",na);N(b);setTimeout(function(){return A.input.focus()},20)}function Ug(b,g,v){if("char"==v)return new ae(g,g);if("word"==v)return b.findWordAt(g);if("line"==v)return new ae(Sa(g.line,0),Nb(b.doc,Sa(g.line+1,0)));b=v(b,g);return new ae(b.from,b.to)}function Ah(b,g,v,t){function A(td){if(0!=
vb(Zb,td))if(Zb=td,"rectangle"==t.unit){var he=[],ce=b.options.tabSize,ie=ca(Pa($a,v.line).text,v.ch,ce),ke=ca(Pa($a,td.line).text,td.ch,ce),Jd=Math.min(ie,ke);ie=Math.max(ie,ke);ke=Math.min(v.line,td.line);for(var je=Math.min(b.lastLine(),Math.max(v.line,td.line));ke<=je;ke++){var Zd=Pa($a,ke).text,de=ra(Zd,Jd,ce);Jd==ie?he.push(new ae(Sa(ke,de),Sa(ke,de))):Zd.length>de&&he.push(new ae(Sa(ke,de),Sa(ke,ra(Zd,ie,ce))))}he.length||he.push(new ae(v,v));Fb($a,Ed(b,ub.ranges.slice(0,qc).concat(he),qc),
{origin:"*mouse",scroll:!1});b.scrollIntoView(td)}else he=Yb,Jd=Ug(b,td,t.unit),td=he.anchor,0<vb(Jd.anchor,td)?(ce=Jd.head,td=hc(he.from(),Jd.anchor)):(ce=Jd.anchor,td=sb(he.to(),Jd.head)),he=ub.ranges.slice(0),he[qc]=Bh(b,new ae(Nb($a,td),ce)),Fb($a,Ed(b,he,qc),zg)}function U(td){var he=++id,ce=Td(b,td,!0,"rectangle"==t.unit);if(ce)if(0!=vb(ce,Zb)){b.curOp.focus=la();A(ce);var ie=C(ta,$a);(ce.line>=ie.to||ce.line<ie.from)&&setTimeout(ed(b,function(){id==he&&U(td)}),150)}else{var ke=td.clientY<Jc.top?
-20:td.clientY>Jc.bottom?20:0;ke&&setTimeout(ed(b,function(){id==he&&(ta.scroller.scrollTop+=ke,U(td))}),50)}}function na(td){b.state.selectingText=!1;id=Infinity;td&&(D(td),ta.input.focus());z(ta.wrapper.ownerDocument,"mousemove",Gd);z(ta.wrapper.ownerDocument,"mouseup",Yd);$a.history.lastSelOrigin=null}var ta=b.display,$a=b.doc;D(g);var ub=$a.sel,Lb=ub.ranges;if(t.addNew&&!t.extend){var qc=$a.sel.contains(v);var Yb=-1<qc?Lb[qc]:new ae(v,v)}else Yb=$a.sel.primary(),qc=$a.sel.primIndex;"rectangle"==
t.unit?(t.addNew||(Yb=new ae(v,v)),v=Td(b,g,!0,!0),qc=-1):(g=Ug(b,v,t.unit),Yb=t.extend?Cd(Yb,g.anchor,g.head,t.extend):g);t.addNew?-1==qc?(qc=Lb.length,Fb($a,Ed(b,Lb.concat([Yb]),qc),{scroll:!1,origin:"*mouse"})):1<Lb.length&&Lb[qc].empty()&&"char"==t.unit&&!t.extend?(Fb($a,Ed(b,Lb.slice(0,qc).concat(Lb.slice(qc+1)),0),{scroll:!1,origin:"*mouse"}),ub=$a.sel):Ne($a,qc,Yb,zg):(qc=0,Fb($a,new df([Yb],0),zg),ub=$a.sel);var Zb=v,Jc=ta.wrapper.getBoundingClientRect(),id=0,Gd=ed(b,function(td){0!==td.buttons&&
Ga(td)?U(td):na(td)}),Yd=ed(b,na);b.state.selectingText=Yd;xd(ta.wrapper.ownerDocument,"mousemove",Gd);xd(ta.wrapper.ownerDocument,"mouseup",Yd)}function Bh(b,g){var v=g.anchor,t=g.head,A=Pa(b.doc,v.line);if(0==vb(v,t)&&v.sticky==t.sticky)return g;A=w(A);if(!A)return g;var U=q(A,v.ch,v.sticky),na=A[U];if(na.from!=v.ch&&na.to!=v.ch)return g;var ta=U+(na.from==v.ch==(1!=na.level)?0:1);if(0==ta||ta==A.length)return g;t.line!=v.line?b=0<(t.line-v.line)*("ltr"==b.doc.direction?1:-1):(b=q(A,t.ch,t.sticky),
U=b-U||(t.ch-v.ch)*(1==na.level?-1:1),b=b==ta-1||b==ta?0>U:0<U);A=A[ta+(b?-1:0)];A=(ta=b==(1==A.level))?A.from:A.to;ta=ta?"after":"before";return v.ch==A&&v.sticky==ta?g:new ae(new Sa(v.line,A,ta),t)}function jg(b,g,v,t){if(g.touches){var A=g.touches[0].clientX;var U=g.touches[0].clientY}else try{A=g.clientX,U=g.clientY}catch($a){return!1}if(A>=Math.floor(b.display.gutters.getBoundingClientRect().right))return!1;t&&D(g);t=b.display;var na=t.lineDiv.getBoundingClientRect();if(U>na.bottom||!ha(b,v))return oa(g);
U-=na.top-t.viewOffset;for(na=0;na<b.display.gutterSpecs.length;++na){var ta=t.gutters.childNodes[na];if(ta&&ta.getBoundingClientRect().right>=A)return A=La(b.doc,U),G(b,v,b,A,b.display.gutterSpecs[na].className,g),oa(g)}}function Vg(b,g){var v;(v=da(b.display,g))||(v=ha(b,"gutterContextMenu")?jg(b,g,"gutterContextMenu",!1):!1);if(!v&&!H(b,g,"contextmenu")&&!xg)b.display.input.onContextMenu(g)}function Wg(b){b.display.wrapper.className=b.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+b.options.theme.replace(/(^|\s)\s*/g,
" cm-s-");x(b)}function Ch(b,g,v){!g!=!(v&&v!=Ef)&&(v=b.display.dragFunctions,g=g?xd:z,g(b.display.scroller,"dragstart",v.start),g(b.display.scroller,"dragenter",v.enter),g(b.display.scroller,"dragover",v.over),g(b.display.scroller,"dragleave",v.leave),g(b.display.scroller,"drop",v.drop))}function Dh(b){b.options.lineWrapping?(ua(b.display.wrapper,"CodeMirror-wrap"),b.display.sizer.style.minWidth="",b.display.sizerWidth=null):(vf(b.display.wrapper,"CodeMirror-wrap"),Ld(b));Fd(b);Vd(b);x(b);setTimeout(function(){return Rc(b)},
100)}function se(b,g){var v=this;if(!(this instanceof se))return new se(b,g);this.options=g=g?P(g):{};P(Xg,g,!1);var t=g.value;"string"==typeof t?t=new $e(t,g.mode,null,g.lineSeparator,g.direction):g.mode&&(t.modeOption=g.mode);this.doc=t;var A=new se.inputStyles[g.inputStyle](this);b=this.display=new Le(b,t,A,g);b.wrapper.CodeMirror=this;Wg(this);g.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap");Zc(this);this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,
focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new rf,keySeq:null,specialChars:null};g.autofocus&&!Jf&&b.input.focus();Xd&&11>ne&&setTimeout(function(){return v.display.input.reset(!0)},20);Eh(this);Yg||(Xe(),Yg=!0);jd(this);this.curOp.forceUpdate=!0;Qc(this,t);g.autofocus&&!Jf||this.hasFocus()?setTimeout(ka(a,this),20):e(this);for(var U in kg)if(kg.hasOwnProperty(U))kg[U](this,g[U],Ef);Re(this);g.finishInit&&g.finishInit(this);for(t=0;t<Ag.length;++t)Ag[t](this);
ld(this);Ve&&g.lineWrapping&&"optimizelegibility"==getComputedStyle(b.lineDiv).textRendering&&(b.lineDiv.style.textRendering="auto")}function Eh(b){function g(){t.activeTouch&&(A=setTimeout(function(){return t.activeTouch=null},1E3),U=t.activeTouch,U.end=+new Date)}function v(ta,$a){if(null==$a.left)return!0;var ub=$a.left-ta.left;ta=$a.top-ta.top;return 400<ub*ub+ta*ta}var t=b.display;xd(t.scroller,"mousedown",ed(b,Tg));Xd&&11>ne?xd(t.scroller,"dblclick",ed(b,function(ta){if(!H(b,ta)){var $a=Td(b,
ta);!$a||jg(b,ta,"gutterClick",!0)||da(b.display,ta)||(D(ta),ta=b.findWordAt($a),Me(b.doc,ta.anchor,ta.head))}})):xd(t.scroller,"dblclick",function(ta){return H(b,ta)||D(ta)});xd(t.scroller,"contextmenu",function(ta){return Vg(b,ta)});xd(t.input.getField(),"contextmenu",function(ta){t.scroller.contains(ta.target)||Vg(b,ta)});var A,U={end:0};xd(t.scroller,"touchstart",function(ta){var $a;if($a=!H(b,ta))1!=ta.touches.length?$a=!1:($a=ta.touches[0],$a=1>=$a.radiusX&&1>=$a.radiusY),$a=!$a;$a&&!jg(b,ta,
"gutterClick",!0)&&(t.input.ensurePolled(),clearTimeout(A),$a=+new Date,t.activeTouch={start:$a,moved:!1,prev:300>=$a-U.end?U:null},1==ta.touches.length&&(t.activeTouch.left=ta.touches[0].pageX,t.activeTouch.top=ta.touches[0].pageY))});xd(t.scroller,"touchmove",function(){t.activeTouch&&(t.activeTouch.moved=!0)});xd(t.scroller,"touchend",function(ta){var $a=t.activeTouch;if($a&&!da(t,ta)&&null!=$a.left&&!$a.moved&&300>new Date-$a.start){var ub=b.coordsChar(t.activeTouch,"page");$a=!$a.prev||v($a,
$a.prev)?new ae(ub,ub):!$a.prev.prev||v($a,$a.prev.prev)?b.findWordAt(ub):new ae(Sa(ub.line,0),Nb(b.doc,Sa(ub.line+1,0)));b.setSelection($a.anchor,$a.head);b.focus();D(ta)}g()});xd(t.scroller,"touchcancel",g);xd(t.scroller,"scroll",function(){t.scroller.clientHeight&&(uc(b,t.scroller.scrollTop),Ic(b,t.scroller.scrollLeft,!0),G(b,"scroll",b))});xd(t.scroller,"mousewheel",function(ta){return Oe(b,ta)});xd(t.scroller,"DOMMouseScroll",function(ta){return Oe(b,ta)});xd(t.wrapper,"scroll",function(){return t.wrapper.scrollTop=
t.wrapper.scrollLeft=0});t.dragFunctions={enter:function(ta){H(b,ta)||Fa(ta)},over:function(ta){if(!H(b,ta)){var $a=Td(b,ta);if($a){var ub=document.createDocumentFragment();T(b,$a,ub);b.display.dragCursor||(b.display.dragCursor=y("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),b.display.lineSpace.insertBefore(b.display.dragCursor,b.display.cursorDiv));Ma(b.display.dragCursor,ub)}Fa(ta)}},start:function(ta){if(Xd&&(!b.state.draggingText||100>+new Date-Jg))Fa(ta);else if(!H(b,ta)&&!da(b.display,
ta)&&(ta.dataTransfer.setData("Text",b.getSelection()),ta.dataTransfer.effectAllowed="copyMove",ta.dataTransfer.setDragImage&&!yg)){var $a=y("img",null,null,"position: fixed; left: 0; top: 0;");$a.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw\x3d\x3d";gf&&($a.width=$a.height=1,b.display.wrapper.appendChild($a),$a._top=$a.offsetTop);ta.dataTransfer.setDragImage($a,0,0);gf&&$a.parentNode.removeChild($a)}},drop:ed(b,Hd),leave:function(ta){H(b,ta)||Kd(b)}};var na=t.input.getField();
xd(na,"keyup",function(ta){return Rg.call(b,ta)});xd(na,"keydown",ed(b,Qg));xd(na,"keypress",ed(b,Sg));xd(na,"focus",function(ta){return a(b,ta)});xd(na,"blur",function(ta){return e(b,ta)})}function Rf(b,g,v,t){var A=b.doc,U;null==v&&(v="add");"smart"==v&&(A.mode.indent?U=oc(b,g).state:v="prev");var na=b.options.tabSize,ta=Pa(A,g),$a=ca(ta.text,null,na);ta.stateAfter&&(ta.stateAfter=null);var ub=ta.text.match(/^\s*/)[0];if(!t&&!/\S/.test(ta.text)){var Lb=0;v="not"}else if("smart"==v&&(Lb=A.mode.indent(U,
ta.text.slice(ub.length),ta.text),Lb==ig||150<Lb)){if(!t)return;v="prev"}"prev"==v?Lb=g>A.first?ca(Pa(A,g-1).text,null,na):0:"add"==v?Lb=$a+b.options.indentUnit:"subtract"==v?Lb=$a-b.options.indentUnit:"number"==typeof v&&(Lb=$a+v);Lb=Math.max(0,Lb);v="";t=0;if(b.options.indentWithTabs)for(b=Math.floor(Lb/na);b;--b)t+=na,v+="\t";t<Lb&&(v+=Y(Lb-t));if(v!=ub)return Ac(A,v,Sa(g,0),Sa(g,ub.length),"+input"),ta.stateAfter=null,!0;for(na=0;na<A.sel.ranges.length;na++)if(ta=A.sel.ranges[na],ta.head.line==
g&&ta.head.ch<ub.length){g=Sa(g,ub.length);Ne(A,na,new ae(g,g));break}}function Bg(b,g,v,t,A){var U=b.doc;b.display.shift=!1;t||(t=U.sel);var na=+new Date-200,ta="paste"==A||b.state.pasteIncoming>na,$a=Cg(g),ub=null;if(ta&&1<t.ranges.length)if(af&&af.text.join("\n")==g){if(0==t.ranges.length%af.text.length){ub=[];for(var Lb=0;Lb<af.text.length;Lb++)ub.push(U.splitLines(af.text[Lb]))}}else $a.length==t.ranges.length&&b.options.pasteLinesPerSelection&&(ub=ya($a,function(id){return[id]}));Lb=b.curOp.updateInput;
for(var qc=t.ranges.length-1;0<=qc;qc--){var Yb=t.ranges[qc],Zb=Yb.from(),Jc=Yb.to();Yb.empty()&&(v&&0<v?Zb=Sa(Zb.line,Zb.ch-v):b.state.overwrite&&!ta?Jc=Sa(Jc.line,Math.min(Pa(U,Jc.line).text.length,Jc.ch+qa($a).length)):ta&&af&&af.lineWise&&af.text.join("\n")==$a.join("\n")&&(Zb=Jc=Sa(Zb.line,0)));Yb={from:Zb,to:Jc,text:ub?ub[qc%ub.length]:$a,origin:A||(ta?"paste":b.state.cutIncoming>na?"cut":"+input")};ba(b.doc,Yb);ic(b,"inputRead",b,Yb)}g&&!ta&&Zg(b,g);eb(b);2>b.curOp.updateInput&&(b.curOp.updateInput=
Lb);b.curOp.typing=!0;b.state.pasteIncoming=b.state.cutIncoming=-1}function $g(b,g){var v=b.clipboardData&&b.clipboardData.getData("Text");if(v)return b.preventDefault(),g.isReadOnly()||g.options.disableInput||fd(g,function(){return Bg(g,v,0,null,"paste")}),!0}function Zg(b,g){if(b.options.electricChars&&b.options.smartIndent)for(var v=b.doc.sel,t=v.ranges.length-1;0<=t;t--){var A=v.ranges[t];if(!(100<A.head.ch||t&&v.ranges[t-1].head.line==A.head.line)){var U=b.getModeAt(A.head),na=!1;if(U.electricChars)for(var ta=
0;ta<U.electricChars.length;ta++){if(-1<g.indexOf(U.electricChars.charAt(ta))){na=Rf(b,A.head.line,"smart");break}}else U.electricInput&&U.electricInput.test(Pa(b.doc,A.head.line).text.slice(0,A.head.ch))&&(na=Rf(b,A.head.line,"smart"));na&&ic(b,"electricInput",b,A.head.line)}}}function ah(b){for(var g=[],v=[],t=0;t<b.doc.sel.ranges.length;t++){var A=b.doc.sel.ranges[t].head.line;A={anchor:Sa(A,0),head:Sa(A+1,0)};v.push(A);g.push(b.getRange(A.anchor,A.head))}return{text:g,ranges:v}}function bh(b,
g,v,t){b.setAttribute("autocorrect",v?"":"off");b.setAttribute("autocapitalize",t?"":"off");b.setAttribute("spellcheck",!!g)}function ch(){var b=y("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),g=y("div",[b],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");Ve?b.style.width="1000px":b.setAttribute("wrap","off");Sf&&(b.style.border="1px solid black");bh(b);return g}function Dg(b,g,v,t,A){function U(Jc){var id=A?ph(b.cm,
$a,g,v):tg($a,g,v);if(null==id){if(Jc=!Jc)Jc=g.line+ub,Jc<b.first||Jc>=b.first+b.size?Jc=!1:(g=new Sa(Jc,g.ch,g.sticky),Jc=$a=Pa(b,Jc));if(Jc)g=ug(A,b.cm,$a,g.line,ub);else return!1}else g=id;return!0}var na=g,ta=v,$a=Pa(b,g.line),ub=A&&"rtl"==b.direction?-v:v;if("char"==t)U();else if("column"==t)U(!0);else if("word"==t||"group"==t){var Lb=null;t="group"==t;for(var qc=b.cm&&b.cm.getHelper(g,"wordChars"),Yb=!0;!(0>v)||U(!Yb);Yb=!1){var Zb=$a.text.charAt(g.ch)||"\n";Zb=Ba(Zb,qc)?"w":t&&"\n"==Zb?"n":
!t||/\s/.test(Zb)?null:"p";!t||Yb||Zb||(Zb="s");if(Lb&&Lb!=Zb){0>v&&(v=1,U(),g.sticky="after");break}Zb&&(Lb=Zb);if(0<v&&!U(!Yb))break}}ta=db(b,g,na,ta,!0);jb(na,ta)&&(ta.hitSide=!0);return ta}function dh(b,g,v,t){var A=b.doc,U=g.left;if("page"==t){var na=Math.max(Math.min(b.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight)-.5*Sd(b.display),3);na=(0<v?g.bottom:g.top)+v*na}else"line"==t&&(na=0<v?g.bottom+3:g.top-3);for(;;){g=Bc(b,U,na);if(!g.outside)break;if(0>
v?0>=na:na>=A.height){g.hitSide=!0;break}na+=5*v}return g}function eh(b,g){var v=Tb(b,g.line);if(!v||v.hidden)return null;var t=Pa(b.doc,g.line);v=tb(v,t,g.line);b=w(t,b.doc.direction);t="left";b&&(t=q(b,g.ch)%2?"right":"left");g=m(v.map,g.ch,t);g.offset="right"==g.collapse?g.end:g.start;return g}function Fh(b){for(;b;b=b.parentNode)if(/CodeMirror-gutter-wrapper/.test(b.className))return!0;return!1}function Ff(b,g){g&&(b.bad=!0);return b}function Gh(b,g,v,t,A){function U(Zb){return function(Jc){return Jc.id==
Zb}}function na(){Lb&&(ub+=qc,Yb&&(ub+=qc),Lb=Yb=!1)}function ta(Zb){Zb&&(na(),ub+=Zb)}function $a(Zb){if(1==Zb.nodeType){var Jc=Zb.getAttribute("cm-text");if(Jc)ta(Jc);else{Jc=Zb.getAttribute("cm-marker");var id;if(Jc)Zb=b.findMarks(Sa(t,0),Sa(A+1,0),U(+Jc)),Zb.length&&(id=Zb[0].find(0))&&ta(ja(b.doc,id.from,id.to).join(qc));else if("false"!=Zb.getAttribute("contenteditable")&&(id=/^(pre|div|p|li|table|br)$/i.test(Zb.nodeName),/^br$/i.test(Zb.nodeName)||0!=Zb.textContent.length)){id&&na();for(Jc=
0;Jc<Zb.childNodes.length;Jc++)$a(Zb.childNodes[Jc]);/^(pre|p)$/i.test(Zb.nodeName)&&(Yb=!0);id&&(Lb=!0)}}}else 3==Zb.nodeType&&ta(Zb.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(var ub="",Lb=!1,qc=b.doc.lineSeparator(),Yb=!1;;){$a(g);if(g==v)break;g=g.nextSibling;Yb=!1}return ub}function lg(b,g,v){if(g==b.display.lineDiv){var t=b.display.lineDiv.childNodes[v];if(!t)return Ff(b.clipPos(Sa(b.display.viewTo-1)),!0);g=null;v=0}else for(t=g;;t=t.parentNode){if(!t||t==b.display.lineDiv)return null;
if(t.parentNode&&t.parentNode==b.display.lineDiv)break}for(var A=0;A<b.display.view.length;A++){var U=b.display.view[A];if(U.node==t)return Hh(U,g,v)}}function Hh(b,g,v){function t(Lb,qc,Yb){for(var Zb=-1;Zb<(ub?ub.length:0);Zb++)for(var Jc=0>Zb?$a.map:ub[Zb],id=0;id<Jc.length;id+=3){var Gd=Jc[id+2];if(Gd==Lb||Gd==qc){qc=qb(0>Zb?b.line:b.rest[Zb]);Zb=Jc[id]+Yb;if(0>Yb||Gd!=Lb)Zb=Jc[id+(Yb?1:0)];return Sa(qc,Zb)}}}var A=b.text.firstChild,U=!1;if(!g||!X(A,g))return Ff(Sa(qb(b.line),0),!0);if(g==A&&
(U=!0,g=A.childNodes[v],v=0,!g))return v=b.rest?qa(b.rest):b.line,Ff(Sa(qb(v),v.text.length),U);var na=3==g.nodeType?g:null,ta=g;na||1!=g.childNodes.length||3!=g.firstChild.nodeType||(na=g.firstChild,v&&(v=na.nodeValue.length));for(;ta.parentNode!=A;)ta=ta.parentNode;var $a=b.measure,ub=$a.maps;if(g=t(na,ta,v))return Ff(g,U);A=ta.nextSibling;for(na=na?na.nodeValue.length-v:0;A;A=A.nextSibling){if(g=t(A,A.firstChild,0))return Ff(Sa(g.line,g.ch-na),U);na+=A.textContent.length}for(ta=ta.previousSibling;ta;ta=
ta.previousSibling){if(g=t(ta,ta.firstChild,-1))return Ff(Sa(g.line,g.ch+v),U);v+=ta.textContent.length}}var Ye=navigator.userAgent,fh=navigator.platform,nf=/gecko\/\d/i.test(Ye),gh=/MSIE \d/.test(Ye),hh=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ye),Tf=/Edge\/(\d+)/.exec(Ye),Xd=gh||hh||Tf,ne=Xd&&(gh?document.documentMode||6:+(Tf||hh)[1]),Ve=!Tf&&/WebKit\//.test(Ye),Ih=Ve&&/Qt\/\d+\.\d+/.test(Ye),cg=!Tf&&/Chrome\//.test(Ye),gf=/Opera\//.test(Ye),yg=/Apple Computer/.test(navigator.vendor),Jh=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(Ye),
oh=/PhantomJS/.test(Ye),Sf=!Tf&&/AppleWebKit/.test(Ye)&&/Mobile\/\w+/.test(Ye),dg=/Android/.test(Ye),Jf=Sf||dg||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(Ye),ff=Sf||/Mac/.test(fh),xh=/\bCrOS\b/.test(Ye),Kh=/win/i.test(fh),xf=gf&&Ye.match(/Version\/(\d*\.\d*)/);xf&&(xf=Number(xf[1]));xf&&15<=xf&&(gf=!1,Ve=!0);var Kg=ff&&(Ih||gf&&(null==xf||12.11>xf)),xg=nf||Xd&&9<=ne,vf=function(b,g){var v=b.className;if(g=p(g).exec(v)){var t=v.slice(g.index+g[0].length);b.className=v.slice(0,g.index)+
(t?g[1]+t:"")}};var Hf=document.createRange?function(b,g,v,t){var A=document.createRange();A.setEnd(t||b,v);A.setStart(b,g);return A}:function(b,g,v){var t=document.body.createTextRange();try{t.moveToElementText(b.parentNode)}catch(A){return t}t.collapse(!0);t.moveEnd("character",v);t.moveStart("character",g);return t};var Uf=function(b){b.select()};Sf?Uf=function(b){b.selectionStart=0;b.selectionEnd=b.value.length}:Xd&&(Uf=function(b){try{b.select()}catch(g){}});var rf=function(){this.f=this.id=
null;this.time=0;this.handler=ka(this.onTimeout,this)};rf.prototype.onTimeout=function(b){b.id=0;b.time<=+new Date?b.f():setTimeout(b.handler,b.time-+new Date)};rf.prototype.set=function(b,g){this.f=g;g=+new Date+b;if(!this.id||g<this.time)clearTimeout(this.id),this.id=setTimeout(this.handler,b),this.time=g};var ig={toString:function(){return"CodeMirror.Pass"}},kf={scroll:!1},zg={origin:"*mouse"},Vf={origin:"+move"},$f=[""],ih=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,
jh=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,
Gf=null,kh=function(){function b(ta){return 247>=ta?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(ta):1424<=ta&&1524>=ta?"R":1536<=ta&&1785>=ta?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(ta-
1536):1774<=ta&&2220>=ta?"r":8192<=ta&&8203>=ta?"w":8204==ta?"b":"L"}function g(ta,$a,ub){this.level=ta;this.from=$a;this.to=ub}var v=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,t=/[stwN]/,A=/[LRr]/,U=/[Lb1n]/,na=/[1n]/;return function(ta,$a){var ub="ltr"==$a?"L":"R";if(0==ta.length||"ltr"==$a&&!v.test(ta))return!1;for(var Lb=ta.length,qc=[],Yb=0;Yb<Lb;++Yb)qc.push(b(ta.charCodeAt(Yb)));Yb=0;for(var Zb=ub;Yb<Lb;++Yb){var Jc=qc[Yb];"m"==Jc?qc[Yb]=Zb:Zb=Jc}Yb=0;for(Zb=ub;Yb<Lb;++Yb)Jc=qc[Yb],"1"==Jc&&
"r"==Zb?qc[Yb]="n":A.test(Jc)&&(Zb=Jc,"r"==Jc&&(qc[Yb]="R"));Yb=1;for(Zb=qc[0];Yb<Lb-1;++Yb)Jc=qc[Yb],"+"==Jc&&"1"==Zb&&"1"==qc[Yb+1]?qc[Yb]="1":","!=Jc||Zb!=qc[Yb+1]||"1"!=Zb&&"n"!=Zb||(qc[Yb]=Zb),Zb=Jc;for(Yb=0;Yb<Lb;++Yb)if(Zb=qc[Yb],","==Zb)qc[Yb]="N";else if("%"==Zb){for(Zb=Yb+1;Zb<Lb&&"%"==qc[Zb];++Zb);for(Jc=Yb&&"!"==qc[Yb-1]||Zb<Lb&&"1"==qc[Zb]?"1":"N";Yb<Zb;++Yb)qc[Yb]=Jc;Yb=Zb-1}Yb=0;for(Zb=ub;Yb<Lb;++Yb)Jc=qc[Yb],"L"==Zb&&"1"==Jc?qc[Yb]="L":A.test(Jc)&&(Zb=Jc);for(Zb=0;Zb<Lb;++Zb)if(t.test(qc[Zb])){for(Yb=
Zb+1;Yb<Lb&&t.test(qc[Yb]);++Yb);Jc="L"==(Zb?qc[Zb-1]:ub);for(Jc=Jc==("L"==(Yb<Lb?qc[Yb]:ub))?Jc?"L":"R":ub;Zb<Yb;++Zb)qc[Zb]=Jc;Zb=Yb-1}ub=[];var id;for(Yb=0;Yb<Lb;)if(U.test(qc[Yb])){Zb=Yb;for(++Yb;Yb<Lb&&U.test(qc[Yb]);++Yb);ub.push(new g(0,Zb,Yb))}else{var Gd=Yb;Zb=ub.length;Jc="rtl"==$a?1:0;for(++Yb;Yb<Lb&&"L"!=qc[Yb];++Yb);for(var Yd=Gd;Yd<Yb;)if(na.test(qc[Yd])){Gd<Yd&&(ub.splice(Zb,0,new g(1,Gd,Yd)),Zb+=Jc);Gd=Yd;for(++Yd;Yd<Yb&&na.test(qc[Yd]);++Yd);ub.splice(Zb,0,new g(2,Gd,Yd));Zb+=Jc;
Gd=Yd}else++Yd;Gd<Yb&&ub.splice(Zb,0,new g(1,Gd,Yb))}"ltr"==$a&&(1==ub[0].level&&(id=ta.match(/^\s+/))&&(ub[0].from=id[0].length,ub.unshift(new g(0,0,id[0].length))),1==qa(ub).level&&(id=ta.match(/\s+$/))&&(qa(ub).to-=id[0].length,ub.push(new g(0,Lb-id[0].length,Lb))));return"rtl"==$a?ub.reverse():ub}}(),ag=[],xd=function(b,g,v){b.addEventListener?b.addEventListener(g,v,!1):b.attachEvent?b.attachEvent("on"+g,v):(b=b._handlers||(b._handlers={}),b[g]=(b[g]||ag).concat(v))},yh=function(){if(Xd&&9>ne)return!1;
var b=y("div");return"draggable"in b||"dragDrop"in b}(),ng,pg,Cg=3!="\n\nb".split(/\n/).length?function(b){for(var g=0,v=[],t=b.length;g<=t;){var A=b.indexOf("\n",g);-1==A&&(A=b.length);var U=b.slice(g,"\r"==b.charAt(A-1)?A-1:A),na=U.indexOf("\r");-1!=na?(v.push(U.slice(0,na)),g+=na+1):(v.push(U),g=A+1)}return v}:function(b){return b.split(/\r\n?|\n/)},Lh=window.getSelection?function(b){try{return b.selectionStart!=b.selectionEnd}catch(g){return!1}}:function(b){try{var g=b.ownerDocument.selection.createRange()}catch(v){}return g&&
g.parentElement()==b?0!=g.compareEndPoints("StartToEnd",g):!1},sh=function(){var b=y("div");if("oncopy"in b)return!0;b.setAttribute("oncopy","return;");return"function"==typeof b.oncopy}(),qg=null,og={},zf={},Af={},Ee=function(b,g,v){this.pos=this.start=0;this.string=b;this.tabSize=g||8;this.lineStart=this.lastColumnPos=this.lastColumnValue=0;this.lineOracle=v};Ee.prototype.eol=function(){return this.pos>=this.string.length};Ee.prototype.sol=function(){return this.pos==this.lineStart};Ee.prototype.peek=
function(){return this.string.charAt(this.pos)||void 0};Ee.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)};Ee.prototype.eat=function(b){var g=this.string.charAt(this.pos);if("string"==typeof b?g==b:g&&(b.test?b.test(g):b(g)))return++this.pos,g};Ee.prototype.eatWhile=function(b){for(var g=this.pos;this.eat(b););return this.pos>g};Ee.prototype.eatSpace=function(){for(var b=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>
b};Ee.prototype.skipToEnd=function(){this.pos=this.string.length};Ee.prototype.skipTo=function(b){b=this.string.indexOf(b,this.pos);if(-1<b)return this.pos=b,!0};Ee.prototype.backUp=function(b){this.pos-=b};Ee.prototype.column=function(){this.lastColumnPos<this.start&&(this.lastColumnValue=ca(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start);return this.lastColumnValue-(this.lineStart?ca(this.string,this.lineStart,this.tabSize):0)};Ee.prototype.indentation=
function(){return ca(this.string,null,this.tabSize)-(this.lineStart?ca(this.string,this.lineStart,this.tabSize):0)};Ee.prototype.match=function(b,g,v){if("string"==typeof b){var t=function(U){return v?U.toLowerCase():U},A=this.string.substr(this.pos,b.length);if(t(A)==t(b))return!1!==g&&(this.pos+=b.length),!0}else{if((b=this.string.slice(this.pos).match(b))&&0<b.index)return null;b&&!1!==g&&(this.pos+=b[0].length);return b}};Ee.prototype.current=function(){return this.string.slice(this.start,this.pos)};
Ee.prototype.hideFirstChars=function(b,g){this.lineStart+=b;try{return g()}finally{this.lineStart-=b}};Ee.prototype.lookAhead=function(b){var g=this.lineOracle;return g&&g.lookAhead(b)};Ee.prototype.baseToken=function(){var b=this.lineOracle;return b&&b.baseToken(this.pos)};var bg=function(b,g){this.state=b;this.lookAhead=g},jf=function(b,g,v,t){this.state=g;this.doc=b;this.line=v;this.maxLookAhead=t||0;this.baseTokens=null;this.baseTokenPos=1};jf.prototype.lookAhead=function(b){var g=this.doc.getLine(this.line+
b);null!=g&&b>this.maxLookAhead&&(this.maxLookAhead=b);return g};jf.prototype.baseToken=function(b){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=b;)this.baseTokenPos+=2;var g=this.baseTokens[this.baseTokenPos+1];return{type:g&&g.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-b}};jf.prototype.nextLine=function(){this.line++;0<this.maxLookAhead&&this.maxLookAhead--};jf.fromSaved=function(b,g,v){return g instanceof bg?new jf(b,Ib(b.mode,g.state),v,g.lookAhead):
new jf(b,Ib(b.mode,g),v)};jf.prototype.save=function(b){b=!1!==b?Ib(this.doc.mode,this.state):this.state;return 0<this.maxLookAhead?new bg(b,this.maxLookAhead):b};var Eg=function(b,g,v){this.start=b.start;this.end=b.pos;this.string=b.current();this.type=g||null;this.state=v},Hg=!1,mf=!1,Cf=function(b,g,v){this.text=b;mb(this,g);this.height=v?v(this):1};Cf.prototype.lineNo=function(){return qb(this)};Ja(Cf);var mh={},lh={},Bf=null,If=null,Fg={left:0,right:0,top:0,bottom:0},sf,yf=function(b,g,v){this.cm=
v;var t=this.vert=y("div",[y("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),A=this.horiz=y("div",[y("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");t.tabIndex=A.tabIndex=-1;b(t);b(A);xd(t,"scroll",function(){t.clientHeight&&g(t.scrollTop,"vertical")});xd(A,"scroll",function(){A.clientWidth&&g(A.scrollLeft,"horizontal")});this.checkedZeroWidth=!1;Xd&&8>ne&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};yf.prototype.update=function(b){var g=b.scrollWidth>
b.clientWidth+1,v=b.scrollHeight>b.clientHeight+1,t=b.nativeBarWidth;v?(this.vert.style.display="block",this.vert.style.bottom=g?t+"px":"0",this.vert.firstChild.style.height=Math.max(0,b.scrollHeight-b.clientHeight+(b.viewHeight-(g?t:0)))+"px"):(this.vert.style.display="",this.vert.firstChild.style.height="0");g?(this.horiz.style.display="block",this.horiz.style.right=v?t+"px":"0",this.horiz.style.left=b.barLeft+"px",this.horiz.firstChild.style.width=Math.max(0,b.scrollWidth-b.clientWidth+(b.viewWidth-
b.barLeft-(v?t:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0");!this.checkedZeroWidth&&0<b.clientHeight&&(0==t&&this.zeroWidthHack(),this.checkedZeroWidth=!0);return{right:v?t:0,bottom:g?t:0}};yf.prototype.setScrollLeft=function(b){this.horiz.scrollLeft!=b&&(this.horiz.scrollLeft=b);this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")};yf.prototype.setScrollTop=function(b){this.vert.scrollTop!=b&&(this.vert.scrollTop=b);this.disableVert&&
this.enableZeroWidthBar(this.vert,this.disableVert,"vert")};yf.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=ff&&!Jh?"12px":"18px";this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none";this.disableHoriz=new rf;this.disableVert=new rf};yf.prototype.enableZeroWidthBar=function(b,g,v){function t(){var A=b.getBoundingClientRect();("vert"==v?document.elementFromPoint(A.right-1,(A.top+A.bottom)/2):document.elementFromPoint((A.right+A.left)/2,A.bottom-1))!=
b?b.style.pointerEvents="none":g.set(1E3,t)}b.style.pointerEvents="auto";g.set(1E3,t)};yf.prototype.clear=function(){var b=this.horiz.parentNode;b.removeChild(this.horiz);b.removeChild(this.vert)};var Wf=function(){};Wf.prototype.update=function(){return{bottom:0,right:0}};Wf.prototype.setScrollLeft=function(){};Wf.prototype.setScrollTop=function(){};Wf.prototype.clear=function(){};var Gg={"native":yf,"null":Wf},nh=0,eg=function(b,g,v){var t=b.display;this.viewport=g;this.visible=C(t,b.doc,g);this.editorIsHidden=
!t.wrapper.offsetWidth;this.wrapperHeight=t.wrapper.clientHeight;this.wrapperWidth=t.wrapper.clientWidth;this.oldDisplayWidth=Bb(b);this.force=v;this.dims=Wc(b);this.events=[]};eg.prototype.signal=function(b,g){ha(b,g)&&this.events.push(arguments)};eg.prototype.finish=function(){for(var b=0;b<this.events.length;b++)G.apply(null,this.events[b])};var fg=0,cf=null;Xd?cf=-.53:nf?cf=15:cg?cf=-.7:yg&&(cf=-1/3);var df=function(b,g){this.ranges=b;this.primIndex=g};df.prototype.primary=function(){return this.ranges[this.primIndex]};
df.prototype.equals=function(b){if(b==this)return!0;if(b.primIndex!=this.primIndex||b.ranges.length!=this.ranges.length)return!1;for(var g=0;g<this.ranges.length;g++){var v=this.ranges[g],t=b.ranges[g];if(!jb(v.anchor,t.anchor)||!jb(v.head,t.head))return!1}return!0};df.prototype.deepCopy=function(){for(var b=[],g=0;g<this.ranges.length;g++)b[g]=new ae(nb(this.ranges[g].anchor),nb(this.ranges[g].head));return new df(b,this.primIndex)};df.prototype.somethingSelected=function(){for(var b=0;b<this.ranges.length;b++)if(!this.ranges[b].empty())return!0;
return!1};df.prototype.contains=function(b,g){g||(g=b);for(var v=0;v<this.ranges.length;v++){var t=this.ranges[v];if(0<=vb(g,t.from())&&0>=vb(b,t.to()))return v}return-1};var ae=function(b,g){this.anchor=b;this.head=g};ae.prototype.from=function(){return hc(this.anchor,this.head)};ae.prototype.to=function(){return sb(this.anchor,this.head)};ae.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};md.prototype={chunkSize:function(){return this.lines.length},
removeInner:function(b,g){for(var v=b,t=b+g;v<t;++v){var A=this.lines[v];this.height-=A.height;var U=A;U.parent=null;Ia(U);ic(A,"delete")}this.lines.splice(b,g)},collapse:function(b){b.push.apply(b,this.lines)},insertInner:function(b,g,v){this.height+=v;this.lines=this.lines.slice(0,b).concat(g).concat(this.lines.slice(b));for(b=0;b<g.length;++b)g[b].parent=this},iterN:function(b,g,v){for(g=b+g;b<g;++b)if(v(this.lines[b]))return!0}};ad.prototype={chunkSize:function(){return this.size},removeInner:function(b,
g){this.size-=g;for(var v=0;v<this.children.length;++v){var t=this.children[v],A=t.chunkSize();if(b<A){var U=Math.min(g,A-b),na=t.height;t.removeInner(b,U);this.height-=na-t.height;A==U&&(this.children.splice(v--,1),t.parent=null);if(0==(g-=U))break;b=0}else b-=A}25>this.size-g&&(1<this.children.length||!(this.children[0]instanceof md))&&(b=[],this.collapse(b),this.children=[new md(b)],this.children[0].parent=this)},collapse:function(b){for(var g=0;g<this.children.length;++g)this.children[g].collapse(b)},
insertInner:function(b,g,v){this.size+=g.length;this.height+=v;for(var t=0;t<this.children.length;++t){var A=this.children[t],U=A.chunkSize();if(b<=U){A.insertInner(b,g,v);if(A.lines&&50<A.lines.length){for(g=b=A.lines.length%25+25;g<A.lines.length;)v=new md(A.lines.slice(g,g+=25)),A.height-=v.height,this.children.splice(++t,0,v),v.parent=this;A.lines=A.lines.slice(0,b);this.maybeSpill()}break}b-=U}},maybeSpill:function(){if(!(10>=this.children.length)){var b=this;do{var g=b.children.splice(b.children.length-
5,5);g=new ad(g);if(b.parent){b.size-=g.size;b.height-=g.height;var v=va(b.parent.children,b);b.parent.children.splice(v+1,0,g)}else v=new ad(b.children),v.parent=b,b.children=[v,g],b=v;g.parent=b.parent}while(10<b.children.length);b.parent.maybeSpill()}},iterN:function(b,g,v){for(var t=0;t<this.children.length;++t){var A=this.children[t],U=A.chunkSize();if(b<U){U=Math.min(g,U-b);if(A.iterN(b,U,v))return!0;if(0==(g-=U))break;b=0}else b-=U}}};var Kf=function(b,g,v){if(v)for(var t in v)v.hasOwnProperty(t)&&
(this[t]=v[t]);this.doc=b;this.node=g};Kf.prototype.clear=function(){var b=this.doc.cm,g=this.line.widgets,v=this.line,t=qb(v);if(null!=t&&g){for(var A=0;A<g.length;++A)g[A]==this&&g.splice(A--,1);g.length||(v.widgets=null);var U=M(this);Za(v,Math.max(0,v.height-U));b&&(fd(b,function(){var na=-U;Wd(v)<(b.curOp&&b.curOp.scrollTop||b.doc.scrollTop)&&za(b,na);qe(b,t,"widget")}),ic(b,"lineWidgetCleared",b,this,t))}};Kf.prototype.changed=function(){var b=this,g=this.height,v=this.doc.cm,t=this.line;this.height=
null;var A=M(this)-g;A&&(Yc(this.doc,t)||Za(t,t.height+A),v&&fd(v,function(){v.curOp.forceUpdate=!0;Wd(t)<(v.curOp&&v.curOp.scrollTop||v.doc.scrollTop)&&za(v,A);ic(v,"lineWidgetChanged",v,b,qb(t))}))};Ja(Kf);var Ig=0,of=function(b,g){this.lines=[];this.type=g;this.doc=b;this.id=++Ig};of.prototype.clear=function(){if(!this.explicitlyCleared){var b=this.doc.cm,g=b&&!b.curOp;g&&jd(b);if(ha(this,"clear")){var v=this.find();v&&ic(this,"clear",v.from,v.to)}for(var t=v=null,A=0;A<this.lines.length;++A){var U=
this.lines[A],na=lc(U.markedSpans,this);b&&!this.collapsed?qe(b,qb(U),"text"):b&&(null!=na.to&&(t=qb(U)),null!=na.from&&(v=qb(U)));for(var ta=U,$a=void 0,ub=U.markedSpans,Lb=na,qc=0;qc<ub.length;++qc)ub[qc]!=Lb&&($a||($a=[])).push(ub[qc]);ta.markedSpans=$a;null==na.from&&this.collapsed&&!Yc(this.doc,U)&&b&&Za(U,Sd(b.display))}if(b&&this.collapsed&&!b.options.lineWrapping)for(A=0;A<this.lines.length;++A)U=Ec(this.lines[A]),na=ge(U),na>b.display.maxLineLength&&(b.display.maxLine=U,b.display.maxLineLength=
na,b.display.maxLineChanged=!0);null!=v&&b&&this.collapsed&&Vd(b,v,t+1);this.lines.length=0;this.explicitlyCleared=!0;this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,b&&fa(b.doc));b&&ic(b,"markerCleared",b,this,v,t);g&&ld(b);this.parent&&this.parent.clear()}};of.prototype.find=function(b,g){null==b&&"bookmark"==this.type&&(b=1);for(var v,t,A=0;A<this.lines.length;++A){var U=this.lines[A],na=lc(U.markedSpans,this);if(null!=na.from&&(v=Sa(g?U:qb(U),na.from),-1==b))return v;if(null!=na.to&&(t=
Sa(g?U:qb(U),na.to),1==b))return t}return v&&{from:v,to:t}};of.prototype.changed=function(){var b=this,g=this.find(-1,!0),v=this,t=this.doc.cm;g&&t&&fd(t,function(){var A=g.line,U=qb(g.line);if(U=Tb(t,U))k(U),t.curOp.selectionChanged=t.curOp.forceUpdate=!0;t.curOp.updateMaxLine=!0;Yc(v.doc,A)||null==v.height||(U=v.height,v.height=null,(U=M(v)-U)&&Za(A,A.height+U));ic(t,"markerChanged",t,b)})};of.prototype.attachLine=function(b){if(!this.lines.length&&this.doc.cm){var g=this.doc.cm.curOp;g.maybeHiddenMarkers&&
-1!=va(g.maybeHiddenMarkers,this)||(g.maybeUnhiddenMarkers||(g.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(b)};of.prototype.detachLine=function(b){this.lines.splice(va(this.lines,b),1);!this.lines.length&&this.doc.cm&&(b=this.doc.cm.curOp,(b.maybeHiddenMarkers||(b.maybeHiddenMarkers=[])).push(this))};Ja(of);var Lf=function(b,g){this.markers=b;this.primary=g;for(g=0;g<b.length;++g)b[g].parent=this};Lf.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var b=
0;b<this.markers.length;++b)this.markers[b].clear();ic(this,"clear")}};Lf.prototype.find=function(b,g){return this.primary.find(b,g)};Ja(Lf);var Mh=0,$e=function(b,g,v,t,A){if(!(this instanceof $e))return new $e(b,g,v,t,A);null==v&&(v=0);ad.call(this,[new md([new Cf("",null)])]);this.first=v;this.scrollTop=this.scrollLeft=0;this.cantEdit=!1;this.cleanGeneration=1;this.modeFrontier=this.highlightFrontier=v;v=Sa(v,0);this.sel=be(v);this.history=new nd(null);this.id=++Mh;this.modeOption=g;this.lineSep=
t;this.direction="rtl"==A?"rtl":"ltr";this.extend=!1;"string"==typeof b&&(b=this.splitLines(b));bc(this,{from:v,to:v,text:b});Fb(this,be(v),kf)};$e.prototype=Ha(ad.prototype,{constructor:$e,iter:function(b,g,v){v?this.iterN(b-this.first,g-b,v):this.iterN(this.first,this.first+this.size,b)},insert:function(b,g){for(var v=0,t=0;t<g.length;++t)v+=g[t].height;this.insertInner(b-this.first,g,v)},remove:function(b,g){this.removeInner(b-this.first,g)},getValue:function(b){var g=Qa(this,this.first,this.first+
this.size);return!1===b?g:g.join(b||this.lineSeparator())},setValue:$c(function(b){var g=Sa(this.first,0),v=this.first+this.size-1;ba(this,{from:g,to:Sa(v,Pa(this,v).text.length),text:this.splitLines(b),origin:"setValue",full:!0},!0);this.cm&&Eb(this.cm,0,0);Fb(this,be(g),kf)}),replaceRange:function(b,g,v,t){g=Nb(this,g);v=v?Nb(this,v):g;Ac(this,b,g,v,t)},getRange:function(b,g,v){b=ja(this,Nb(this,b),Nb(this,g));return!1===v?b:b.join(v||this.lineSeparator())},getLine:function(b){return(b=this.getLineHandle(b))&&
b.text},getLineHandle:function(b){if(Na(this,b))return Pa(this,b)},getLineNumber:function(b){return qb(b)},getLineHandleVisualStart:function(b){"number"==typeof b&&(b=Pa(this,b));return Ec(b)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(b){return Nb(this,b)},getCursor:function(b){var g=this.sel.primary();return null==b||"head"==b?g.head:"anchor"==b?g.anchor:"end"==b||"to"==b||!1===b?g.to():g.from()},
listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:$c(function(b,g,v){b=Nb(this,"number"==typeof b?Sa(b,g||0):b);Fb(this,be(b,null),v)}),setSelection:$c(function(b,g,v){var t=Nb(this,b);b=Nb(this,g||b);Fb(this,be(t,b),v)}),extendSelection:$c(function(b,g,v){Me(this,Nb(this,b),g&&Nb(this,g),v)}),extendSelections:$c(function(b,g){Ue(this,cc(this,b),g)}),extendSelectionsBy:$c(function(b,g){b=ya(this.sel.ranges,b);Ue(this,cc(this,
b),g)}),setSelections:$c(function(b,g,v){if(b.length){for(var t=[],A=0;A<b.length;A++)t[A]=new ae(Nb(this,b[A].anchor),Nb(this,b[A].head));null==g&&(g=Math.min(b.length-1,this.sel.primIndex));Fb(this,Ed(this.cm,t,g),v)}}),addSelection:$c(function(b,g,v){var t=this.sel.ranges.slice(0);t.push(new ae(Nb(this,b),Nb(this,g||b)));Fb(this,Ed(this.cm,t,t.length-1),v)}),getSelection:function(b){for(var g=this.sel.ranges,v,t=0;t<g.length;t++){var A=ja(this,g[t].from(),g[t].to());v=v?v.concat(A):A}return!1===
b?v:v.join(b||this.lineSeparator())},getSelections:function(b){for(var g=[],v=this.sel.ranges,t=0;t<v.length;t++){var A=ja(this,v[t].from(),v[t].to());!1!==b&&(A=A.join(b||this.lineSeparator()));g[t]=A}return g},replaceSelection:function(b,g,v){for(var t=[],A=0;A<this.sel.ranges.length;A++)t[A]=b;this.replaceSelections(t,g,v||"+input")},replaceSelections:$c(function(b,g,v){for(var t=[],A=this.sel,U=0;U<A.ranges.length;U++){var na=A.ranges[U];t[U]={from:na.from(),to:na.to(),text:this.splitLines(b[U]),
origin:v}}if(b=g&&"end"!=g){b=[];A=v=Sa(this.first,0);for(U=0;U<t.length;U++){var ta=t[U];na=E(ta.from,v,A);var $a=E(ve(ta),v,A);v=ta.to;A=$a;"around"==g?(ta=this.sel.ranges[U],ta=0>vb(ta.head,ta.anchor),b[U]=new ae(ta?$a:na,ta?na:$a)):b[U]=new ae(na,na)}b=new df(b,this.sel.primIndex)}g=b;for(b=t.length-1;0<=b;b--)ba(this,t[b]);g?Rb(this,g):this.cm&&eb(this.cm)}),undo:$c(function(){rb(this,"undo")}),redo:$c(function(){rb(this,"redo")}),undoSelection:$c(function(){rb(this,"undo",!0)}),redoSelection:$c(function(){rb(this,
"redo",!0)}),setExtending:function(b){this.extend=b},getExtending:function(){return this.extend},historySize:function(){for(var b=this.history,g=0,v=0,t=0;t<b.done.length;t++)b.done[t].ranges||++g;for(t=0;t<b.undone.length;t++)b.undone[t].ranges||++v;return{undo:g,redo:v}},clearHistory:function(){var b=this;this.history=new nd(this.history.maxGeneration);Cc(this,function(g){return g.history=b.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(b){b&&
(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null);return this.history.generation},isClean:function(b){return this.history.generation==(b||this.cleanGeneration)},getHistory:function(){return{done:Te(this.history.done),undone:Te(this.history.undone)}},setHistory:function(b){var g=this.history=new nd(this.history.maxGeneration);g.done=Te(b.done.slice(0),null,!0);g.undone=Te(b.undone.slice(0),null,!0)},setGutterMarker:$c(function(b,g,v){return od(this,b,"gutter",function(t){var A=
t.gutterMarkers||(t.gutterMarkers={});A[g]=v;!v&&Va(A)&&(t.gutterMarkers=null);return!0})}),clearGutter:$c(function(b){var g=this;this.iter(function(v){v.gutterMarkers&&v.gutterMarkers[b]&&od(g,v,"gutter",function(){v.gutterMarkers[b]=null;Va(v.gutterMarkers)&&(v.gutterMarkers=null);return!0})})}),lineInfo:function(b){if("number"==typeof b){if(!Na(this,b))return null;var g=b;b=Pa(this,b);if(!b)return null}else if(g=qb(b),null==g)return null;return{line:g,handle:b,text:b.text,gutterMarkers:b.gutterMarkers,
textClass:b.textClass,bgClass:b.bgClass,wrapClass:b.wrapClass,widgets:b.widgets}},addLineClass:$c(function(b,g,v){return od(this,b,"gutter"==g?"gutter":"class",function(t){var A="text"==g?"textClass":"background"==g?"bgClass":"gutter"==g?"gutterClass":"wrapClass";if(t[A]){if(p(v).test(t[A]))return!1;t[A]+=" "+v}else t[A]=v;return!0})}),removeLineClass:$c(function(b,g,v){return od(this,b,"gutter"==g?"gutter":"class",function(t){var A="text"==g?"textClass":"background"==g?"bgClass":"gutter"==g?"gutterClass":
"wrapClass",U=t[A];if(U)if(null==v)t[A]=null;else{var na=U.match(p(v));if(!na)return!1;var ta=na.index+na[0].length;t[A]=U.slice(0,na.index)+(na.index&&ta!=U.length?" ":"")+U.slice(ta)||null}else return!1;return!0})}),addLineWidget:$c(function(b,g,v){return Xc(this,b,g,v)}),removeLineWidget:function(b){b.clear()},markText:function(b,g,v){return kd(this,Nb(this,b),Nb(this,g),v,v&&v.type||"range")},setBookmark:function(b,g){g={replacedWith:g&&(null==g.nodeType?g.widget:g),insertLeft:g&&g.insertLeft,
clearWhenEmpty:!1,shared:g&&g.shared,handleMouseEvents:g&&g.handleMouseEvents};b=Nb(this,b);return kd(this,b,b,g,"bookmark")},findMarksAt:function(b){b=Nb(this,b);var g=[],v=Pa(this,b.line).markedSpans;if(v)for(var t=0;t<v.length;++t){var A=v[t];(null==A.from||A.from<=b.ch)&&(null==A.to||A.to>=b.ch)&&g.push(A.marker.parent||A.marker)}return g},findMarks:function(b,g,v){b=Nb(this,b);g=Nb(this,g);var t=[],A=b.line;this.iter(b.line,g.line+1,function(U){if(U=U.markedSpans)for(var na=0;na<U.length;na++){var ta=
U[na];null!=ta.to&&A==b.line&&b.ch>=ta.to||null==ta.from&&A!=b.line||null!=ta.from&&A==g.line&&ta.from>=g.ch||v&&!v(ta.marker)||t.push(ta.marker.parent||ta.marker)}++A});return t},getAllMarks:function(){var b=[];this.iter(function(g){if(g=g.markedSpans)for(var v=0;v<g.length;++v)null!=g[v].from&&b.push(g[v].marker)});return b},posFromIndex:function(b){var g,v=this.first,t=this.lineSeparator().length;this.iter(function(A){A=A.text.length+t;if(A>b)return g=b,!0;b-=A;++v});return Nb(this,Sa(v,g))},indexFromPos:function(b){b=
Nb(this,b);var g=b.ch;if(b.line<this.first||0>b.ch)return 0;var v=this.lineSeparator().length;this.iter(this.first,b.line,function(t){g+=t.text.length+v});return g},copy:function(b){var g=new $e(Qa(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);g.scrollTop=this.scrollTop;g.scrollLeft=this.scrollLeft;g.sel=this.sel;g.extend=!1;b&&(g.history.undoDepth=this.history.undoDepth,g.setHistory(this.getHistory()));return g},linkedDoc:function(b){b||(b={});var g=
this.first,v=this.first+this.size;null!=b.from&&b.from>g&&(g=b.from);null!=b.to&&b.to<v&&(v=b.to);g=new $e(Qa(this,g,v),b.mode||this.modeOption,g,this.lineSep,this.direction);b.sharedHist&&(g.history=this.history);(this.linked||(this.linked=[])).push({doc:g,sharedHist:b.sharedHist});g.linked=[{doc:this,isParent:!0,sharedHist:b.sharedHist}];b=wd(this);for(v=0;v<b.length;v++){var t=b[v],A=t.find(),U=g.clipPos(A.from);A=g.clipPos(A.to);vb(U,A)&&(U=kd(g,U,A,t.primary,t.primary.type),t.markers.push(U),
U.parent=t)}return g},unlinkDoc:function(b){b instanceof se&&(b=b.doc);if(this.linked)for(var g=0;g<this.linked.length;++g)if(this.linked[g].doc==b){this.linked.splice(g,1);b.unlinkDoc(this);$d(wd(this));break}if(b.history==this.history){var v=[b.id];Cc(b,function(t){return v.push(t.id)},!0);b.history=new nd(null);b.history.done=Te(this.history.done,v);b.history.undone=Te(this.history.undone,v)}},iterLinkedDocs:function(b){Cc(this,b)},getMode:function(){return this.mode},getEditor:function(){return this.cm},
splitLines:function(b){return this.lineSep?b.split(this.lineSep):Cg(b)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:$c(function(b){"rtl"!=b&&(b="ltr");b!=this.direction&&(this.direction=b,this.iter(function(g){return g.order=null}),this.cm&&Bd(this.cm))})});$e.prototype.eachLine=$e.prototype.iter;for(var Jg=0,Yg=!1,pf={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",
37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"\x3d",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"\x3d",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"\x3d",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Xf=0;10>Xf;Xf++)pf[Xf+48]=pf[Xf+96]=String(Xf);for(var mg=65;90>=mg;mg++)pf[mg]=
String.fromCharCode(mg);for(var Yf=1;12>=Yf;Yf++)pf[Yf+111]=pf[Yf+63235]="F"+Yf;var Mf={basic:{Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},pcDefault:{"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo",
"Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection",
"Alt-U":"redoSelection",fallthrough:"basic"},emacsy:{"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},macDefault:{"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo",
"Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft",
"Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]}};Mf["default"]=ff?Mf.macDefault:Mf.pcDefault;var Nf={selectAll:n,singleSelection:function(b){return b.setSelection(b.getCursor("anchor"),b.getCursor("head"),kf)},killLine:function(b){return Df(b,function(g){if(g.empty()){var v=Pa(b.doc,g.head.line).text.length;return g.head.ch==v&&g.head.line<b.lastLine()?{from:g.head,to:Sa(g.head.line+
1,0)}:{from:g.head,to:Sa(g.head.line,v)}}return{from:g.from(),to:g.to()}})},deleteLine:function(b){return Df(b,function(g){return{from:Sa(g.from().line,0),to:Nb(b.doc,Sa(g.to().line+1,0))}})},delLineLeft:function(b){return Df(b,function(g){return{from:Sa(g.from().line,0),to:g.from()}})},delWrappedLineLeft:function(b){return Df(b,function(g){var v=b.charCoords(g.head,"div").top+5;return{from:b.coordsChar({left:0,top:v},"div"),to:g.from()}})},delWrappedLineRight:function(b){return Df(b,function(g){var v=
b.charCoords(g.head,"div").top+5;v=b.coordsChar({left:b.display.lineDiv.offsetWidth+100,top:v},"div");return{from:g.from(),to:v}})},undo:function(b){return b.undo()},redo:function(b){return b.redo()},undoSelection:function(b){return b.undoSelection()},redoSelection:function(b){return b.redoSelection()},goDocStart:function(b){return b.extendSelection(Sa(b.firstLine(),0))},goDocEnd:function(b){return b.extendSelection(Sa(b.lastLine()))},goLineStart:function(b){return b.extendSelectionsBy(function(g){return Mg(b,
g.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(b){return b.extendSelectionsBy(function(g){return Ng(b,g.head)},{origin:"+move",bias:1})},goLineEnd:function(b){return b.extendSelectionsBy(function(g){g=g.head.line;var v=Pa(b.doc,g);var t=v;for(var A;A=Xb(t,!1);)t=A.find(1,!0).line;t!=v&&(g=qb(t));return ug(!0,b,v,g,-1)},{origin:"+move",bias:-1})},goLineRight:function(b){return b.extendSelectionsBy(function(g){g=b.cursorCoords(g.head,"div").top+5;return b.coordsChar({left:b.display.lineDiv.offsetWidth+
100,top:g},"div")},Vf)},goLineLeft:function(b){return b.extendSelectionsBy(function(g){g=b.cursorCoords(g.head,"div").top+5;return b.coordsChar({left:0,top:g},"div")},Vf)},goLineLeftSmart:function(b){return b.extendSelectionsBy(function(g){var v=b.cursorCoords(g.head,"div").top+5;v=b.coordsChar({left:0,top:v},"div");return v.ch<b.getLine(v.line).search(/\S/)?Ng(b,g.head):v},Vf)},goLineUp:function(b){return b.moveV(-1,"line")},goLineDown:function(b){return b.moveV(1,"line")},goPageUp:function(b){return b.moveV(-1,
"page")},goPageDown:function(b){return b.moveV(1,"page")},goCharLeft:function(b){return b.moveH(-1,"char")},goCharRight:function(b){return b.moveH(1,"char")},goColumnLeft:function(b){return b.moveH(-1,"column")},goColumnRight:function(b){return b.moveH(1,"column")},goWordLeft:function(b){return b.moveH(-1,"word")},goGroupRight:function(b){return b.moveH(1,"group")},goGroupLeft:function(b){return b.moveH(-1,"group")},goWordRight:function(b){return b.moveH(1,"word")},delCharBefore:function(b){return b.deleteH(-1,
"char")},delCharAfter:function(b){return b.deleteH(1,"char")},delWordBefore:function(b){return b.deleteH(-1,"word")},delWordAfter:function(b){return b.deleteH(1,"word")},delGroupBefore:function(b){return b.deleteH(-1,"group")},delGroupAfter:function(b){return b.deleteH(1,"group")},indentAuto:function(b){return b.indentSelection("smart")},indentMore:function(b){return b.indentSelection("add")},indentLess:function(b){return b.indentSelection("subtract")},insertTab:function(b){return b.replaceSelection("\t")},
insertSoftTab:function(b){for(var g=[],v=b.listSelections(),t=b.options.tabSize,A=0;A<v.length;A++){var U=v[A].from();U=ca(b.getLine(U.line),U.ch,t);g.push(Y(t-U%t))}b.replaceSelections(g)},defaultTab:function(b){b.somethingSelected()?b.indentSelection("add"):b.execCommand("insertTab")},transposeChars:function(b){return fd(b,function(){for(var g=b.listSelections(),v=[],t=0;t<g.length;t++)if(g[t].empty()){var A=g[t].head,U=Pa(b.doc,A.line).text;if(U)if(A.ch==U.length&&(A=new Sa(A.line,A.ch-1)),0<A.ch)A=
new Sa(A.line,A.ch+1),b.replaceRange(U.charAt(A.ch-1)+U.charAt(A.ch-2),Sa(A.line,A.ch-2),A,"+transpose");else if(A.line>b.doc.first){var na=Pa(b.doc,A.line-1).text;na&&(A=new Sa(A.line,1),b.replaceRange(U.charAt(0)+b.doc.lineSeparator()+na.charAt(na.length-1),Sa(A.line-1,na.length-1),A,"+transpose"))}v.push(new ae(A,A))}b.setSelections(v)})},newlineAndIndent:function(b){return fd(b,function(){for(var g=b.listSelections(),v=g.length-1;0<=v;v--)b.replaceRange(b.doc.lineSeparator(),g[v].anchor,g[v].head,
"+input");g=b.listSelections();for(v=0;v<g.length;v++)b.indentLine(g[v].from().line,null,!0);eb(b)})},openLine:function(b){return b.replaceSelection("\n","start")},toggleOverwrite:function(b){return b.toggleOverwrite()}},qh=new rf,vg=null,wg=function(b,g,v){this.time=b;this.pos=g;this.button=v};wg.prototype.compare=function(b,g,v){return this.time+400>b&&0==vb(g,this.pos)&&v==this.button};var Qf,Pf,Ef={toString:function(){return"CodeMirror.Init"}},Xg={},kg={};se.defaults=Xg;se.optionHandlers=kg;var Ag=
[];se.defineInitHook=function(b){return Ag.push(b)};var af=null,fe=function(b){this.cm=b;this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null;this.polling=new rf;this.composing=null;this.gracePeriod=!1;this.readDOMTimeout=null};fe.prototype.init=function(b){function g(ta){for(ta=ta.target;ta;ta=ta.parentNode){if(ta==na)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(ta.className))break}return!1}function v(ta){if(g(ta)&&!H(U,ta)){if(U.somethingSelected())af={lineWise:!1,
text:U.getSelections()},"cut"==ta.type&&U.replaceSelection("",null,"cut");else if(U.options.lineWiseCopyCut){var $a=ah(U);af={lineWise:!0,text:$a.text};"cut"==ta.type&&U.operation(function(){U.setSelections($a.ranges,0,kf);U.replaceSelection("",null,"cut")})}else return;if(ta.clipboardData){ta.clipboardData.clearData();var ub=af.text.join("\n");ta.clipboardData.setData("Text",ub);if(ta.clipboardData.getData("Text")==ub){ta.preventDefault();return}}var Lb=ch();ta=Lb.firstChild;U.display.lineSpace.insertBefore(Lb,
U.display.lineSpace.firstChild);ta.value=af.text.join("\n");var qc=document.activeElement;Uf(ta);setTimeout(function(){U.display.lineSpace.removeChild(Lb);qc.focus();qc==na&&A.showPrimarySelection()},50)}}var t=this,A=this,U=A.cm,na=A.div=b.lineDiv;bh(na,U.options.spellcheck,U.options.autocorrect,U.options.autocapitalize);xd(na,"paste",function(ta){!g(ta)||H(U,ta)||$g(ta,U)||11>=ne&&setTimeout(ed(U,function(){return t.updateFromDOM()}),20)});xd(na,"compositionstart",function(ta){t.composing={data:ta.data,
done:!1}});xd(na,"compositionupdate",function(ta){t.composing||(t.composing={data:ta.data,done:!1})});xd(na,"compositionend",function(ta){t.composing&&(ta.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)});xd(na,"touchstart",function(){return A.forceCompositionEnd()});xd(na,"input",function(){t.composing||t.readFromDOMSoon()});xd(na,"copy",v);xd(na,"cut",v)};fe.prototype.screenReaderLabelChanged=function(b){b?this.div.setAttribute("aria-label",b):this.div.removeAttribute("aria-label")};
fe.prototype.prepareSelection=function(){var b=B(this.cm,!1);b.focus=document.activeElement==this.div;return b};fe.prototype.showSelection=function(b,g){b&&this.cm.display.view.length&&((b.focus||g)&&this.showPrimarySelection(),this.showMultipleSelections(b))};fe.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()};fe.prototype.showPrimarySelection=function(){var b=this.getSelection(),g=this.cm,v=g.doc.sel.primary(),t=v.from();v=v.to();if(g.display.viewTo==
g.display.viewFrom||t.line>=g.display.viewTo||v.line<g.display.viewFrom)b.removeAllRanges();else{var A=lg(g,b.anchorNode,b.anchorOffset),U=lg(g,b.focusNode,b.focusOffset);if(!A||A.bad||!U||U.bad||0!=vb(hc(A,U),t)||0!=vb(sb(A,U),v))if(A=g.display.view,t=t.line>=g.display.viewFrom&&eh(g,t)||{node:A[0].measure.map[2],offset:0},v=v.line<g.display.viewTo&&eh(g,v),v||(v=A[A.length-1].measure,v=v.maps?v.maps[v.maps.length-1]:v.map,v={node:v[v.length-1],offset:v[v.length-2]-v[v.length-3]}),t&&v){A=b.rangeCount&&
b.getRangeAt(0);try{var na=Hf(t.node,t.offset,v.offset,v.node)}catch(ta){}na&&(!nf&&g.state.focused?(b.collapse(t.node,t.offset),na.collapsed||(b.removeAllRanges(),b.addRange(na))):(b.removeAllRanges(),b.addRange(na)),A&&null==b.anchorNode?b.addRange(A):nf&&this.startGracePeriod());this.rememberSelection()}else b.removeAllRanges()}};fe.prototype.startGracePeriod=function(){var b=this;clearTimeout(this.gracePeriod);this.gracePeriod=setTimeout(function(){b.gracePeriod=!1;b.selectionChanged()&&b.cm.operation(function(){return b.cm.curOp.selectionChanged=
!0})},20)};fe.prototype.showMultipleSelections=function(b){Ma(this.cm.display.cursorDiv,b.cursors);Ma(this.cm.display.selectionDiv,b.selection)};fe.prototype.rememberSelection=function(){var b=this.getSelection();this.lastAnchorNode=b.anchorNode;this.lastAnchorOffset=b.anchorOffset;this.lastFocusNode=b.focusNode;this.lastFocusOffset=b.focusOffset};fe.prototype.selectionInEditor=function(){var b=this.getSelection();if(!b.rangeCount)return!1;b=b.getRangeAt(0).commonAncestorContainer;return X(this.div,
b)};fe.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&document.activeElement==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())};fe.prototype.blur=function(){this.div.blur()};fe.prototype.getField=function(){return this.div};fe.prototype.supportsTouch=function(){return!0};fe.prototype.receivedFocus=function(){function b(){g.cm.state.focused&&(g.pollSelection(),g.polling.set(g.cm.options.pollInterval,b))}var g=this;this.selectionInEditor()?
this.pollSelection():fd(this.cm,function(){return g.cm.curOp.selectionChanged=!0});this.polling.set(this.cm.options.pollInterval,b)};fe.prototype.selectionChanged=function(){var b=this.getSelection();return b.anchorNode!=this.lastAnchorNode||b.anchorOffset!=this.lastAnchorOffset||b.focusNode!=this.lastFocusNode||b.focusOffset!=this.lastFocusOffset};fe.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var b=this.getSelection(),g=this.cm;if(dg&&
cg&&this.cm.display.gutterSpecs.length&&Fh(b.anchorNode))this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();else if(!this.composing){this.rememberSelection();var v=lg(g,b.anchorNode,b.anchorOffset),t=lg(g,b.focusNode,b.focusOffset);v&&t&&fd(g,function(){Fb(g.doc,be(v,t),kf);if(v.bad||t.bad)g.curOp.selectionChanged=!0})}}};fe.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var b=
this.cm,g=b.display,v=b.doc.sel.primary(),t=v.from(),A=v.to();0==t.ch&&t.line>b.firstLine()&&(t=Sa(t.line-1,Pa(b.doc,t.line-1).length));A.ch==Pa(b.doc,A.line).text.length&&A.line<b.lastLine()&&(A=Sa(A.line+1,0));if(t.line<g.viewFrom||A.line>g.viewTo-1)return!1;var U;t.line==g.viewFrom||0==(U=pe(b,t.line))?(v=qb(g.view[0].line),U=g.view[0].node):(v=qb(g.view[U].line),U=g.view[U-1].node.nextSibling);var na=pe(b,A.line);na==g.view.length-1?(A=g.viewTo-1,g=g.lineDiv.lastChild):(A=qb(g.view[na+1].line)-
1,g=g.view[na+1].node.previousSibling);if(!U)return!1;g=b.doc.splitLines(Gh(b,U,g,v,A));for(U=ja(b.doc,Sa(v,0),Sa(A,Pa(b.doc,A).text.length));1<g.length&&1<U.length;)if(qa(g)==qa(U))g.pop(),U.pop(),A--;else if(g[0]==U[0])g.shift(),U.shift(),v++;else break;var ta=0;na=0;for(var $a=g[0],ub=U[0],Lb=Math.min($a.length,ub.length);ta<Lb&&$a.charCodeAt(ta)==ub.charCodeAt(ta);)++ta;$a=qa(g);ub=qa(U);for(Lb=Math.min($a.length-(1==g.length?ta:0),ub.length-(1==U.length?ta:0));na<Lb&&$a.charCodeAt($a.length-
na-1)==ub.charCodeAt(ub.length-na-1);)++na;if(1==g.length&&1==U.length&&v==t.line)for(;ta&&ta>t.ch&&$a.charCodeAt($a.length-na-1)==ub.charCodeAt(ub.length-na-1);)ta--,na++;g[g.length-1]=$a.slice(0,$a.length-na).replace(/^\u200b+/,"");g[0]=g[0].slice(ta).replace(/\u200b+$/,"");t=Sa(v,ta);v=Sa(A,U.length?qa(U).length-na:0);if(1<g.length||g[0]||vb(t,v))return Ac(b.doc,g,t,v,"+input"),!0};fe.prototype.ensurePolled=function(){this.forceCompositionEnd()};fe.prototype.reset=function(){this.forceCompositionEnd()};
fe.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())};fe.prototype.readFromDOMSoon=function(){var b=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){b.readDOMTimeout=null;if(b.composing)if(b.composing.done)b.composing=null;else return;b.updateFromDOM()},80))};fe.prototype.updateFromDOM=function(){var b=this;!this.cm.isReadOnly()&&this.pollContent()||fd(this.cm,
function(){return Vd(b.cm)})};fe.prototype.setUneditable=function(b){b.contentEditable="false"};fe.prototype.onKeyPress=function(b){0==b.charCode||this.composing||(b.preventDefault(),this.cm.isReadOnly()||ed(this.cm,Bg)(this.cm,String.fromCharCode(null==b.charCode?b.keyCode:b.charCode),0))};fe.prototype.readOnlyChanged=function(b){this.div.contentEditable=String("nocursor"!=b)};fe.prototype.onContextMenu=function(){};fe.prototype.resetPosition=function(){};fe.prototype.needsContentAttribute=!0;var Be=
function(b){this.cm=b;this.prevInput="";this.pollingFast=!1;this.polling=new rf;this.hasSelection=!1;this.composing=null};Be.prototype.init=function(b){function g(na){if(!H(A,na)){if(A.somethingSelected())af={lineWise:!1,text:A.getSelections()};else if(A.options.lineWiseCopyCut){var ta=ah(A);af={lineWise:!0,text:ta.text};"cut"==na.type?A.setSelections(ta.ranges,null,kf):(t.prevInput="",U.value=ta.text.join("\n"),Uf(U))}else return;"cut"==na.type&&(A.state.cutIncoming=+new Date)}}var v=this,t=this,
A=this.cm;this.createField(b);var U=this.textarea;b.wrapper.insertBefore(this.wrapper,b.wrapper.firstChild);Sf&&(U.style.width="0px");xd(U,"input",function(){Xd&&9<=ne&&v.hasSelection&&(v.hasSelection=null);t.poll()});xd(U,"paste",function(na){H(A,na)||$g(na,A)||(A.state.pasteIncoming=+new Date,t.fastPoll())});xd(U,"cut",g);xd(U,"copy",g);xd(b.scroller,"paste",function(na){if(!da(b,na)&&!H(A,na))if(U.dispatchEvent){var ta=new Event("paste");ta.clipboardData=na.clipboardData;U.dispatchEvent(ta)}else A.state.pasteIncoming=
+new Date,t.focus()});xd(b.lineSpace,"selectstart",function(na){da(b,na)||D(na)});xd(U,"compositionstart",function(){var na=A.getCursor("from");t.composing&&t.composing.range.clear();t.composing={start:na,range:A.markText(na,A.getCursor("to"),{className:"CodeMirror-composing"})}});xd(U,"compositionend",function(){t.composing&&(t.poll(),t.composing.range.clear(),t.composing=null)})};Be.prototype.createField=function(b){this.wrapper=ch();this.textarea=this.wrapper.firstChild};Be.prototype.screenReaderLabelChanged=
function(b){b?this.textarea.setAttribute("aria-label",b):this.textarea.removeAttribute("aria-label")};Be.prototype.prepareSelection=function(){var b=this.cm,g=b.display,v=b.doc,t=B(b);if(b.options.moveInputWithCursor){b=ac(b,v.sel.primary().head,"div");v=g.wrapper.getBoundingClientRect();var A=g.lineDiv.getBoundingClientRect();t.teTop=Math.max(0,Math.min(g.wrapper.clientHeight-10,b.top+A.top-v.top));t.teLeft=Math.max(0,Math.min(g.wrapper.clientWidth-10,b.left+A.left-v.left))}return t};Be.prototype.showSelection=
function(b){var g=this.cm.display;Ma(g.cursorDiv,b.cursors);Ma(g.selectionDiv,b.selection);null!=b.teTop&&(this.wrapper.style.top=b.teTop+"px",this.wrapper.style.left=b.teLeft+"px")};Be.prototype.reset=function(b){if(!this.contextMenuPending&&!this.composing){var g=this.cm;g.somethingSelected()?(this.prevInput="",b=g.getSelection(),this.textarea.value=b,g.state.focused&&Uf(this.textarea),Xd&&9<=ne&&(this.hasSelection=b)):b||(this.prevInput=this.textarea.value="",Xd&&9<=ne&&(this.hasSelection=null))}};
Be.prototype.getField=function(){return this.textarea};Be.prototype.supportsTouch=function(){return!1};Be.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!Jf||la()!=this.textarea))try{this.textarea.focus()}catch(b){}};Be.prototype.blur=function(){this.textarea.blur()};Be.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0};Be.prototype.receivedFocus=function(){this.slowPoll()};Be.prototype.slowPoll=function(){var b=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,
function(){b.poll();b.cm.state.focused&&b.slowPoll()})};Be.prototype.fastPoll=function(){function b(){v.poll()||g?(v.pollingFast=!1,v.slowPoll()):(g=!0,v.polling.set(60,b))}var g=!1,v=this;v.pollingFast=!0;v.polling.set(20,b)};Be.prototype.poll=function(){var b=this,g=this.cm,v=this.textarea,t=this.prevInput;if(this.contextMenuPending||!g.state.focused||Lh(v)&&!t&&!this.composing||g.isReadOnly()||g.options.disableInput||g.state.keySeq)return!1;var A=v.value;if(A==t&&!g.somethingSelected())return!1;
if(Xd&&9<=ne&&this.hasSelection===A||ff&&/[\uf700-\uf7ff]/.test(A))return g.display.input.reset(),!1;if(g.doc.sel==g.display.selForContextMenu){var U=A.charCodeAt(0);8203!=U||t||(t="​");if(8666==U)return this.reset(),this.cm.execCommand("undo")}var na=0;for(U=Math.min(t.length,A.length);na<U&&t.charCodeAt(na)==A.charCodeAt(na);)++na;fd(g,function(){Bg(g,A.slice(na),t.length-na,null,b.composing?"*compose":null);1E3<A.length||-1<A.indexOf("\n")?v.value=b.prevInput="":b.prevInput=A;b.composing&&(b.composing.range.clear(),
b.composing.range=g.markText(b.composing.start,g.getCursor("to"),{className:"CodeMirror-composing"}))});return!0};Be.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)};Be.prototype.onKeyPress=function(){Xd&&9<=ne&&(this.hasSelection=null);this.fastPoll()};Be.prototype.onContextMenu=function(b){function g(){if(null!=na.selectionStart){var Zb=A.somethingSelected(),Jc="​"+(Zb?na.value:"");na.value="⇚";na.value=Jc;t.prevInput=Zb?"":"​";na.selectionStart=1;na.selectionEnd=
Jc.length;U.selForContextMenu=A.doc.sel}}function v(){if(t.contextMenuPending==v&&(t.contextMenuPending=!1,t.wrapper.style.cssText=Lb,na.style.cssText=ub,Xd&&9>ne&&U.scrollbars.setScrollTop(U.scroller.scrollTop=$a),null!=na.selectionStart)){(!Xd||Xd&&9>ne)&&g();var Zb=0,Jc=function(){U.selForContextMenu==A.doc.sel&&0==na.selectionStart&&0<na.selectionEnd&&"​"==t.prevInput?ed(A,n)(A):10>Zb++?U.detectingSelectAll=setTimeout(Jc,500):(U.selForContextMenu=null,U.input.reset())};U.detectingSelectAll=setTimeout(Jc,
200)}}var t=this,A=t.cm,U=A.display,na=t.textarea;t.contextMenuPending&&t.contextMenuPending();var ta=Td(A,b),$a=U.scroller.scrollTop;if(ta&&!gf){A.options.resetSelectionOnContextMenu&&-1==A.doc.sel.contains(ta)&&ed(A,Fb)(A.doc,be(ta),kf);var ub=na.style.cssText,Lb=t.wrapper.style.cssText;ta=t.wrapper.offsetParent.getBoundingClientRect();t.wrapper.style.cssText="position: static";na.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(b.clientY-ta.top-5)+"px; left: "+(b.clientX-
ta.left-5)+"px;\n      z-index: 1000; background: "+(Xd?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity\x3d5);";if(Ve)var qc=window.scrollY;U.input.focus();Ve&&window.scrollTo(null,qc);U.input.reset();A.somethingSelected()||(na.value=t.prevInput=" ");t.contextMenuPending=v;U.selForContextMenu=A.doc.sel;clearTimeout(U.detectingSelectAll);Xd&&9<=ne&&g();if(xg){Fa(b);var Yb=function(){z(window,"mouseup",
Yb);setTimeout(v,20)};xd(window,"mouseup",Yb)}else setTimeout(v,50)}};Be.prototype.readOnlyChanged=function(b){b||this.reset();this.textarea.disabled="nocursor"==b};Be.prototype.setUneditable=function(){};Be.prototype.needsContentAttribute=!1;(function(b){function g(t,A,U,na){b.defaults[t]=A;U&&(v[t]=na?function(ta,$a,ub){ub!=Ef&&U(ta,$a,ub)}:U)}var v=b.optionHandlers;b.defineOption=g;b.Init=Ef;g("value","",function(t,A){return t.setValue(A)},!0);g("mode",null,function(t,A){t.doc.modeOption=A;S(t)},
!0);g("indentUnit",2,S,!0);g("indentWithTabs",!1);g("smartIndent",!0);g("tabSize",4,function(t){Ka(t);x(t);Vd(t)},!0);g("lineSeparator",null,function(t,A){if(t.doc.lineSep=A){var U=[],na=t.doc.first;t.doc.iter(function($a){for(var ub=0;;){var Lb=$a.text.indexOf(A,ub);if(-1==Lb)break;ub=Lb+A.length;U.push(Sa(na,Lb))}na++});for(var ta=U.length-1;0<=ta;ta--)Ac(t.doc,A,U[ta],Sa(U[ta].line,U[ta].ch+A.length))}});g("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200c\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,
function(t,A,U){t.state.specialChars=new RegExp(A.source+(A.test("\t")?"":"|\t"),"g");U!=Ef&&t.refresh()});g("specialCharPlaceholder",Gc,function(t){return t.refresh()},!0);g("electricChars",!0);g("inputStyle",Jf?"contenteditable":"textarea",function(){throw Error("inputStyle can not (yet) be changed in a running editor");},!0);g("spellcheck",!1,function(t,A){return t.getInputField().spellcheck=A},!0);g("autocorrect",!1,function(t,A){return t.getInputField().autocorrect=A},!0);g("autocapitalize",
!1,function(t,A){return t.getInputField().autocapitalize=A},!0);g("rtlMoveVisually",!Kh);g("wholeLineUpdateBefore",!0);g("theme","default",function(t){Wg(t);Se(t)},!0);g("keyMap","default",function(t,A,U){A=gg(A);(U=U!=Ef&&gg(U))&&U.detach&&U.detach(t,A);A.attach&&A.attach(t,U||null)});g("extraKeys",null);g("configureMouse",null);g("lineWrapping",!1,Dh,!0);g("gutters",[],function(t,A){t.display.gutterSpecs=Je(A,t.options.lineNumbers);Se(t)},!0);g("fixedGutter",!0,function(t,A){t.display.gutters.style.left=
A?Md(t.display)+"px":"0";t.refresh()},!0);g("coverGutterNextToScrollbar",!1,function(t){return Rc(t)},!0);g("scrollbarStyle","native",function(t){Zc(t);Rc(t);t.display.scrollbars.setScrollTop(t.doc.scrollTop);t.display.scrollbars.setScrollLeft(t.doc.scrollLeft)},!0);g("lineNumbers",!1,function(t,A){t.display.gutterSpecs=Je(t.options.gutters,A);Se(t)},!0);g("firstLineNumber",1,Se,!0);g("lineNumberFormatter",function(t){return t},Se,!0);g("showCursorWhenSelecting",!1,Ge,!0);g("resetSelectionOnContextMenu",
!0);g("lineWiseCopyCut",!0);g("pasteLinesPerSelection",!0);g("selectionsMayTouch",!1);g("readOnly",!1,function(t,A){"nocursor"==A&&(e(t),t.display.input.blur());t.display.input.readOnlyChanged(A)});g("screenReaderLabel",null,function(t,A){t.display.input.screenReaderLabelChanged(""===A?null:A)});g("disableInput",!1,function(t,A){A||t.display.input.reset()},!0);g("dragDrop",!0,Ch);g("allowDropFileTypes",null);g("cursorBlinkRate",530);g("cursorScrollMargin",0);g("cursorHeight",1,Ge,!0);g("singleCursorHeightPerLine",
!0,Ge,!0);g("workTime",100);g("workDelay",100);g("flattenSpans",!0,Ka,!0);g("addModeClass",!1,Ka,!0);g("pollInterval",100);g("undoDepth",200,function(t,A){return t.doc.history.undoDepth=A});g("historyEventDelay",1250);g("viewportMargin",10,function(t){return t.refresh()},!0);g("maxHighlightLength",1E4,Ka,!0);g("moveInputWithCursor",!0,function(t,A){A||t.display.input.resetPosition()});g("tabindex",null,function(t,A){return t.display.input.getField().tabIndex=A||""});g("autofocus",null);g("direction",
"ltr",function(t,A){return t.doc.setDirection(A)},!0);g("phrases",null)})(se);(function(b){var g=b.optionHandlers,v=b.helpers={};b.prototype={constructor:b,focus:function(){window.focus();this.display.input.focus()},setOption:function(t,A){var U=this.options,na=U[t];if(U[t]!=A||"mode"==t)U[t]=A,g.hasOwnProperty(t)&&ed(this,g[t])(this,A,na),G(this,"optionChange",this,t)},getOption:function(t){return this.options[t]},getDoc:function(){return this.doc},addKeyMap:function(t,A){this.state.keyMaps[A?"push":
"unshift"](gg(t))},removeKeyMap:function(t){for(var A=this.state.keyMaps,U=0;U<A.length;++U)if(A[U]==t||A[U].name==t)return A.splice(U,1),!0},addOverlay:Dc(function(t,A){var U=t.token?t:b.getMode(this.options,t);if(U.startState)throw Error("Overlays may not be stateful.");ia(this.state.overlays,{mode:U,modeSpec:t,opaque:A&&A.opaque,priority:A&&A.priority||0},function(na){return na.priority});this.state.modeGen++;Vd(this)}),removeOverlay:Dc(function(t){for(var A=this.state.overlays,U=0;U<A.length;++U){var na=
A[U].modeSpec;if(na==t||"string"==typeof t&&na.name==t){A.splice(U,1);this.state.modeGen++;Vd(this);break}}}),indentLine:Dc(function(t,A,U){"string"!=typeof A&&"number"!=typeof A&&(A=null==A?this.options.smartIndent?"smart":"prev":A?"add":"subtract");Na(this.doc,t)&&Rf(this,t,A,U)}),indentSelection:Dc(function(t){for(var A=this.doc.sel.ranges,U=-1,na=0;na<A.length;na++){var ta=A[na];if(ta.empty())ta.head.line>U&&(Rf(this,ta.head.line,t,!0),U=ta.head.line,na==this.doc.sel.primIndex&&eb(this));else{var $a=
ta.from();ta=ta.to();var ub=Math.max(U,$a.line);U=Math.min(this.lastLine(),ta.line-(ta.ch?0:1))+1;for(ta=ub;ta<U;++ta)Rf(this,ta,t);ta=this.doc.sel.ranges;0==$a.ch&&A.length==ta.length&&0<ta[na].from().ch&&Ne(this.doc,na,new ae($a,ta[na].to()),kf)}}}),getTokenAt:function(t,A){return kc(this,t,A)},getLineTokens:function(t,A){return kc(this,Sa(t),A,!0)},getTokenTypeAt:function(t){t=Nb(this.doc,t);var A=Fc(this,Pa(this.doc,t.line)),U=0,na=(A.length-1)/2;t=t.ch;if(0==t)A=A[2];else for(;;){var ta=U+na>>
1;if((ta?A[2*ta-1]:0)>=t)na=ta;else if(A[2*ta+1]<t)U=ta+1;else{A=A[2*ta+2];break}}U=A?A.indexOf("overlay "):-1;return 0>U?A:0==U?null:A.slice(0,U-1)},getModeAt:function(t){var A=this.doc.mode;return A.innerMode?b.innerMode(A,this.getTokenAt(t).state).mode:A},getHelper:function(t,A){return this.getHelpers(t,A)[0]},getHelpers:function(t,A){var U=[];if(!v.hasOwnProperty(A))return U;var na=v[A];t=this.getModeAt(t);if("string"==typeof t[A])na[t[A]]&&U.push(na[t[A]]);else if(t[A])for(var ta=0;ta<t[A].length;ta++){var $a=
na[t[A][ta]];$a&&U.push($a)}else t.helperType&&na[t.helperType]?U.push(na[t.helperType]):na[t.name]&&U.push(na[t.name]);for(A=0;A<na._global.length;A++)ta=na._global[A],ta.pred(t,this)&&-1==va(U,ta.val)&&U.push(ta.val);return U},getStateAfter:function(t,A){var U=this.doc;t=Math.max(U.first,Math.min(null==t?U.first+U.size-1:t,U.first+U.size-1));return oc(this,t+1,A).state},cursorCoords:function(t,A){var U=this.doc.sel.primary();t=null==t?U.head:"object"==typeof t?Nb(this.doc,t):t?U.from():U.to();return ac(this,
t,A||"page")},charCoords:function(t,A){return Pb(this,Nb(this.doc,t),A||"page")},coordsChar:function(t,A){t=Ta(this,t,A||"page");return Bc(this,t.left,t.top)},lineAtHeight:function(t,A){t=Ta(this,{top:t,left:0},A||"page").top;return La(this.doc,t+this.display.viewOffset)},heightAtLine:function(t,A,U){var na=!1;if("number"==typeof t){var ta=this.doc.first+this.doc.size-1;t<this.doc.first?t=this.doc.first:t>ta&&(t=ta,na=!0);t=Pa(this.doc,t)}return bb(this,t,{top:0,left:0},A||"page",U||na).top+(na?this.doc.height-
Wd(t):0)},defaultTextHeight:function(){return Sd(this.display)},defaultCharWidth:function(){return yd(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(t,A,U,na,ta){var $a=this.display;t=ac(this,Nb(this.doc,t));var ub=t.bottom,Lb=t.left;A.style.position="absolute";A.setAttribute("cm-ignore-events","true");this.display.input.setUneditable(A);$a.sizer.appendChild(A);if("over"==na)ub=t.top;else if("above"==na||"near"==na){var qc=Math.max($a.wrapper.clientHeight,
this.doc.height),Yb=Math.max($a.sizer.clientWidth,$a.lineSpace.clientWidth);("above"==na||t.bottom+A.offsetHeight>qc)&&t.top>A.offsetHeight?ub=t.top-A.offsetHeight:t.bottom+A.offsetHeight<=qc&&(ub=t.bottom);Lb+A.offsetWidth>Yb&&(Lb=Yb-A.offsetWidth)}A.style.top=ub+"px";A.style.left=A.style.right="";"right"==ta?(Lb=$a.sizer.clientWidth-A.offsetWidth,A.style.right="0px"):("left"==ta?Lb=0:"middle"==ta&&(Lb=($a.sizer.clientWidth-A.offsetWidth)/2),A.style.left=Lb+"px");U&&(t=W(this,{left:Lb,top:ub,right:Lb+
A.offsetWidth,bottom:ub+A.offsetHeight}),null!=t.scrollTop&&uc(this,t.scrollTop),null!=t.scrollLeft&&Ic(this,t.scrollLeft))},triggerOnKeyDown:Dc(Qg),triggerOnKeyPress:Dc(Sg),triggerOnKeyUp:Rg,triggerOnMouseDown:Dc(Tg),execCommand:function(t){if(Nf.hasOwnProperty(t))return Nf[t].call(null,this)},triggerElectric:Dc(function(t){Zg(this,t)}),findPosH:function(t,A,U,na){var ta=1;0>A&&(ta=-1,A=-A);t=Nb(this.doc,t);for(var $a=0;$a<A&&(t=Dg(this.doc,t,ta,U,na),!t.hitSide);++$a);return t},moveH:Dc(function(t,
A){var U=this;this.extendSelectionsBy(function(na){return U.display.shift||U.doc.extend||na.empty()?Dg(U.doc,na.head,t,A,U.options.rtlMoveVisually):0>t?na.from():na.to()},Vf)}),deleteH:Dc(function(t,A){var U=this.doc;this.doc.sel.somethingSelected()?U.replaceSelection("",null,"+delete"):Df(this,function(na){var ta=Dg(U,na.head,t,A,!1);return 0>t?{from:ta,to:na.head}:{from:na.head,to:ta}})}),findPosV:function(t,A,U,na){var ta=1;0>A&&(ta=-1,A=-A);var $a=Nb(this.doc,t);for(t=0;t<A&&($a=ac(this,$a,"div"),
null==na?na=$a.left:$a.left=na,$a=dh(this,$a,ta,U),!$a.hitSide);++t);return $a},moveV:Dc(function(t,A){var U=this,na=this.doc,ta=[],$a=!this.display.shift&&!na.extend&&na.sel.somethingSelected();na.extendSelectionsBy(function(Lb){if($a)return 0>t?Lb.from():Lb.to();var qc=ac(U,Lb.head,"div");null!=Lb.goalColumn&&(qc.left=Lb.goalColumn);ta.push(qc.left);var Yb=dh(U,qc,t,A);"page"==A&&Lb==na.sel.primary()&&za(U,Pb(U,Yb,"div").top-qc.top);return Yb},Vf);if(ta.length)for(var ub=0;ub<na.sel.ranges.length;ub++)na.sel.ranges[ub].goalColumn=
ta[ub]}),findWordAt:function(t){var A=Pa(this.doc,t.line).text,U=t.ch,na=t.ch;if(A){var ta=this.getHelper(t,"wordChars");"before"!=t.sticky&&na!=A.length||!U?++na:--U;var $a=A.charAt(U);for($a=Ba($a,ta)?function(ub){return Ba(ub,ta)}:/\s/.test($a)?function(ub){return/\s/.test(ub)}:function(ub){return!/\s/.test(ub)&&!Ba(ub)};0<U&&$a(A.charAt(U-1));)--U;for(;na<A.length&&$a(A.charAt(na));)++na}return new ae(Sa(t.line,U),Sa(t.line,na))},toggleOverwrite:function(t){if(null==t||t!=this.state.overwrite)(this.state.overwrite=
!this.state.overwrite)?ua(this.display.cursorDiv,"CodeMirror-overwrite"):vf(this.display.cursorDiv,"CodeMirror-overwrite"),G(this,"overwriteToggle",this,this.state.overwrite)},hasFocus:function(){return this.display.input.getField()==la()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Dc(function(t,A){Eb(this,t,A)}),getScrollInfo:function(){var t=this.display.scroller;return{left:t.scrollLeft,top:t.scrollTop,height:t.scrollHeight-Ra(this)-this.display.barHeight,
width:t.scrollWidth-Ra(this)-this.display.barWidth,clientHeight:Ob(this),clientWidth:Bb(this)}},scrollIntoView:Dc(function(t,A){null==t?(t={from:this.doc.sel.primary().head,to:null},null==A&&(A=this.options.cursorScrollMargin)):"number"==typeof t?t={from:Sa(t,0),to:null}:null==t.from&&(t={from:t,to:null});t.to||(t.to=t.from);t.margin=A||0;null!=t.from.line?($b(this),this.curOp.scrollToPos=t):jc(this,t.from,t.to,t.margin)}),setSize:Dc(function(t,A){var U=this,na=function($a){return"number"==typeof $a||
/^\d+$/.test(String($a))?$a+"px":$a};null!=t&&(this.display.wrapper.style.width=na(t));null!=A&&(this.display.wrapper.style.height=na(A));this.options.lineWrapping&&r(this);var ta=this.display.viewFrom;this.doc.iter(ta,this.display.viewTo,function($a){if($a.widgets)for(var ub=0;ub<$a.widgets.length;ub++)if($a.widgets[ub].noHScroll){qe(U,ta,"widget");break}++ta});this.curOp.forceUpdate=!0;G(this,"refresh",this)}),operation:function(t){return fd(this,t)},startOperation:function(){return jd(this)},endOperation:function(){return ld(this)},
refresh:Dc(function(){var t=this.display.cachedTextHeight;Vd(this);this.curOp.forceUpdate=!0;x(this);Eb(this,this.doc.scrollLeft,this.doc.scrollTop);ue(this.display);(null==t||.5<Math.abs(t-Sd(this.display))||this.options.lineWrapping)&&Fd(this);G(this,"refresh",this)}),swapDoc:Dc(function(t){var A=this.doc;A.cm=null;this.state.selectingText&&this.state.selectingText();Qc(this,t);x(this);this.display.input.reset();Eb(this,t.scrollLeft,t.scrollTop);this.curOp.forceScroll=!0;ic(this,"swapDoc",this,
A);return A}),phrase:function(t){var A=this.options.phrases;return A&&Object.prototype.hasOwnProperty.call(A,t)?A[t]:t},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}};Ja(b);b.registerHelper=function(t,A,U){v.hasOwnProperty(t)||(v[t]=b[t]={_global:[]});v[t][A]=U};b.registerGlobalHelper=function(t,A,U,na){b.registerHelper(t,
A,na);v[t]._global.push({pred:U,val:na})}})(se);var Nh="iter insert remove copy getEditor constructor".split(" "),Zf;for(Zf in $e.prototype)$e.prototype.hasOwnProperty(Zf)&&0>va(Nh,Zf)&&(se.prototype[Zf]=function(b){return function(){return b.apply(this.doc,arguments)}}($e.prototype[Zf]));Ja($e);se.inputStyles={textarea:Be,contenteditable:fe};se.defineMode=function(b){se.defaults.mode||"null"==b||(se.defaults.mode=b);Hb.apply(this,arguments)};se.defineMIME=function(b,g){zf[b]=g};se.defineMode("null",
function(){return{token:function(b){return b.skipToEnd()}}});se.defineMIME("text/plain","null");se.defineExtension=function(b,g){se.prototype[b]=g};se.defineDocExtension=function(b,g){$e.prototype[b]=g};se.fromTextArea=function(b,g){function v(){b.value=ta.getValue()}g=g?P(g):{};g.value=b.value;!g.tabindex&&b.tabIndex&&(g.tabindex=b.tabIndex);!g.placeholder&&b.placeholder&&(g.placeholder=b.placeholder);if(null==g.autofocus){var t=la();g.autofocus=t==b||null!=b.getAttribute("autofocus")&&t==document.body}if(b.form&&
(xd(b.form,"submit",v),!g.leaveSubmitMethodAlone)){var A=b.form;var U=A.submit;try{var na=A.submit=function(){v();A.submit=U;A.submit();A.submit=na}}catch($a){}}g.finishInit=function($a){$a.save=v;$a.getTextArea=function(){return b};$a.toTextArea=function(){$a.toTextArea=isNaN;v();b.parentNode.removeChild($a.getWrapperElement());b.style.display="";b.form&&(z(b.form,"submit",v),g.leaveSubmitMethodAlone||"function"!=typeof b.form.submit||(b.form.submit=U))}};b.style.display="none";var ta=se(function($a){return b.parentNode.insertBefore($a,
b.nextSibling)},g);return ta};(function(b){b.off=z;b.on=xd;b.wheelEventPixels=ye;b.Doc=$e;b.splitLines=Cg;b.countColumn=ca;b.findColumn=ra;b.isWordChar=aa;b.Pass=ig;b.signal=G;b.Line=Cf;b.changeEnd=ve;b.scrollbarModel=Gg;b.Pos=Sa;b.cmpPos=vb;b.modes=og;b.mimeModes=zf;b.resolveMode=Kb;b.getMode=Cb;b.modeExtensions=Af;b.extendMode=ib;b.copyState=Ib;b.startState=Ua;b.innerMode=Oa;b.commands=Nf;b.keyMap=Mf;b.keyName=Lg;b.isModifierKey=lf;b.lookupKey=re;b.normalizeKeyMap=hd;b.StringStream=Ee;b.SharedTextMarker=
Lf;b.TextMarker=of;b.LineWidget=Kf;b.e_preventDefault=D;b.e_stopPropagation=Q;b.e_stop=Fa;b.addClass=ua;b.contains=X;b.rmClass=vf;b.keyNames=pf})(se);se.version="5.57.0";return se})}
goog.provide("module$node_modules$codemirror$lib$codemirror");
goog.global. module$node_modules$codemirror$lib$codemirror=shadow.js.require(1, {});
