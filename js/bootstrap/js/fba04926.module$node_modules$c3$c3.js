shadow$provide[46]=function(Nc,Vb,pc,wb){(function(p,ma){"object"===typeof wb&&"undefined"!==typeof pc?pc.exports=ma():"function"===typeof define&&define.amd?define(ma):(p=p||self,p.c3=ma())})(this,function(){function p(d){this.d3=window.d3?window.d3:"undefined"!==typeof Vb?Vb(45):void 0;this.api=d;this.config=this.getDefaultConfig();this.data={};this.cache={};this.axes={}}function ma(d){this.internal=new p(this);this.internal.loadConfig(d);this.internal.beforeInit(d);this.internal.init();this.internal.afterInit(d);
(function z(l,q,w){Object.keys(l).forEach(function(G){q[G]=l[G].bind(w);0<Object.keys(l[G]).length&&z(l[G],q[G],w)})})(ma.prototype,this,this)}function Ma(d,f){this.component=d;this.params=f||{};this.d3=d.d3;this.scale=this.d3.scaleLinear();this.range;this.orient="bottom";this.innerTickSize=6;this.outerTickSize=this.params.withOuterTick?6:0;this.tickPadding=3;this.tickValues=null;this.tickFormat;this.tickArguments;this.tickOffset=0;this.tickCulling=!0;this.tickCentered;this.tickTextCharSize;this.tickTextRotate=
this.params.tickTextRotate;this.tickLength;this.axis=this.generateAxis()}function y(d,f,l){function q(G,H,R){if(3>arguments.length)R=10;else if(0===R)return[];var ha=R-1;var Ja=(H-G)/ha;var D=Array(R);var Q=G;D[0]=Math.pow(10,Q);for(var oa=1;oa<ha;oa++)Q+=Ja,D[oa]=Math.pow(10,Q);D[ha]=Math.pow(10,H);return D}function w(G){return l(f(G))}var z=[.01,10];f||(f=d.scaleLinear(),f.range(z));l||(l=d.scaleLog(),l.domain(z),l.nice());w.domain=function(G){if(!arguments.length)return f.domain();f.domain(G);
return w};w.range=function(G){if(!arguments.length)return l.range();l.range(G);return w};w.ticks=function(G){return q(-2,1,G||10).map(function(H){return f.invert(H)})};w.copy=function(){return y(d,f.copy(),l.copy())};return w}function O(d){return 1===d/Math.pow(10,Math.ceil(Math.log(d)/Math.LN10-1E-12))}var X=function(d){return d[1]-d[0]},la=function(d,f,l){return P(d[f])?d[f]:l},ua=function(d){var f=Ea(d);d=[d.pathSegList.getItem(0),d.pathSegList.getItem(1)];return{x:d[0].x,y:Math.min(d[0].y,d[1].y),
width:f.width,height:f.height}},Ea=function(d){try{return d.getBBox()}catch(f){return{x:0,y:0,width:0,height:0}}},ka=function(d,f){var l=!1;Object.keys(d).forEach(function(q){d[q]===f&&(l=!0)});return l},P=function(d){return"undefined"!==typeof d},ca=function(d){return"undefined"===typeof d||null===d||ra(d)&&0===d.length||"object"===typeof d&&0===Object.keys(d).length},va=function(d){return"function"===typeof d},ra=function(d){return"string"===typeof d},Y=function(d){return"undefined"===typeof d},
qa=function(d){return d||0===d},ya=function(d){return"string"===typeof d?d.replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;"):d},ia=function(d){return Array.isArray(d)?[].concat.apply([],d):[]},ea=function(d){"undefined"===typeof d&&(d=window.navigator.userAgent);var f=d.indexOf("MSIE ");if(0<f)return parseInt(d.substring(f+5,d.indexOf(".",f)),10);f=d.indexOf("Trident/");return 0<f?(f=d.indexOf("rv:"),parseInt(d.substring(f+3,d.indexOf(".",f)),10)):!1},Ha=function(d){var f=ea();return"undefined"===typeof d?
!!f:d===f};Ma.prototype.axisX=function(d,f,l){d.attr("transform",function(q){return"translate("+Math.ceil(f(q)+l)+", 0)"})};Ma.prototype.axisY=function(d,f){d.attr("transform",function(l){return"translate(0,"+Math.ceil(f(l))+")"})};Ma.prototype.scaleExtent=function(d){var f=d[0];d=d[d.length-1];return f<d?[f,d]:[d,f]};Ma.prototype.generateTicks=function(d){var f=[];if(d.ticks)return d.ticks.apply(d,this.tickArguments);var l=d.domain();for(d=Math.ceil(l[0]);d<l[1];d++)f.push(d);0<f.length&&0<f[0]&&
f.unshift(f[0]-(f[1]-f[0]));return f};Ma.prototype.copyScale=function(){var d=this.scale.copy();if(this.params.isCategory){var f=this.scale.domain();d.domain([f[0],f[1]-1])}return d};Ma.prototype.textFormatted=function(d){d=this.tickFormat?this.tickFormat(d):d;return"undefined"!==typeof d?d:""};Ma.prototype.updateRange=function(){return this.range=this.scale.rangeExtent?this.scale.rangeExtent():this.scaleExtent(this.scale.range())};Ma.prototype.updateTickTextCharSize=function(d){var f=this;if(f.tickTextCharSize)return f.tickTextCharSize;
var l={h:11.5,w:5.5};d.select("text").text(function(q){return f.textFormatted(q)}).each(function(q){var w=Ea(this),z=f.textFormatted(q);q=w.height;w=z?w.width/z.length:void 0;q&&w&&(l.h=q,l.w=w)}).text("");return f.tickTextCharSize=l};Ma.prototype.isVertical=function(){return"left"===this.orient||"right"===this.orient};Ma.prototype.tspanData=function(d,f,l){var q=this.params.tickMultiline?this.splitTickText(d,l):[].concat(this.textFormatted(d));this.params.tickMultiline&&0<this.params.tickMultilineMax&&
(q=this.ellipsify(q,this.params.tickMultilineMax));return q.map(function(w){return{index:f,splitted:w,length:q.length}})};Ma.prototype.splitTickText=function(d,f){function l(R,ha){G=void 0;for(var Ja=1;Ja<ha.length;Ja++)if(" "===ha.charAt(Ja)&&(G=Ja),z=ha.substr(0,Ja+1),H=q.tickTextCharSize.w*z.length,w<H)return l(R.concat(ha.substr(0,G?G:Ja)),ha.slice(G?G+1:Ja));return R.concat(ha)}var q=this;d=q.textFormatted(d);var w=q.params.tickWidth,z,G,H;if("[object Array]"===Object.prototype.toString.call(d))return d;
if(!w||0>=w)w=q.isVertical()?95:q.params.isCategory?Math.ceil(f(1)-f(0))-12:110;return l([],d+"")};Ma.prototype.ellipsify=function(d,f){if(d.length<=f)return d;d=d.slice(0,f);var l=3;for(--f;0<=f;f--){var q=d[f].length;d[f]=d[f].substr(0,q-l).padEnd(q,".");l-=q;if(0>=l)break}return d};Ma.prototype.updateTickLength=function(){this.tickLength=Math.max(this.innerTickSize,0)+this.tickPadding};Ma.prototype.lineY2=function(d){d=this.scale(d)+(this.tickCentered?0:this.tickOffset);return this.range[0]<d&&
d<this.range[1]?this.innerTickSize:0};Ma.prototype.textY=function(){var d=this.tickTextRotate;return d?11.5-d/15*2.5*(0<d?1:-1):this.tickLength};Ma.prototype.textTransform=function(){var d=this.tickTextRotate;return d?"rotate("+d+")":""};Ma.prototype.textTextAnchor=function(){var d=this.tickTextRotate;return d?0<d?"start":"end":"middle"};Ma.prototype.tspanDx=function(){var d=this.tickTextRotate;return d?8*Math.sin(d/180*Math.PI):0};Ma.prototype.tspanDy=function(d,f){var l=this.tickTextCharSize.h;
0===f&&(l=this.isVertical()?-(this.tickTextCharSize.h/2*(d.length-1)-3):".71em");return l};Ma.prototype.generateAxis=function(){function d(w,z){var G;w.each(function(){var H=d.g=l.select(this),R=this.__chart__||f.scale,ha=this.__chart__=f.copyScale(),Ja=f.tickValues?f.tickValues:f.generateTicks(ha),D=H.selectAll(".tick").data(Ja,ha);Ja=D.enter().insert("g",".domain").attr("class","tick").style("opacity",1E-6);var Q=D.exit().remove();D=D.merge(Ja);if(q.isCategory){f.tickOffset=Math.ceil((ha(1)-ha(0))/
2);var oa=f.tickCentered?0:f.tickOffset;var Fa=f.tickCentered?f.tickOffset:0}else f.tickOffset=oa=0;f.updateRange();f.updateTickLength();f.updateTickTextCharSize(H.select(".tick"));var Ga=D.select("line").merge(Ja.append("line")),xb=D.select("text").merge(Ja.append("text")),Hb=D.selectAll("text").selectAll("tspan").data(function(Oa,Ua){return f.tspanData(Oa,Ua,ha)}),Kb=Hb.enter().append("tspan").merge(Hb).text(function(Oa){return Oa.splitted});Hb.exit().remove();H=H.selectAll(".domain").data([0]);
H=H.enter().append("path").merge(H).attr("class","domain");switch(f.orient){case "bottom":var Cb=f.axisX;Ga.attr("x1",oa).attr("x2",oa).attr("y2",function(Oa,Ua){return f.lineY2(Oa,Ua)});xb.attr("x",0).attr("y",function(Oa,Ua){return f.textY(Oa,Ua)}).attr("transform",function(Oa,Ua){return f.textTransform(Oa,Ua)}).style("text-anchor",function(Oa,Ua){return f.textTextAnchor(Oa,Ua)});Kb.attr("x",0).attr("dy",function(Oa,Ua){return f.tspanDy(Oa,Ua)}).attr("dx",function(Oa,Ua){return f.tspanDx(Oa,Ua)});
H.attr("d","M"+f.range[0]+","+f.outerTickSize+"V0H"+f.range[1]+"V"+f.outerTickSize);break;case "top":Cb=f.axisX;Ga.attr("x1",oa).attr("x2",oa).attr("y2",function(Oa,Ua){return-1*f.lineY2(Oa,Ua)});xb.attr("x",0).attr("y",function(Oa,Ua){return-1*f.textY(Oa,Ua)-(q.isCategory?2:f.tickLength-2)}).attr("transform",function(Oa,Ua){return f.textTransform(Oa,Ua)}).style("text-anchor",function(Oa,Ua){return f.textTextAnchor(Oa,Ua)});Kb.attr("x",0).attr("dy",function(Oa,Ua){return f.tspanDy(Oa,Ua)}).attr("dx",
function(Oa,Ua){return f.tspanDx(Oa,Ua)});H.attr("d","M"+f.range[0]+","+-f.outerTickSize+"V0H"+f.range[1]+"V"+-f.outerTickSize);break;case "left":Cb=f.axisY;Ga.attr("x2",-f.innerTickSize).attr("y1",Fa).attr("y2",Fa);xb.attr("x",-f.tickLength).attr("y",f.tickOffset).style("text-anchor","end");Kb.attr("x",-f.tickLength).attr("dy",function(Oa,Ua){return f.tspanDy(Oa,Ua)});H.attr("d","M"+-f.outerTickSize+","+f.range[0]+"H0V"+f.range[1]+"H"+-f.outerTickSize);break;case "right":Cb=f.axisY,Ga.attr("x2",
f.innerTickSize).attr("y1",Fa).attr("y2",Fa),xb.attr("x",f.tickLength).attr("y",f.tickOffset).style("text-anchor","start"),Kb.attr("x",f.tickLength).attr("dy",function(Oa,Ua){return f.tspanDy(Oa,Ua)}),H.attr("d","M"+f.outerTickSize+","+f.range[0]+"H0V"+f.range[1]+"H"+f.outerTickSize)}if(ha.rangeBand){var ib=ha,Ib=ib.rangeBand()/2;R=ha=function(Oa){return ib(Oa)+Ib}}else R.rangeBand?R=ha:Q.call(Cb,ha,f.tickOffset);Ja.call(Cb,R,f.tickOffset);G=(z?D.transition(z):D).style("opacity",1).call(Cb,ha,f.tickOffset)});
return G}var f=this,l=f.d3,q=f.params;d.scale=function(w){if(!arguments.length)return f.scale;f.scale=w;return d};d.orient=function(w){if(!arguments.length)return f.orient;f.orient=w in{top:1,right:1,bottom:1,left:1}?w+"":"bottom";return d};d.tickFormat=function(w){if(!arguments.length)return f.tickFormat;f.tickFormat=w;return d};d.tickCentered=function(w){if(!arguments.length)return f.tickCentered;f.tickCentered=w;return d};d.tickOffset=function(){return f.tickOffset};d.tickInterval=function(){if(q.isCategory)var w=
2*f.tickOffset;else w=d.g.select("path.domain").node().getTotalLength()-2*f.outerTickSize,w/=d.g.selectAll("line").size();return Infinity===w?0:w};d.ticks=function(){if(!arguments.length)return f.tickArguments;f.tickArguments=arguments;return d};d.tickCulling=function(w){if(!arguments.length)return f.tickCulling;f.tickCulling=w;return d};d.tickValues=function(w){if("function"===typeof w)f.tickValues=function(){return w(f.scale.domain())};else{if(!arguments.length)return f.tickValues;f.tickValues=
w}return d};return d};var aa={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",
selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",dragZoom:"c3-drag-zoom",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",
bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcLabelLine:"c3-arc-label-line",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",colorScale:"c3-colorscale",
stanfordElements:"c3-stanford-elements",stanfordLine:"c3-stanford-line",stanfordLines:"c3-stanford-lines",stanfordRegion:"c3-stanford-region",stanfordRegions:"c3-stanford-regions",stanfordText:"c3-stanford-text",stanfordTexts:"c3-stanford-texts",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",
legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"},Ba=function(){return function(d){this.owner=d;this.d3=d.d3;this.internal=Ma}}();Ba.prototype.init=function(){var d=this.owner,f=d.config,l=d.main;d.axes.x=l.append("g").attr("class",aa.axis+" "+aa.axisX).attr("clip-path",f.axis_x_inner?"":d.clipPathForXAxis).attr("transform",d.getTranslate("x")).style("visibility",
f.axis_x_show?"visible":"hidden");d.axes.x.append("text").attr("class",aa.axisXLabel).attr("transform",f.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this));d.axes.y=l.append("g").attr("class",aa.axis+" "+aa.axisY).attr("clip-path",f.axis_y_inner?"":d.clipPathForYAxis).attr("transform",d.getTranslate("y")).style("visibility",f.axis_y_show?"visible":"hidden");d.axes.y.append("text").attr("class",aa.axisYLabel).attr("transform",f.axis_rotated?"":"rotate(-90)").style("text-anchor",
this.textAnchorForYAxisLabel.bind(this));d.axes.y2=l.append("g").attr("class",aa.axis+" "+aa.axisY2).attr("transform",d.getTranslate("y2")).style("visibility",f.axis_y2_show?"visible":"hidden");d.axes.y2.append("text").attr("class",aa.axisY2Label).attr("transform",f.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))};Ba.prototype.getXAxis=function(d,f,l,q,w,z,G){var H=this.owner,R=H.config;w={isCategory:H.isCategorized(),withOuterTick:w,tickMultiline:R.axis_x_tick_multiline,
tickMultilineMax:R.axis_x_tick_multiline?Number(R.axis_x_tick_multilineMax):0,tickWidth:R.axis_x_tick_width,tickTextRotate:G?0:R.axis_x_tick_rotate,withoutTransition:z};d=(new this.internal(this,w)).axis.scale(d).orient(f);H.isTimeSeries()&&q&&"function"!==typeof q&&(q=q.map(function(ha){return H.parseDate(ha)}));d.tickFormat(l).tickValues(q);H.isCategorized()&&(d.tickCentered(R.axis_x_tick_centered),ca(R.axis_x_tick_culling)&&(R.axis_x_tick_culling=!1));return d};Ba.prototype.updateXAxisTickValues=
function(d,f){var l=this.owner,q=l.config;if(q.axis_x_tick_fit||q.axis_x_tick_count)var w=this.generateTickValues(l.mapTargetsToUniqueXs(d),q.axis_x_tick_count,l.isTimeSeries());f?f.tickValues(w):(l.xAxis.tickValues(w),l.subXAxis.tickValues(w));return w};Ba.prototype.getYAxis=function(d,f,l,q,w,z,G){var H=this.owner,R=H.config,ha=R["axis_"+d+"_tick_format"];!ha&&H.isAxisNormalized(d)&&(ha=function(Ja){return Ja+"%"});d=(new this.internal(this,{withOuterTick:w,withoutTransition:z,tickTextRotate:G?
0:R.axis_y_tick_rotate})).axis.scale(f).orient(l);ha&&d.tickFormat(ha);H.isTimeSeriesY()?d.ticks(R.axis_y_tick_time_type,R.axis_y_tick_time_interval):d.tickValues(q);return d};Ba.prototype.getId=function(d){var f=this.owner.config;return d in f.data_axes?f.data_axes[d]:"y"};Ba.prototype.getXAxisTickFormat=function(){var d=this.owner,f=d.config,l=d.isTimeSeries()?d.defaultAxisTimeFormat:d.isCategorized()?d.categoryName:function(q){return q};f.axis_x_tick_format&&(va(f.axis_x_tick_format)?l=f.axis_x_tick_format:
d.isTimeSeries()&&(l=function(q){return q?d.axisTimeFormat(f.axis_x_tick_format)(q):""}));return va(l)?function(q){return l.call(d,q)}:l};Ba.prototype.getTickValues=function(d,f){return d?d:f?f.tickValues():void 0};Ba.prototype.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)};Ba.prototype.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)};Ba.prototype.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,
this.owner.y2Axis)};Ba.prototype.getLabelOptionByAxisId=function(d){var f=this.owner.config;if("y"===d)var l=f.axis_y_label;else"y2"===d?l=f.axis_y2_label:"x"===d&&(l=f.axis_x_label);return l};Ba.prototype.getLabelText=function(d){d=this.getLabelOptionByAxisId(d);return ra(d)?d:d?d.text:null};Ba.prototype.setLabelText=function(d,f){var l=this.owner.config,q=this.getLabelOptionByAxisId(d);ra(q)?"y"===d?l.axis_y_label=f:"y2"===d?l.axis_y2_label=f:"x"===d&&(l.axis_x_label=f):q&&(q.text=f)};Ba.prototype.getLabelPosition=
function(d,f){f=(d=this.getLabelOptionByAxisId(d))&&"object"===typeof d&&d.position?d.position:f;return{isInner:0<=f.indexOf("inner"),isOuter:0<=f.indexOf("outer"),isLeft:0<=f.indexOf("left"),isCenter:0<=f.indexOf("center"),isRight:0<=f.indexOf("right"),isTop:0<=f.indexOf("top"),isMiddle:0<=f.indexOf("middle"),isBottom:0<=f.indexOf("bottom")}};Ba.prototype.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")};Ba.prototype.getYAxisLabelPosition=
function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")};Ba.prototype.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")};Ba.prototype.getLabelPositionById=function(d){return"y2"===d?this.getY2AxisLabelPosition():"y"===d?this.getYAxisLabelPosition():this.getXAxisLabelPosition()};Ba.prototype.textForXAxisLabel=function(){return this.getLabelText("x")};Ba.prototype.textForYAxisLabel=
function(){return this.getLabelText("y")};Ba.prototype.textForY2AxisLabel=function(){return this.getLabelText("y2")};Ba.prototype.xForAxisLabel=function(d,f){var l=this.owner;return d?f.isLeft?0:f.isCenter?l.width/2:l.width:f.isBottom?-l.height:f.isMiddle?-l.height/2:0};Ba.prototype.dxForAxisLabel=function(d,f){return d?f.isLeft?"0.5em":f.isRight?"-0.5em":"0":f.isTop?"-0.5em":f.isBottom?"0.5em":"0"};Ba.prototype.textAnchorForAxisLabel=function(d,f){return d?f.isLeft?"start":f.isCenter?"middle":"end":
f.isBottom?"start":f.isMiddle?"middle":"end"};Ba.prototype.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())};Ba.prototype.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())};Ba.prototype.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())};Ba.prototype.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,
this.getXAxisLabelPosition())};Ba.prototype.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())};Ba.prototype.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())};Ba.prototype.dyForXAxisLabel=function(){var d=this.owner,f=d.config,l=this.getXAxisLabelPosition();return f.axis_rotated?l.isInner?"1.2em":-25-(d.config.axis_x_inner?0:this.getMaxTickWidth("x")):l.isInner?"-0.5em":
d.getHorizontalAxisHeight("x")-10};Ba.prototype.dyForYAxisLabel=function(){var d=this.owner,f=this.getYAxisLabelPosition();return d.config.axis_rotated?f.isInner?"-0.5em":"3em":f.isInner?"1.2em":-10-(d.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)};Ba.prototype.dyForY2AxisLabel=function(){var d=this.owner,f=this.getY2AxisLabelPosition();return d.config.axis_rotated?f.isInner?"1.2em":"-2.2em":f.isInner?"-0.5em":15+(d.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)};Ba.prototype.textAnchorForXAxisLabel=
function(){return this.textAnchorForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())};Ba.prototype.textAnchorForYAxisLabel=function(){return this.textAnchorForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())};Ba.prototype.textAnchorForY2AxisLabel=function(){return this.textAnchorForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())};Ba.prototype.getMaxTickWidth=function(d,f){var l=this.owner,q=0;if(f&&l.currentMaxTickWidths[d])return l.currentMaxTickWidths[d];
if(l.svg){f=l.filterTargetsToShow(l.data.targets);if("y"===d){var w=l.y.copy().domain(l.getYDomain(f,"y"));w=this.getYAxis(d,w,l.yOrient,l.yAxisTickValues,!1,!0,!0)}else"y2"===d?(w=l.y2.copy().domain(l.getYDomain(f,"y2")),w=this.getYAxis(d,w,l.y2Orient,l.y2AxisTickValues,!1,!0,!0)):(w=l.x.copy().domain(l.getXDomain(f)),w=this.getXAxis(w,l.xOrient,l.xAxisTickFormat,l.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(f,w));var z=l.d3.select("body").append("div").classed("c3",!0);f=z.append("svg").style("visibility",
"hidden").style("position","fixed").style("top",0).style("left",0);f.append("g").call(w).each(function(){l.d3.select(this).selectAll("text").each(function(){var G=Ea(this);q<G.width&&(q=G.width)});z.remove()})}l.currentMaxTickWidths[d]=0>=q?l.currentMaxTickWidths[d]:q;return l.currentMaxTickWidths[d]};Ba.prototype.updateLabels=function(d){var f=this.owner,l=f.main.select("."+aa.axisX+" ."+aa.axisXLabel),q=f.main.select("."+aa.axisY+" ."+aa.axisYLabel);f=f.main.select("."+aa.axisY2+" ."+aa.axisY2Label);
(d?l.transition():l).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this));(d?q.transition():q).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this));(d?f.transition():f).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))};
Ba.prototype.getPadding=function(d,f,l,q){var w="number"===typeof d?d:d[f];return qa(w)?"ratio"===d.unit?d[f]*q:this.convertPixelsToAxisPadding(w,q):l};Ba.prototype.convertPixelsToAxisPadding=function(d,f){var l=this.owner;return d/(l.config.axis_rotated?l.width:l.height)*f};Ba.prototype.generateTickValues=function(d,f,l){var q=d,w;if(f)if(f=va(f)?f():f,1===f)q=[d[0]];else if(2===f)q=[d[0],d[d.length-1]];else if(2<f){var z=f-2;f=d[0];d=d[d.length-1];var G=(d-f)/(z+1);q=[f];for(w=0;w<z;w++){var H=
+f+G*(w+1);q.push(l?new Date(H):H)}q.push(d)}l||(q=q.sort(function(R,ha){return R-ha}));return q};Ba.prototype.generateTransitions=function(d){var f=this.owner.axes;return{axisX:d?f.x.transition().duration(d):f.x,axisY:d?f.y.transition().duration(d):f.y,axisY2:d?f.y2.transition().duration(d):f.y2,axisSubX:d?f.subx.transition().duration(d):f.subx}};Ba.prototype.redraw=function(d,f){var l=this.owner;d=d?l.d3.transition().duration(d):null;l.axes.x.style("opacity",f?0:1).call(l.xAxis,d);l.axes.y.style("opacity",
f?0:1).call(l.yAxis,d);l.axes.y2.style("opacity",f?0:1).call(l.y2Axis,d);l.axes.subx.style("opacity",f?0:1).call(l.subXAxis,d)};var Va={version:"0.7.20",chart:{fn:ma.prototype,internal:{fn:p.prototype,axis:{fn:Ba.prototype,internal:{fn:Ma.prototype}}}},generate:function(d){return new ma(d)}};p.prototype.beforeInit=function(){};p.prototype.afterInit=function(){};p.prototype.init=function(){var d=this.config;this.initParams();if(d.data_url)this.convertUrlToData(d.data_url,d.data_mimeType,d.data_headers,
d.data_keys,this.initWithData);else if(d.data_json)this.initWithData(this.convertJsonToData(d.data_json,d.data_keys));else if(d.data_rows)this.initWithData(this.convertRowsToData(d.data_rows));else if(d.data_columns)this.initWithData(this.convertColumnsToData(d.data_columns));else throw Error("url or json or rows or columns is required.");};p.prototype.initParams=function(){var d=this.d3,f=this.config;this.clipId="c3-"+(new Date).valueOf()+"-clip";this.clipIdForXAxis=this.clipId+"-xaxis";this.clipIdForYAxis=
this.clipId+"-yaxis";this.clipIdForGrid=this.clipId+"-grid";this.clipIdForSubchart=this.clipId+"-subchart";this.clipPath=this.getClipPath(this.clipId);this.clipPathForXAxis=this.getClipPath(this.clipIdForXAxis);this.clipPathForYAxis=this.getClipPath(this.clipIdForYAxis);this.clipPathForGrid=this.getClipPath(this.clipIdForGrid);this.clipPathForSubchart=this.getClipPath(this.clipIdForSubchart);this.dragStart=null;this.cancelClick=this.flowing=this.dragging=!1;this.mouseover=void 0;this.transiting=!1;
this.color=this.generateColor();this.levelColor=this.generateLevelColor();this.dataTimeParse=(f.data_xLocaltime?d.timeParse:d.utcParse)(this.config.data_xFormat);this.axisTimeFormat=f.axis_x_localtime?d.timeFormat:d.utcFormat;this.defaultAxisTimeFormat=function(l){return l.getMilliseconds()?d.timeFormat(".%L")(l):l.getSeconds()?d.timeFormat(":%S")(l):l.getMinutes()?d.timeFormat("%I:%M")(l):l.getHours()?d.timeFormat("%I %p")(l):l.getDay()&&1!==l.getDate()||1!==l.getDate()||l.getMonth()?d.timeFormat("%-m/%-d")(l):
d.timeFormat("%Y/%-m/%-d")(l)};this.hiddenTargetIds=[];this.hiddenLegendIds=[];this.focusedTargetIds=[];this.defocusedTargetIds=[];this.xOrient=f.axis_rotated?f.axis_x_inner?"right":"left":f.axis_x_inner?"top":"bottom";this.yOrient=f.axis_rotated?f.axis_y_inner?"top":"bottom":f.axis_y_inner?"right":"left";this.y2Orient=f.axis_rotated?f.axis_y2_inner?"bottom":"top":f.axis_y2_inner?"left":"right";this.subXOrient=f.axis_rotated?"left":"bottom";this.isLegendRight="right"===f.legend_position;this.isLegendInset=
"inset"===f.legend_position;this.isLegendTop="top-left"===f.legend_inset_anchor||"top-right"===f.legend_inset_anchor;this.isLegendLeft="top-left"===f.legend_inset_anchor||"bottom-left"===f.legend_inset_anchor;this.legendItemHeight=this.legendItemWidth=this.legendStep=0;this.currentMaxTickWidths={x:0,y:0,y2:0};this.rotated_padding_left=30;this.rotated_padding_right=f.axis_rotated&&!f.axis_x_show?0:30;this.rotated_padding_top=5;this.withoutFadeIn={};this.intervalForObserveInserted=void 0;this.axes.subx=
d.selectAll([])};p.prototype.initChartElements=function(){this.initBar&&this.initBar();this.initLine&&this.initLine();this.initArc&&this.initArc();this.initGauge&&this.initGauge();this.initText&&this.initText()};p.prototype.initWithData=function(d){var f=this,l=f.d3,q=f.config,w=!0;f.axis=new Ba(f);f.selectChart=q.bindto?"function"===typeof q.bindto.node?q.bindto:l.select(q.bindto):l.selectAll([]);f.selectChart.empty()&&(f.selectChart=l.select(document.createElement("div")).style("opacity",0),f.observeInserted(f.selectChart),
w=!1);f.selectChart.html("").classed("c3",!0);f.data.xs={};f.data.targets=f.convertDataToTargets(d);q.data_filter&&(f.data.targets=f.data.targets.filter(q.data_filter));q.data_hide&&f.addHiddenTargetIds(!0===q.data_hide?f.mapToIds(f.data.targets):q.data_hide);q.legend_hide&&f.addHiddenLegendIds(!0===q.legend_hide?f.mapToIds(f.data.targets):q.legend_hide);f.isStanfordGraphType()&&f.initStanfordData();f.updateSizes();f.updateScales();f.x.domain(l.extent(f.getXDomain(f.data.targets)));f.y.domain(f.getYDomain(f.data.targets,
"y"));f.y2.domain(f.getYDomain(f.data.targets,"y2"));f.subX.domain(f.x.domain());f.subY.domain(f.y.domain());f.subY2.domain(f.y2.domain());f.orgXDomain=f.x.domain();f.svg=f.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return q.onmouseover.call(f)}).on("mouseleave",function(){return q.onmouseout.call(f)});f.config.svg_classname&&f.svg.attr("class",f.config.svg_classname);d=f.svg.append("defs");f.clipChart=f.appendClip(d,f.clipId);f.clipXAxis=f.appendClip(d,f.clipIdForXAxis);
f.clipYAxis=f.appendClip(d,f.clipIdForYAxis);f.clipGrid=f.appendClip(d,f.clipIdForGrid);f.clipSubchart=f.appendClip(d,f.clipIdForSubchart);f.updateSvgSize();d=f.main=f.svg.append("g").attr("transform",f.getTranslate("main"));f.initPie&&f.initPie();f.initDragZoom&&f.initDragZoom();q.subchart_show&&f.initSubchart&&f.initSubchart();f.initTooltip&&f.initTooltip();f.initLegend&&f.initLegend();f.initTitle&&f.initTitle();f.initZoom&&f.initZoom();f.isStanfordGraphType()&&f.drawColorScale();q.subchart_show&&
f.initSubchartBrush&&f.initSubchartBrush();d.append("text").attr("class",aa.text+" "+aa.empty).attr("text-anchor","middle").attr("dominant-baseline","middle");f.initRegion();f.initGrid();d.append("g").attr("clip-path",f.clipPath).attr("class",aa.chart);q.grid_lines_front&&f.initGridLines();f.initStanfordElements();f.initEventRect();f.initChartElements();f.axis.init();f.updateTargets(f.data.targets);q.axis_x_selection&&f.brush.selectionAsValue(f.getDefaultSelection());w&&(f.updateDimension(),f.config.oninit.call(f),
f.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1}));f.bindResize();f.bindWindowFocus();f.api.element=f.selectChart.node()};p.prototype.smoothLines=function(d,f){var l=this;"grid"===f&&d.each(function(){var q=l.d3.select(this),w=q.attr("x1"),z=q.attr("x2"),G=q.attr("y1"),H=q.attr("y2");q.attr({x1:Math.ceil(w),x2:Math.ceil(z),y1:Math.ceil(G),y2:Math.ceil(H)})})};p.prototype.updateSizes=function(){var d=this.config,f=this.legend?this.getLegendHeight():
0,l=this.legend?this.getLegendWidth():0,q=this.isLegendRight||this.isLegendInset?0:f,w=this.hasArcType(),z=d.axis_rotated||w?0:this.getHorizontalAxisHeight("x"),G=d.axis_rotated||w?0:this.getHorizontalAxisHeight("x",!0),H=d.subchart_show&&!w?d.subchart_size_height+G:0;this.currentWidth=this.getCurrentWidth();this.currentHeight=this.getCurrentHeight();this.margin=d.axis_rotated?{top:this.getHorizontalAxisHeight("y2")+this.getCurrentPaddingTop(),right:w?0:this.getCurrentPaddingRight(),bottom:this.getHorizontalAxisHeight("y")+
q+this.getCurrentPaddingBottom(),left:H+(w?0:this.getCurrentPaddingLeft())}:{top:4+this.getCurrentPaddingTop(),right:w?0:this.getCurrentPaddingRight(),bottom:z+H+q+this.getCurrentPaddingBottom(),left:w?0:this.getCurrentPaddingLeft()};this.margin2=d.axis_rotated?{top:this.margin.top,right:NaN,bottom:20+q,left:this.rotated_padding_left}:{top:this.currentHeight-H-q,right:NaN,bottom:G+q,left:this.margin.left};this.margin3={top:0,right:NaN,bottom:0,left:0};this.updateSizeForLegend&&this.updateSizeForLegend(f,
l);this.width=this.currentWidth-this.margin.left-this.margin.right;this.height=this.currentHeight-this.margin.top-this.margin.bottom;0>this.width&&(this.width=0);0>this.height&&(this.height=0);this.width2=d.axis_rotated?this.margin.left-this.rotated_padding_left-this.rotated_padding_right:this.width;this.height2=d.axis_rotated?this.height:this.currentHeight-this.margin2.top-this.margin2.bottom;0>this.width2&&(this.width2=0);0>this.height2&&(this.height2=0);this.arcWidth=this.width-(this.isLegendRight?
l+10:0);this.arcHeight=this.height-(this.isLegendRight?0:10);this.hasType("gauge")&&!d.gauge_fullCircle&&(this.arcHeight+=this.height-this.getGaugeLabelHeight());this.updateRadius&&this.updateRadius();this.isLegendRight&&w&&(this.margin3.left=this.arcWidth/2+1.1*this.radiusExpanded)};p.prototype.updateTargets=function(d){var f=this.config;this.updateTargetsForText(d);this.updateTargetsForBar(d);this.updateTargetsForLine(d);this.hasArcType()&&this.updateTargetsForArc&&this.updateTargetsForArc(d);f.subchart_show&&
this.updateTargetsForSubchart&&this.updateTargetsForSubchart(d);this.showTargets()};p.prototype.showTargets=function(){var d=this;d.svg.selectAll("."+aa.target).filter(function(f){return d.isTargetToShow(f.id)}).transition().duration(d.config.transition_duration).style("opacity",1)};p.prototype.redraw=function(d,f){var l=this,q=l.main,w=l.d3,z=l.config,G=l.getShapeIndices(l.isAreaType),H=l.getShapeIndices(l.isBarType),R=l.getShapeIndices(l.isLineType),ha=l.hasArcType(),Ja,D=l.filterTargetsToShow(l.data.targets),
Q,oa,Fa=l.xv.bind(l);d=d||{};var Ga=la(d,"withY",!0);var xb=la(d,"withSubchart",!0);var Hb=la(d,"withTransition",!0);var Kb=la(d,"withTransform",!1);var Cb=la(d,"withUpdateXDomain",!1);var ib=la(d,"withUpdateOrgXDomain",!1);var Ib=la(d,"withTrimXDomain",!0);var Oa=la(d,"withUpdateXAxis",Cb);var Ua=la(d,"withLegend",!1);var Pa=la(d,"withEventRect",!0);var ja=la(d,"withDimension",!0);var Qa=la(d,"withTransitionForExit",Hb);var Za=la(d,"withTransitionForAxis",Hb);var qb=Hb?z.transition_duration:0;Qa=
Qa?qb:0;Za=Za?qb:0;f=f||l.axis.generateTransitions(Za);Ua&&z.legend_show?l.updateLegend(l.mapToIds(l.data.targets),d,f):ja&&l.updateDimension(!0);l.isCategorized()&&0===D.length&&l.x.domain([0,l.axes.x.selectAll(".tick").size()]);D.length?(l.updateXDomain(D,Cb,ib,Ib),z.axis_x_tick_values||(Q=l.axis.updateXAxisTickValues(D))):(l.xAxis.tickValues([]),l.subXAxis.tickValues([]));z.zoom_rescale&&!d.flow&&(oa=l.x.orgDomain());l.y.domain(l.getYDomain(D,"y",oa));l.y2.domain(l.getYDomain(D,"y2",oa));!z.axis_y_tick_values&&
z.axis_y_tick_count&&l.yAxis.tickValues(l.axis.generateTickValues(l.y.domain(),z.axis_y_tick_count));!z.axis_y2_tick_values&&z.axis_y2_tick_count&&l.y2Axis.tickValues(l.axis.generateTickValues(l.y2.domain(),z.axis_y2_tick_count));l.axis.redraw(Za,ha);l.axis.updateLabels(Hb);if((Cb||Oa)&&D.length)if(z.axis_x_tick_culling&&Q){for(Hb=1;Hb<Q.length;Hb++)if(Q.length/Hb<z.axis_x_tick_culling_max){var La=Hb;break}l.svg.selectAll("."+aa.axisX+" .tick text").each(function(Sa){Sa=Q.indexOf(Sa);0<=Sa&&w.select(this).style("display",
Sa%La?"none":"block")})}else l.svg.selectAll("."+aa.axisX+" .tick text").style("display","block");Hb=l.generateDrawArea?l.generateDrawArea(G,!1):void 0;Cb=l.generateDrawBar?l.generateDrawBar(H):void 0;ib=l.generateDrawLine?l.generateDrawLine(R,!1):void 0;Ib=l.generateXYForText(G,H,R,!0);Ua=l.generateXYForText(G,H,R,!1);l.updateCircleY();ja=(l.config.axis_rotated?l.circleY:l.circleX).bind(l);Oa=(l.config.axis_rotated?l.circleX:l.circleY).bind(l);Ga&&(l.subY.domain(l.getYDomain(D,"y")),l.subY2.domain(l.getYDomain(D,
"y2")));l.updateXgridFocus();q.select("text."+aa.text+"."+aa.empty).attr("x",l.width/2).attr("y",l.height/2).text(z.data_empty_label_text).transition().style("opacity",D.length?0:1);Pa&&l.redrawEventRect();l.updateGrid(qb);l.updateStanfordElements(qb);l.updateRegion(qb);l.updateBar(Qa);l.updateLine(Qa);l.updateArea(Qa);l.updateCircle(ja,Oa);l.hasDataLabel()&&l.updateText(Ib,Ua,Qa);l.redrawTitle&&l.redrawTitle();l.redrawArc&&l.redrawArc(qb,Qa,Kb);z.subchart_show&&l.redrawSubchart&&l.redrawSubchart(xb,
f,qb,Qa,G,H,R);l.isStanfordGraphType()&&l.drawColorScale();q.selectAll("."+aa.selectedCircles).filter(l.isBarType.bind(l)).selectAll("circle").remove();d.flow&&(Ja=l.generateFlow({targets:D,flow:d.flow,duration:d.flow.duration,drawBar:Cb,drawLine:ib,drawArea:Hb,cx:ja,cy:Oa,xv:Fa,xForText:Ib,yForText:Ua}));if(qb&&l.isTabVisible()){f=w.transition().duration(qb);var Na=[];[l.redrawBar(Cb,!0,f),l.redrawLine(ib,!0,f),l.redrawArea(Hb,!0,f),l.redrawCircle(ja,Oa,!0,f),l.redrawText(Ib,Ua,d.flow,!0,f),l.redrawRegion(!0,
f),l.redrawGrid(!0,f)].forEach(function(Sa){Sa.forEach(function(vb){Na.push(vb)})});var kb=l.generateWait();Na.forEach(function(Sa){kb.add(Sa)});kb(function(){Ja&&Ja();z.onrendered&&z.onrendered.call(l)})}else l.redrawBar(Cb),l.redrawLine(ib),l.redrawArea(Hb),l.redrawCircle(ja,Oa),l.redrawText(Ib,Ua,d.flow),l.redrawRegion(),l.redrawGrid(),Ja&&Ja(),z.onrendered&&z.onrendered.call(l);l.mapToIds(l.data.targets).forEach(function(Sa){l.withoutFadeIn[Sa]=!0})};p.prototype.updateAndRedraw=function(d){var f=
this.config;d=d||{};d.withTransition=la(d,"withTransition",!0);d.withTransform=la(d,"withTransform",!1);d.withLegend=la(d,"withLegend",!1);d.withUpdateXDomain=la(d,"withUpdateXDomain",!0);d.withUpdateOrgXDomain=la(d,"withUpdateOrgXDomain",!0);d.withTransitionForExit=!1;d.withTransitionForTransform=la(d,"withTransitionForTransform",d.withTransition);this.updateSizes();if(!d.withLegend||!f.legend_show){var l=this.axis.generateTransitions(d.withTransitionForAxis?f.transition_duration:0);this.updateScales();
this.updateSvgSize();this.transformAll(d.withTransitionForTransform,l)}this.redraw(d,l)};p.prototype.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})};p.prototype.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type};p.prototype.isCategorized=function(){return 0<=this.config.axis_x_type.indexOf("categor")};p.prototype.isCustomX=function(){var d=this.config;return!this.isTimeSeries()&&(d.data_x||!ca(d.data_xs))};p.prototype.isTimeSeriesY=
function(){return"timeseries"===this.config.axis_y_type};p.prototype.getTranslate=function(d){var f=this.config;if("main"===d){var l=Math.ceil(this.margin.left)+.5;var q=Math.ceil(this.margin.top)+.5}else"context"===d?(l=Math.ceil(this.margin2.left)+.5,q=Math.ceil(this.margin2.top)+.5):"legend"===d?(l=this.margin3.left,q=this.margin3.top):"x"===d?(l=0,q=f.axis_rotated?0:this.height):"y"===d?(l=0,q=f.axis_rotated?this.height:0):"y2"===d?(l=f.axis_rotated?0:this.width,q=f.axis_rotated?1:0):"subx"===
d?(l=0,q=f.axis_rotated?0:this.height2):"arc"===d&&(l=this.arcWidth/2,q=this.arcHeight/2-(this.hasType("gauge")?6:0));return"translate("+l+","+q+")"};p.prototype.initialOpacity=function(d){return null!==d.value&&this.withoutFadeIn[d.id]?1:0};p.prototype.initialOpacityForCircle=function(d){return null!==d.value&&this.withoutFadeIn[d.id]?this.opacityForCircle(d):0};p.prototype.opacityForCircle=function(d){var f=(va(this.config.point_show)?this.config.point_show(d):this.config.point_show)||this.isStanfordType(d)?
1:0;return qa(d.value)?this.isScatterType(d)?.5:f:0};p.prototype.opacityForText=function(){return this.hasDataLabel()?1:0};p.prototype.xx=function(d){return d?this.x(d.x):null};p.prototype.xvCustom=function(d,f){f=f?d[f]:d.value;this.isTimeSeries()?f=this.parseDate(d.value):this.isCategorized()&&"string"===typeof d.value&&(f=this.config.axis_x_categories.indexOf(d.value));return Math.ceil(this.x(f))};p.prototype.yvCustom=function(d,f){return Math.ceil((d.axis&&"y2"===d.axis?this.y2:this.y)(f?d[f]:
d.value))};p.prototype.xv=function(d){var f=d.value;this.isTimeSeries()?f=this.parseDate(d.value):this.isCategorized()&&"string"===typeof d.value&&(f=this.config.axis_x_categories.indexOf(d.value));return Math.ceil(this.x(f))};p.prototype.yv=function(d){return Math.ceil((d.axis&&"y2"===d.axis?this.y2:this.y)(d.value))};p.prototype.subxx=function(d){return d?this.subX(d.x):null};p.prototype.transformMain=function(d,f){if(f&&f.axisX)var l=f.axisX;else l=this.main.select("."+aa.axisX),d&&(l=l.transition());
if(f&&f.axisY)var q=f.axisY;else q=this.main.select("."+aa.axisY),d&&(q=q.transition());f&&f.axisY2?f=f.axisY2:(f=this.main.select("."+aa.axisY2),d&&(f=f.transition()));(d?this.main.transition():this.main).attr("transform",this.getTranslate("main"));l.attr("transform",this.getTranslate("x"));q.attr("transform",this.getTranslate("y"));f.attr("transform",this.getTranslate("y2"));this.main.select("."+aa.chartArcs).attr("transform",this.getTranslate("arc"))};p.prototype.transformAll=function(d,f){this.transformMain(d,
f);this.config.subchart_show&&this.transformContext(d,f);this.legend&&this.transformLegend(d)};p.prototype.updateSvgSize=function(){var d=this.svg.select("."+aa.brush+" .overlay");this.svg.attr("width",this.currentWidth).attr("height",this.currentHeight);this.svg.selectAll(["#"+this.clipId,"#"+this.clipIdForGrid]).select("rect").attr("width",this.width).attr("height",this.height);this.svg.select("#"+this.clipIdForXAxis).select("rect").attr("x",this.getXAxisClipX.bind(this)).attr("y",this.getXAxisClipY.bind(this)).attr("width",
this.getXAxisClipWidth.bind(this)).attr("height",this.getXAxisClipHeight.bind(this));this.svg.select("#"+this.clipIdForYAxis).select("rect").attr("x",this.getYAxisClipX.bind(this)).attr("y",this.getYAxisClipY.bind(this)).attr("width",this.getYAxisClipWidth.bind(this)).attr("height",this.getYAxisClipHeight.bind(this));this.svg.select("#"+this.clipIdForSubchart).select("rect").attr("width",this.width).attr("height",d.size()&&d.attr("height")||0);this.selectChart.style("max-height",this.currentHeight+
"px")};p.prototype.updateDimension=function(d){d||(this.config.axis_rotated?(this.axes.x.call(this.xAxis),this.axes.subx.call(this.subXAxis)):(this.axes.y.call(this.yAxis),this.axes.y2.call(this.y2Axis)));this.updateSizes();this.updateScales();this.updateSvgSize();this.transformAll(!1)};p.prototype.observeInserted=function(d){var f=this;if("undefined"===typeof MutationObserver)window.console.error("MutationObserver not defined.");else{var l=new MutationObserver(function(q){q.forEach(function(w){"childList"===
w.type&&w.previousSibling&&(l.disconnect(),f.intervalForObserveInserted=window.setInterval(function(){d.node().parentNode&&(window.clearInterval(f.intervalForObserveInserted),f.updateDimension(),f.brush&&f.brush.update(),f.config.oninit.call(f),f.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),d.transition().style("opacity",1))},10))})});l.observe(d.node(),{attributes:!0,childList:!0,characterData:!0})}};p.prototype.bindResize=
function(){var d=this,f=d.config;d.resizeFunction=d.generateResize();d.resizeFunction.add(function(){f.onresize.call(d)});f.resize_auto&&d.resizeFunction.add(function(){void 0!==d.resizeTimeout&&window.clearTimeout(d.resizeTimeout);d.resizeTimeout=window.setTimeout(function(){delete d.resizeTimeout;d.updateAndRedraw({withUpdateXDomain:!1,withUpdateOrgXDomain:!1,withTransition:!1,withTransitionForTransform:!1,withLegend:!0});d.brush&&d.brush.update()},100)});d.resizeFunction.add(function(){f.onresized.call(d)});
d.resizeIfElementDisplayed=function(){null!=d.api&&d.api.element.offsetParent&&d.resizeFunction()};window.addEventListener("resize",d.resizeIfElementDisplayed,!1)};p.prototype.bindWindowFocus=function(){var d=this;this.windowFocusHandler||(this.windowFocusHandler=function(){d.redraw()},window.addEventListener("focus",this.windowFocusHandler))};p.prototype.unbindWindowFocus=function(){window.removeEventListener("focus",this.windowFocusHandler);delete this.windowFocusHandler};p.prototype.generateResize=
function(){function d(){f.forEach(function(l){l()})}var f=[];d.add=function(l){f.push(l)};d.remove=function(l){for(var q=0;q<f.length;q++)if(f[q]===l){f.splice(q,1);break}};return d};p.prototype.endall=function(d,f){var l=0;d.each(function(){++l}).on("end",function(){--l||f.apply(this,arguments)})};p.prototype.generateWait=function(){var d=this,f=[],l=function(q){var w=setInterval(function(){if(d.isTabVisible()){var z=0;f.forEach(function(G){if(G.empty())z+=1;else try{G.transition()}catch(H){z+=1}});
z===f.length&&(clearInterval(w),q&&q())}},50)};l.add=function(q){f.push(q)};return l};p.prototype.parseDate=function(d){var f;d instanceof Date?f=d:"string"===typeof d?f=this.dataTimeParse(d):"object"===typeof d?f=new Date(+d):"number"!==typeof d||isNaN(d)||(f=new Date(+d));f&&!isNaN(+f)||window.console.error("Failed to parse x '"+d+"' to Date object");return f};p.prototype.isTabVisible=function(){return!document.hidden};p.prototype.getPathBox=ua;p.prototype.CLASS=aa;(function(){"SVGPathSeg"in window||
(window.SVGPathSeg=function(d,f,l){this.pathSegType=d;this.pathSegTypeAsLetter=f;this._owningPathSegList=l},window.SVGPathSeg.prototype.classname="SVGPathSeg",window.SVGPathSeg.PATHSEG_UNKNOWN=0,window.SVGPathSeg.PATHSEG_CLOSEPATH=1,window.SVGPathSeg.PATHSEG_MOVETO_ABS=2,window.SVGPathSeg.PATHSEG_MOVETO_REL=3,window.SVGPathSeg.PATHSEG_LINETO_ABS=4,window.SVGPathSeg.PATHSEG_LINETO_REL=5,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=
8,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,window.SVGPathSeg.PATHSEG_ARC_ABS=10,window.SVGPathSeg.PATHSEG_ARC_REL=11,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=
19,window.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(d){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,"z",d)},window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},
window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(d,f,l){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",d);this._x=f;this._y=l},window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+
" "+this._x+" "+this._y},window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(d){this._x=d;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(d){this._y=d;this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(d,
f,l){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",d);this._x=f;this._y=l},window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},window.SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(void 0,this._x,this._y)},
Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(d){this._x=d;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(d){this._y=d;this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(d,f,l){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",d);this._x=f;this._y=l},window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),
window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(d){this._x=d;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,
"y",{get:function(){return this._y},set:function(d){this._y=d;this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(d,f,l){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,"l",d);this._x=f;this._y=l},window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},window.SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+
" "+this._x+" "+this._y},window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(d){this._x=d;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(d){this._y=d;this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(d,
f,l,q,w,z,G){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",d);this._x=f;this._y=l;this._x1=q;this._y1=w;this._x2=z;this._y2=G},window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+
" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(d){this._x=d;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(d){this._y=d;this._segmentChanged()},
enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(d){this._x1=d;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(d){this._y1=d;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(d){this._x2=d;this._segmentChanged()},
enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(d){this._y2=d;this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(d,f,l,q,w,z,G){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",d);this._x=f;this._y=l;this._x1=q;this._y1=w;this._x2=z;this._y2=G},window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicRel.prototype.toString=
function(){return"[object SVGPathSegCurvetoCubicRel]"},window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(d){this._x=
d;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(d){this._y=d;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(d){this._x1=d;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(d){this._y1=
d;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(d){this._x2=d;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(d){this._y2=d;this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(d,f,l,q,w){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,
"Q",d);this._x=f;this._y=l;this._x1=q;this._y1=w},window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,
this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(d){this._x=d;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(d){this._y=d;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(d){this._x1=
d;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(d){this._y1=d;this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(d,f,l,q,w){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",d);this._x=f;this._y=l;this._x1=q;this._y1=w},window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticRel.prototype.toString=
function(){return"[object SVGPathSegCurvetoQuadraticRel]"},window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(d){this._x=d;this._segmentChanged()},
enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(d){this._y=d;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(d){this._x1=d;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(d){this._y1=d;this._segmentChanged()},
enumerable:!0}),window.SVGPathSegArcAbs=function(d,f,l,q,w,z,G,H){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",d);this._x=f;this._y=l;this._r1=q;this._r2=w;this._angle=z;this._largeArcFlag=G;this._sweepFlag=H},window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},window.SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+
" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(d){this._x=d;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,
"y",{get:function(){return this._y},set:function(d){this._y=d;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(d){this._r1=d;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(d){this._r2=d;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},
set:function(d){this._angle=d;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(d){this._largeArcFlag=d;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(d){this._sweepFlag=d;this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(d,f,l,q,w,z,G,H){window.SVGPathSeg.call(this,
window.SVGPathSeg.PATHSEG_ARC_REL,"a",d);this._x=f;this._y=l;this._r1=q;this._r2=w;this._angle=z;this._largeArcFlag=G;this._sweepFlag=H},window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},window.SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+
this._x+" "+this._y},window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(d){this._x=d;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(d){this._y=d;this._segmentChanged()},enumerable:!0}),
Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(d){this._r1=d;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(d){this._r2=d;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(d){this._angle=d;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,
"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(d){this._largeArcFlag=d;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(d){this._sweepFlag=d;this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(d,f){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",d);this._x=f},window.SVGPathSegLinetoHorizontalAbs.prototype=
Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},
set:function(d){this._x=d;this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(d,f){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",d);this._x=f},window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+
" "+this._x},window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(d){this._x=d;this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(d,f){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",d);this._y=f},window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype),
window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(d){this._y=d;this._segmentChanged()},
enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(d,f){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",d);this._y=f},window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalRel.prototype.clone=
function(){return new window.SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(d){this._y=d;this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(d,f,l,q,w){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",d);this._x=f;this._y=l;this._x2=q;this._y2=w},window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),
window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,
"x",{get:function(){return this._x},set:function(d){this._x=d;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(d){this._y=d;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(d){this._x2=d;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,
"y2",{get:function(){return this._y2},set:function(d){this._y2=d;this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(d,f,l,q,w){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",d);this._x=f;this._y=l;this._x2=q;this._y2=w},window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},
window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(d){this._x=d;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,
"y",{get:function(){return this._y},set:function(d){this._y=d;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(d){this._x2=d;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(d){this._y2=d;this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(d,
f,l){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",d);this._x=f;this._y=l},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=
function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(d){this._x=d;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(d){this._y=d;this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(d,f,l){window.SVGPathSeg.call(this,
window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",d);this._x=f;this._y=l},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,
this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(d){this._x=d;this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(d){this._y=d;this._segmentChanged()},enumerable:!0}),window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=
function(d,f){return new window.SVGPathSegMovetoAbs(void 0,d,f)},window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(d,f){return new window.SVGPathSegMovetoRel(void 0,d,f)},window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(d,f){return new window.SVGPathSegLinetoAbs(void 0,d,f)},window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(d,f){return new window.SVGPathSegLinetoRel(void 0,d,f)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(d,
f,l,q,w,z){return new window.SVGPathSegCurvetoCubicAbs(void 0,d,f,l,q,w,z)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(d,f,l,q,w,z){return new window.SVGPathSegCurvetoCubicRel(void 0,d,f,l,q,w,z)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(d,f,l,q){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,d,f,l,q)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(d,f,l,q){return new window.SVGPathSegCurvetoQuadraticRel(void 0,
d,f,l,q)},window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(d,f,l,q,w,z,G){return new window.SVGPathSegArcAbs(void 0,d,f,l,q,w,z,G)},window.SVGPathElement.prototype.createSVGPathSegArcRel=function(d,f,l,q,w,z,G){return new window.SVGPathSegArcRel(void 0,d,f,l,q,w,z,G)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(d){return new window.SVGPathSegLinetoHorizontalAbs(void 0,d)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(d){return new window.SVGPathSegLinetoHorizontalRel(void 0,
d)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(d){return new window.SVGPathSegLinetoVerticalAbs(void 0,d)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(d){return new window.SVGPathSegLinetoVerticalRel(void 0,d)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(d,f,l,q){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,d,f,l,q)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(d,
f,l,q){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,d,f,l,q)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(d,f){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,d,f)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(d,f){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,d,f)},"getPathSegAtLength"in window.SVGPathElement.prototype||(window.SVGPathElement.prototype.getPathSegAtLength=function(d){if(void 0===
d||!isFinite(d))throw"Invalid arguments.";var f=document.createElementNS("http://www.w3.org/2000/svg","path");f.setAttribute("d",this.getAttribute("d"));var l=f.pathSegList.numberOfItems-1;if(0>=l)return 0;do{f.pathSegList.removeItem(l);if(d>f.getTotalLength())break;l--}while(0<l);return l}));"SVGPathSegList"in window||(window.SVGPathSegList=function(d){this._pathElement=d;this._list=this._parsePath(this._pathElement.getAttribute("d"));this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]};
this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this));this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function(){this._checkPathSynchronizedToList();return this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function(){this._pathSegList||
(this._pathSegList=new window.SVGPathSegList(this));return this._pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),
window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},window.SVGPathSegList.prototype._updateListFromPathMutations=function(d){if(this._pathElement){var f=!1;d.forEach(function(l){"d"==l.attributeName&&(f=!0)});f&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect();this._pathElement.setAttribute("d",
window.SVGPathSegList._pathSegArrayAsString(this._list));this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.segmentChanged=function(d){this._writeListToPath()},window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList();this._list.forEach(function(d){d._owningPathSegList=null});this._list=[];this._writeListToPath()},window.SVGPathSegList.prototype.initialize=function(d){this._checkPathSynchronizedToList();
this._list=[d];d._owningPathSegList=this;this._writeListToPath();return d},window.SVGPathSegList.prototype._checkValidIndex=function(d){if(isNaN(d)||0>d||d>=this.numberOfItems)throw"INDEX_SIZE_ERR";},window.SVGPathSegList.prototype.getItem=function(d){this._checkPathSynchronizedToList();this._checkValidIndex(d);return this._list[d]},window.SVGPathSegList.prototype.insertItemBefore=function(d,f){this._checkPathSynchronizedToList();f>this.numberOfItems&&(f=this.numberOfItems);d._owningPathSegList&&
(d=d.clone());this._list.splice(f,0,d);d._owningPathSegList=this;this._writeListToPath();return d},window.SVGPathSegList.prototype.replaceItem=function(d,f){this._checkPathSynchronizedToList();d._owningPathSegList&&(d=d.clone());this._checkValidIndex(f);this._list[f]=d;d._owningPathSegList=this;this._writeListToPath();return d},window.SVGPathSegList.prototype.removeItem=function(d){this._checkPathSynchronizedToList();this._checkValidIndex(d);var f=this._list[d];this._list.splice(d,1);this._writeListToPath();
return f},window.SVGPathSegList.prototype.appendItem=function(d){this._checkPathSynchronizedToList();d._owningPathSegList&&(d=d.clone());this._list.push(d);d._owningPathSegList=this;this._writeListToPath();return d},window.SVGPathSegList._pathSegArrayAsString=function(d){var f="",l=!0;d.forEach(function(q){l?(l=!1,f+=q._asPathString()):f+=" "+q._asPathString()});return f},window.SVGPathSegList.prototype._parsePath=function(d){if(!d||0==d.length)return[];var f=this,l=function(){this.pathSegList=[]};
l.prototype.appendSegment=function(w){this.pathSegList.push(w)};var q=function(w){this._string=w;this._currentIndex=0;this._endIndex=this._string.length;this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN;this._skipOptionalSpaces()};q.prototype._isCurrentSpace=function(){var w=this._string[this._currentIndex];return" ">=w&&(" "==w||"\n"==w||"\t"==w||"\r"==w||"\f"==w)};q.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;
return this._currentIndex<this._endIndex};q.prototype._skipOptionalSpacesOrDelimiter=function(){if(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!=this._string.charAt(this._currentIndex))return!1;this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","==this._string.charAt(this._currentIndex)&&(this._currentIndex++,this._skipOptionalSpaces());return this._currentIndex<this._endIndex};q.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex};q.prototype.peekSegmentType=
function(){return this._pathSegTypeFromChar(this._string[this._currentIndex])};q.prototype._pathSegTypeFromChar=function(w){switch(w){case "Z":case "z":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case "M":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case "m":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case "L":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case "l":return window.SVGPathSeg.PATHSEG_LINETO_REL;case "C":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case "c":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;
case "Q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case "q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case "A":return window.SVGPathSeg.PATHSEG_ARC_ABS;case "a":return window.SVGPathSeg.PATHSEG_ARC_REL;case "H":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case "h":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case "V":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case "v":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case "S":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;
case "s":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case "T":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case "t":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}};q.prototype._nextCommandHelper=function(w,z){return("+"==w||"-"==w||"."==w||"0"<=w&&"9">=w)&&z!=window.SVGPathSeg.PATHSEG_CLOSEPATH?z==window.SVGPathSeg.PATHSEG_MOVETO_ABS?window.SVGPathSeg.PATHSEG_LINETO_ABS:z==window.SVGPathSeg.PATHSEG_MOVETO_REL?
window.SVGPathSeg.PATHSEG_LINETO_REL:z:window.SVGPathSeg.PATHSEG_UNKNOWN};q.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var w=this.peekSegmentType();return w==window.SVGPathSeg.PATHSEG_MOVETO_ABS||w==window.SVGPathSeg.PATHSEG_MOVETO_REL};q.prototype._parseNumber=function(){var w=0,z=0,G=1,H=0,R=1,ha=1,Ja=this._currentIndex;this._skipOptionalSpaces();this._currentIndex<this._endIndex&&"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:this._currentIndex<
this._endIndex&&"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,R=-1);if(!(this._currentIndex==this._endIndex||("0">this._string.charAt(this._currentIndex)||"9"<this._string.charAt(this._currentIndex))&&"."!=this._string.charAt(this._currentIndex))){for(var D=this._currentIndex;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&"9">=this._string.charAt(this._currentIndex);)this._currentIndex++;if(this._currentIndex!=D)for(var Q=this._currentIndex-
1,oa=1;Q>=D;)z+=oa*(this._string.charAt(Q--)-0),oa*=10;if(this._currentIndex<this._endIndex&&"."==this._string.charAt(this._currentIndex)){this._currentIndex++;if(this._currentIndex>=this._endIndex||"0">this._string.charAt(this._currentIndex)||"9"<this._string.charAt(this._currentIndex))return;for(;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&"9">=this._string.charAt(this._currentIndex);)G*=10,H+=(this._string.charAt(this._currentIndex)-0)/G,this._currentIndex+=
1}if(this._currentIndex!=Ja&&this._currentIndex+1<this._endIndex&&("e"==this._string.charAt(this._currentIndex)||"E"==this._string.charAt(this._currentIndex))&&"x"!=this._string.charAt(this._currentIndex+1)&&"m"!=this._string.charAt(this._currentIndex+1)){this._currentIndex++;"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,ha=-1);if(this._currentIndex>=this._endIndex||"0">this._string.charAt(this._currentIndex)||
"9"<this._string.charAt(this._currentIndex))return;for(;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&"9">=this._string.charAt(this._currentIndex);)w*=10,w+=this._string.charAt(this._currentIndex)-0,this._currentIndex++}z=(z+H)*R;w&&(z*=Math.pow(10,ha*w));if(Ja!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),z}};q.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var w=this._string.charAt(this._currentIndex++);if("0"==
w)w=!1;else if("1"==w)w=!0;else return;this._skipOptionalSpacesOrDelimiter();return w}};q.prototype.parseSegment=function(){var w=this._string[this._currentIndex];var z=this._pathSegTypeFromChar(w);if(z==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN)return null;z=this._nextCommandHelper(w,this._previousCommand);if(z==window.SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;this._previousCommand=z;switch(z){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(f,
this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(f,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(f,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(f,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(f,
this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(f,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(f,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(f,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new window.SVGPathSegClosePath(f);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:w=
this._parseNumber();z=this._parseNumber();var G=this._parseNumber();var H=this._parseNumber();var R=this._parseNumber();var ha=this._parseNumber();return new window.SVGPathSegCurvetoCubicRel(f,R,ha,w,z,G,H);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:return w=this._parseNumber(),z=this._parseNumber(),G=this._parseNumber(),H=this._parseNumber(),R=this._parseNumber(),ha=this._parseNumber(),new window.SVGPathSegCurvetoCubicAbs(f,R,ha,w,z,G,H);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:return G=
this._parseNumber(),H=this._parseNumber(),R=this._parseNumber(),ha=this._parseNumber(),new window.SVGPathSegCurvetoCubicSmoothRel(f,R,ha,G,H);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:return G=this._parseNumber(),H=this._parseNumber(),R=this._parseNumber(),ha=this._parseNumber(),new window.SVGPathSegCurvetoCubicSmoothAbs(f,R,ha,G,H);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:return w=this._parseNumber(),z=this._parseNumber(),R=this._parseNumber(),ha=this._parseNumber(),new window.SVGPathSegCurvetoQuadraticRel(f,
R,ha,w,z);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:return w=this._parseNumber(),z=this._parseNumber(),R=this._parseNumber(),ha=this._parseNumber(),new window.SVGPathSegCurvetoQuadraticAbs(f,R,ha,w,z);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(f,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(f,this._parseNumber(),
this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:w=this._parseNumber();z=this._parseNumber();G=this._parseNumber();H=this._parseArcFlag();var Ja=this._parseArcFlag();R=this._parseNumber();ha=this._parseNumber();return new window.SVGPathSegArcRel(f,R,ha,w,z,G,H,Ja);case window.SVGPathSeg.PATHSEG_ARC_ABS:return w=this._parseNumber(),z=this._parseNumber(),G=this._parseNumber(),H=this._parseArcFlag(),Ja=this._parseArcFlag(),R=this._parseNumber(),ha=this._parseNumber(),new window.SVGPathSegArcAbs(f,
R,ha,w,z,G,H,Ja);default:throw"Unknown path seg type.";}};l=new l;d=new q(d);if(!d.initialCommandIsMoveTo())return[];for(;d.hasMoreData();){q=d.parseSegment();if(!q)return[];l.appendSegment(q)}return l.pathSegList})})();String.prototype.padEnd||(String.prototype.padEnd=function(d,f){d>>=0;f=String("undefined"!==typeof f?f:" ");if(this.length>d)return String(this);d-=this.length;d>f.length&&(f+=f.repeat(d/f.length));return String(this)+f.slice(0,d)});"function"!==typeof Object.assign&&Object.defineProperty(Object,
"assign",{value:function(d,f){if(null===d||void 0===d)throw new TypeError("Cannot convert undefined or null to object");for(var l=Object(d),q=1;q<arguments.length;q++){var w=arguments[q];if(null!==w&&void 0!==w)for(var z in w)Object.prototype.hasOwnProperty.call(w,z)&&(l[z]=w[z])}return l},writable:!0,configurable:!0});ma.prototype.axis=function(){};ma.prototype.axis.labels=function(d){var f=this.internal;arguments.length&&(Object.keys(d).forEach(function(l){f.axis.setLabelText(l,d[l])}),f.axis.updateLabels())};
ma.prototype.axis.max=function(d){var f=this.internal,l=f.config;if(arguments.length)"object"===typeof d?(qa(d.x)&&(l.axis_x_max=d.x),qa(d.y)&&(l.axis_y_max=d.y),qa(d.y2)&&(l.axis_y2_max=d.y2)):l.axis_y_max=l.axis_y2_max=d,f.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0});else return{x:l.axis_x_max,y:l.axis_y_max,y2:l.axis_y2_max}};ma.prototype.axis.min=function(d){var f=this.internal,l=f.config;if(arguments.length)"object"===typeof d?(qa(d.x)&&(l.axis_x_min=d.x),qa(d.y)&&(l.axis_y_min=d.y),
qa(d.y2)&&(l.axis_y2_min=d.y2)):l.axis_y_min=l.axis_y2_min=d,f.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0});else return{x:l.axis_x_min,y:l.axis_y_min,y2:l.axis_y2_min}};ma.prototype.axis.range=function(d){if(arguments.length)P(d.max)&&this.axis.max(d.max),P(d.min)&&this.axis.min(d.min);else return{max:this.axis.max(),min:this.axis.min()}};ma.prototype.axis.types=function(d){var f=this.internal;if(void 0===d)return{y:f.config.axis_y_type,y2:f.config.axis_y2_type};P(d.y)&&(f.config.axis_y_type=
d.y);P(d.y2)&&(f.config.axis_y2_type=d.y2);f.updateScales();f.redraw()};ma.prototype.category=function(d,f){var l=this.internal,q=l.config;1<arguments.length&&(q.axis_x_categories[d]=f,l.redraw());return q.axis_x_categories[d]};ma.prototype.categories=function(d){var f=this.internal,l=f.config;if(!arguments.length)return l.axis_x_categories;l.axis_x_categories=d;f.redraw();return l.axis_x_categories};ma.prototype.resize=function(d){var f=this.internal.config;f.size_width=d?d.width:null;f.size_height=
d?d.height:null;this.flush()};ma.prototype.flush=function(){this.internal.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})};ma.prototype.destroy=function(){var d=this.internal;window.clearInterval(d.intervalForObserveInserted);void 0!==d.resizeTimeout&&window.clearTimeout(d.resizeTimeout);window.removeEventListener("resize",d.resizeIfElementDisplayed);d.resizeFunction.remove();d.unbindWindowFocus();d.selectChart.classed("c3",!1).html("");Object.keys(d).forEach(function(f){d[f]=
null});return null};ma.prototype.color=function(d){return this.internal.color(d)};ma.prototype.data=function(d){var f=this.internal.data.targets;return"undefined"===typeof d?f:f.filter(function(l){return 0<=[].concat(d).indexOf(l.id)})};ma.prototype.data.shown=function(d){return this.internal.filterTargetsToShow(this.data(d))};ma.prototype.data.values=function(d,f){void 0===f&&(f=!0);var l=null;d&&(d=this.data(d))&&Array.isArray(d)&&(l=d.reduce(function(q,w){w=w.values.map(function(z){return z.value});
f?q=q.concat(w):q.push(w);return q},[]));return l};ma.prototype.data.names=function(d){this.internal.clearLegendItemTextBoxCache();return this.internal.updateDataAttributes("names",d)};ma.prototype.data.colors=function(d){return this.internal.updateDataAttributes("colors",d)};ma.prototype.data.axes=function(d){return this.internal.updateDataAttributes("axes",d)};ma.prototype.data.stackNormalized=function(d){if(void 0===d)return this.internal.isStackNormalized();this.internal.config.data_stack_normalize=
!!d;this.internal.redraw()};ma.prototype.donut=function(){};ma.prototype.donut.padAngle=function(d){if(void 0===d)return this.internal.config.donut_padAngle;this.internal.config.donut_padAngle=d;this.flush()};ma.prototype.flow=function(d){var f=this.internal,l=[],q=f.getMaxDataCount(),w=0,z=0;if(d.json)var G=f.convertJsonToData(d.json,d.keys);else if(d.rows)G=f.convertRowsToData(d.rows);else if(d.columns)G=f.convertColumnsToData(d.columns);else return;var H=f.convertDataToTargets(G,!0);f.data.targets.forEach(function(Ja){var D=
!1,Q,oa;for(Q=0;Q<H.length;Q++)if(Ja.id===H[Q].id){D=!0;Ja.values[Ja.values.length-1]&&(z=Ja.values[Ja.values.length-1].index+1);w=H[Q].values.length;for(oa=0;oa<w;oa++)H[Q].values[oa].index=z+oa,f.isTimeSeries()||(H[Q].values[oa].x=z+oa);Ja.values=Ja.values.concat(H[Q].values);H.splice(Q,1);break}D||l.push(Ja.id)});f.data.targets.forEach(function(Ja){var D,Q;for(D=0;D<l.length;D++)if(Ja.id===l[D])for(z=Ja.values[Ja.values.length-1].index+1,Q=0;Q<w;Q++)Ja.values.push({id:Ja.id,index:z+Q,x:f.isTimeSeries()?
f.getOtherTargetX(z+Q):z+Q,value:null})});f.data.targets.length&&H.forEach(function(Ja){var D,Q=[];for(D=f.data.targets[0].values[0].index;D<z;D++)Q.push({id:Ja.id,index:D,x:f.isTimeSeries()?f.getOtherTargetX(D):D,value:null});Ja.values.forEach(function(oa){oa.index+=z;f.isTimeSeries()||(oa.x+=z)});Ja.values=Q.concat(Ja.values)});f.data.targets=f.data.targets.concat(H);f.getMaxDataCount();var R=f.data.targets[0];G=R.values[0];if(P(d.to)){w=0;var ha=f.isTimeSeries()?f.parseDate(d.to):d.to;R.values.forEach(function(Ja){Ja.x<
ha&&w++})}else P(d.length)&&(w=d.length);q?1===q&&f.isTimeSeries()&&(R=(R.values[R.values.length-1].x-G.x)/2,R=[new Date(+G.x-R),new Date(+G.x+R)],f.updateXDomain(null,!0,!0,!1,R)):(R=f.isTimeSeries()?1<R.values.length?R.values[R.values.length-1].x-G.x:G.x-f.getXDomain(f.data.targets)[0]:1,R=[G.x-R,G.x],f.updateXDomain(null,!0,!0,!1,R));f.updateTargets(f.data.targets);f.redraw({flow:{index:G.index,length:w,duration:qa(d.duration)?d.duration:f.config.transition_duration,done:d.done,orgDataCount:q},
withLegend:!0,withTransition:1<q,withTrimXDomain:!1,withUpdateXAxis:!0})};p.prototype.generateFlow=function(d){var f=this,l=f.config,q=f.d3;return function(){var w=d.targets,z=d.flow,G=d.drawBar,H=d.drawLine,R=d.drawArea,ha=d.cx,Ja=d.cy,D=d.xv,Q=d.xForText,oa=d.yForText,Fa=d.duration,Ga=1,xb=z.index,Hb=z.length,Kb=f.getValueOnIndex(f.data.targets[0].values,xb),Cb=f.getValueOnIndex(f.data.targets[0].values,xb+Hb);Ga=f.x.domain();var ib=z.duration||Fa,Ib=z.done||function(){};Fa=f.generateWait();f.flowing=
!0;f.data.targets.forEach(function(Na){Na.values.splice(0,Hb)});w=f.updateXDomain(w,!0,!0);f.updateXGrid&&f.updateXGrid(!0);var Oa=f.xgrid||q.selectAll([]);var Ua=f.xgridLines||q.selectAll([]);var Pa=f.mainRegion||q.selectAll([]);var ja=f.mainText||q.selectAll([]);var Qa=f.mainBar||q.selectAll([]);var Za=f.mainLine||q.selectAll([]);var qb=f.mainArea||q.selectAll([]);var La=f.mainCircle||q.selectAll([]);z.orgDataCount?z=1===z.orgDataCount||(Kb&&Kb.x)===(Cb&&Cb.x)?f.x(Ga[0])-f.x(w[0]):f.isTimeSeries()?
f.x(Ga[0])-f.x(w[0]):f.x(Kb.x)-f.x(Cb.x):1!==f.data.targets[0].values.length?z=f.x(Ga[0])-f.x(w[0]):f.isTimeSeries()?(Kb=f.getValueOnIndex(f.data.targets[0].values,0),Cb=f.getValueOnIndex(f.data.targets[0].values,f.data.targets[0].values.length-1),z=f.x(Kb.x)-f.x(Cb.x)):z=X(w)/2;Ga=X(Ga)/X(w);z="translate("+z+",0) scale("+Ga+",1)";f.hideXGridFocus();ib=q.transition().ease(q.easeLinear).duration(ib);Fa.add(f.xAxis(f.axes.x,ib));Fa.add(Qa.transition(ib).attr("transform",z));Fa.add(Za.transition(ib).attr("transform",
z));Fa.add(qb.transition(ib).attr("transform",z));Fa.add(La.transition(ib).attr("transform",z));Fa.add(ja.transition(ib).attr("transform",z));Fa.add(Pa.filter(f.isRegionOnX).transition(ib).attr("transform",z));Fa.add(Oa.transition(ib).attr("transform",z));Fa.add(Ua.transition(ib).attr("transform",z));Fa(function(){var Na,kb=[],Sa=[];if(Hb){for(Na=0;Na<Hb;Na++)kb.push("."+aa.shape+"-"+(xb+Na)),Sa.push("."+aa.text+"-"+(xb+Na));f.svg.selectAll("."+aa.shapes).selectAll(kb).remove();f.svg.selectAll("."+
aa.texts).selectAll(Sa).remove();f.svg.select("."+aa.xgrid).remove()}Oa.attr("transform",null).attr("x1",f.xgridAttr.x1).attr("x2",f.xgridAttr.x2).attr("y1",f.xgridAttr.y1).attr("y2",f.xgridAttr.y2).style("opacity",f.xgridAttr.opacity);Ua.attr("transform",null);Ua.select("line").attr("x1",l.axis_rotated?0:D).attr("x2",l.axis_rotated?f.width:D);Ua.select("text").attr("x",l.axis_rotated?f.width:0).attr("y",D);Qa.attr("transform",null).attr("d",G);Za.attr("transform",null).attr("d",H);qb.attr("transform",
null).attr("d",R);La.attr("transform",null).attr("cx",ha).attr("cy",Ja);ja.attr("transform",null).attr("x",Q).attr("y",oa).style("fill-opacity",f.opacityForText.bind(f));Pa.attr("transform",null);Pa.filter(f.isRegionOnX).attr("x",f.regionX.bind(f)).attr("width",f.regionWidth.bind(f));Ib();f.flowing=!1})}};ma.prototype.focus=function(d){var f=this.internal;d=f.mapToTargetIds(d);var l=f.svg.selectAll(f.selectorTargets(d.filter(f.isTargetToShow,f)));this.revert();this.defocus();l.classed(aa.focused,
!0).classed(aa.defocused,!1);f.hasArcType()&&f.expandArc(d);f.toggleFocusLegend(d,!0);f.focusedTargetIds=d;f.defocusedTargetIds=f.defocusedTargetIds.filter(function(q){return 0>d.indexOf(q)})};ma.prototype.defocus=function(d){var f=this.internal;d=f.mapToTargetIds(d);f.svg.selectAll(f.selectorTargets(d.filter(f.isTargetToShow,f))).classed(aa.focused,!1).classed(aa.defocused,!0);f.hasArcType()&&f.unexpandArc(d);f.toggleFocusLegend(d,!1);f.focusedTargetIds=f.focusedTargetIds.filter(function(l){return 0>
d.indexOf(l)});f.defocusedTargetIds=d};ma.prototype.revert=function(d){var f=this.internal;d=f.mapToTargetIds(d);f.svg.selectAll(f.selectorTargets(d)).classed(aa.focused,!1).classed(aa.defocused,!1);f.hasArcType()&&f.unexpandArc(d);f.config.legend_show&&(f.showLegend(d.filter(f.isLegendToShow.bind(f))),f.legend.selectAll(f.selectorLegends(d)).filter(function(){return f.d3.select(this).classed(aa.legendItemFocused)}).classed(aa.legendItemFocused,!1));f.focusedTargetIds=[];f.defocusedTargetIds=[]};
ma.prototype.xgrids=function(d){var f=this.internal,l=f.config;if(!d)return l.grid_x_lines;l.grid_x_lines=d;f.redrawWithoutRescale();return l.grid_x_lines};ma.prototype.xgrids.add=function(d){return this.xgrids(this.internal.config.grid_x_lines.concat(d?d:[]))};ma.prototype.xgrids.remove=function(d){this.internal.removeGridLines(d,!0)};ma.prototype.ygrids=function(d){var f=this.internal,l=f.config;if(!d)return l.grid_y_lines;l.grid_y_lines=d;f.redrawWithoutRescale();return l.grid_y_lines};ma.prototype.ygrids.add=
function(d){return this.ygrids(this.internal.config.grid_y_lines.concat(d?d:[]))};ma.prototype.ygrids.remove=function(d){this.internal.removeGridLines(d,!1)};ma.prototype.groups=function(d){var f=this.internal,l=f.config;if(Y(d))return l.data_groups;l.data_groups=d;f.redraw();return l.data_groups};ma.prototype.legend=function(){};ma.prototype.legend.show=function(d){var f=this.internal;f.showLegend(f.mapToTargetIds(d));f.updateAndRedraw({withLegend:!0})};ma.prototype.legend.hide=function(d){var f=
this.internal;f.hideLegend(f.mapToTargetIds(d));f.updateAndRedraw({withLegend:!1})};ma.prototype.load=function(d){var f=this.internal,l=f.config;d.xs&&f.addXs(d.xs);"names"in d&&ma.prototype.data.names.bind(this)(d.names);"classes"in d&&Object.keys(d.classes).forEach(function(q){l.data_classes[q]=d.classes[q]});"categories"in d&&f.isCategorized()&&(l.axis_x_categories=d.categories);"axes"in d&&Object.keys(d.axes).forEach(function(q){l.data_axes[q]=d.axes[q]});"colors"in d&&Object.keys(d.colors).forEach(function(q){l.data_colors[q]=
d.colors[q]});"cacheIds"in d&&f.hasCaches(d.cacheIds)?f.load(f.getCaches(d.cacheIds),d.done):d.unload?f.unload(f.mapToTargetIds(!0===d.unload?null:d.unload),function(){f.loadFromArgs(d)}):f.loadFromArgs(d)};ma.prototype.unload=function(d){var f=this.internal;d=d||{};d instanceof Array?d={ids:d}:"string"===typeof d&&(d={ids:[d]});f.unload(f.mapToTargetIds(d.ids),function(){f.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0});d.done&&d.done()})};ma.prototype.pie=function(){};ma.prototype.pie.padAngle=
function(d){if(void 0===d)return this.internal.config.pie_padAngle;this.internal.config.pie_padAngle=d;this.flush()};ma.prototype.regions=function(d){var f=this.internal,l=f.config;if(!d)return l.regions;l.regions=d;f.redrawWithoutRescale();return l.regions};ma.prototype.regions.add=function(d){var f=this.internal,l=f.config;if(!d)return l.regions;l.regions=l.regions.concat(d);f.redrawWithoutRescale();return l.regions};ma.prototype.regions.remove=function(d){var f=this.internal,l=f.config;d=d||{};
var q=la(d,"duration",l.transition_duration);var w=la(d,"classes",[aa.region]);d=f.main.select("."+aa.regions).selectAll(w.map(function(z){return"."+z}));(q?d.transition().duration(q):d).style("opacity",0).remove();l.regions=l.regions.filter(function(z){var G=!1;if(!z["class"])return!0;z["class"].split(" ").forEach(function(H){0<=w.indexOf(H)&&(G=!0)});return!G});return l.regions};ma.prototype.selected=function(d){var f=this.internal,l=f.d3;return f.main.selectAll("."+aa.shapes+f.getTargetSelectorSuffix(d)).selectAll("."+
aa.shape).filter(function(){return l.select(this).classed(aa.SELECTED)}).nodes().map(function(q){q=q.__data__;return q.data?q.data:q})};ma.prototype.select=function(d,f,l){var q=this.internal,w=q.d3,z=q.config;z.data_selection_enabled&&q.main.selectAll("."+aa.shapes).selectAll("."+aa.shape).each(function(G,H){var R=w.select(this),ha=G.data?G.data.id:G.id,Ja=q.getToggle(this,G).bind(q);ha=z.data_selection_grouped||!d||0<=d.indexOf(ha);var D=!f||0<=f.indexOf(H),Q=R.classed(aa.SELECTED);R.classed(aa.line)||
R.classed(aa.area)||(ha&&D?z.data_selection_isselectable(G)&&!Q&&Ja(!0,R.classed(aa.SELECTED,!0),G,H):P(l)&&l&&Q&&Ja(!1,R.classed(aa.SELECTED,!1),G,H))})};ma.prototype.unselect=function(d,f){var l=this.internal,q=l.d3,w=l.config;w.data_selection_enabled&&l.main.selectAll("."+aa.shapes).selectAll("."+aa.shape).each(function(z,G){var H=q.select(this),R=z.data?z.data.id:z.id,ha=l.getToggle(this,z).bind(l);R=w.data_selection_grouped||!d||0<=d.indexOf(R);var Ja=!f||0<=f.indexOf(G),D=H.classed(aa.SELECTED);
H.classed(aa.line)||H.classed(aa.area)||R&&Ja&&w.data_selection_isselectable(z)&&D&&ha(!1,H.classed(aa.SELECTED,!1),z,G)})};ma.prototype.show=function(d,f){var l=this.internal;d=l.mapToTargetIds(d);f=f||{};l.removeHiddenTargetIds(d);var q=l.svg.selectAll(l.selectorTargets(d));q.transition().style("display",Ha()?"block":"initial","important").style("opacity",1,"important").call(l.endall,function(){q.style("opacity",null).style("opacity",1)});f.withLegend&&l.showLegend(d);l.redraw({withUpdateOrgXDomain:!0,
withUpdateXDomain:!0,withLegend:!0})};ma.prototype.hide=function(d,f){var l=this.internal;d=l.mapToTargetIds(d);f=f||{};l.addHiddenTargetIds(d);var q=l.svg.selectAll(l.selectorTargets(d));q.transition().style("opacity",0,"important").call(l.endall,function(){q.style("opacity",null).style("opacity",0);q.style("display","none")});f.withLegend&&l.hideLegend(d);l.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})};ma.prototype.toggle=function(d,f){var l=this,q=this.internal;q.mapToTargetIds(d).forEach(function(w){q.isTargetToShow(w)?
l.hide(w,f):l.show(w,f)})};ma.prototype.subchart=function(){};ma.prototype.subchart.isShown=function(){return this.internal.config.subchart_show};ma.prototype.subchart.show=function(){var d=this.internal;d.config.subchart_show||(d.config.subchart_show=!0,d.initSubchart(),d.updateDimension(),d.initSubchartBrush(),d.updateTargetsForSubchart(d.getTargets()),d.mapToIds(d.data.targets).forEach(function(f){d.withoutFadeIn[f]=!1}),d.updateAndRedraw(),d.showTargets())};ma.prototype.subchart.hide=function(){var d=
this.internal;d.config.subchart_show&&(d.config.subchart_show=!1,d.removeSubchart(),d.redraw())};ma.prototype.tooltip=function(){};ma.prototype.tooltip.show=function(d){var f=this.internal,l={};if(d.mouse)l=d.mouse;else{if(d.data)var q=d.data;else"undefined"!==typeof d.x&&(q=d.id?f.data.targets.filter(function(w){return w.id===d.id}):f.data.targets,q=f.filterByX(q,d.x).slice(0,1)[0]);l=q?f.getMousePosition(q):null}f.dispatchEvent("mousemove",l);f.config.tooltip_onshow.call(f,q)};ma.prototype.tooltip.hide=
function(){this.internal.dispatchEvent("mouseout",0);this.internal.config.tooltip_onhide.call(this)};ma.prototype.transform=function(d,f){var l=this.internal,q=0<=["pie","donut"].indexOf(d)?{withTransform:!0}:null;l.transformTo(f,d,q)};p.prototype.transformTo=function(d,f,l){var q=!this.hasArcType();l=l||{withTransitionForAxis:q};this.transiting=l.withTransitionForTransform=!1;this.setTargetType(d,f);this.updateTargets(this.data.targets);this.updateAndRedraw(l)};ma.prototype.x=function(d){var f=this.internal;
arguments.length&&(f.updateTargetX(f.data.targets,d),f.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0}));return f.data.xs};ma.prototype.xs=function(d){var f=this.internal;arguments.length&&(f.updateTargetXs(f.data.targets,d),f.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0}));return f.data.xs};ma.prototype.zoom=function(d){var f=this.internal;return d?(f.isTimeSeries()&&(d=d.map(function(l){return f.parseDate(l)})),f.config.subchart_show?f.brush.selectionAsValue(d,!0):(f.updateXDomain(null,
!0,!1,!1,d),f.redraw({withY:f.config.zoom_rescale,withSubchart:!1})),f.config.zoom_onzoom.call(this,f.x.orgDomain()),d):f.x.domain()};ma.prototype.zoom.enable=function(d){var f=this.internal;f.config.zoom_enabled=d;f.updateAndRedraw()};ma.prototype.unzoom=function(){var d=this.internal;d.config.subchart_show?d.brush.clear():(d.updateXDomain(null,!0,!1,!1,d.subX.domain()),d.redraw({withY:d.config.zoom_rescale,withSubchart:!1}))};ma.prototype.zoom.max=function(d){var f=this.internal,l=f.config,q=f.d3;
if(0===d||d)l.zoom_x_max=q.max([f.orgXDomain[1],d]);else return l.zoom_x_max};ma.prototype.zoom.min=function(d){var f=this.internal,l=f.config,q=f.d3;if(0===d||d)l.zoom_x_min=q.min([f.orgXDomain[0],d]);else return l.zoom_x_min};ma.prototype.zoom.range=function(d){if(arguments.length)P(d.max)&&this.domain.max(d.max),P(d.min)&&this.domain.min(d.min);else return{max:this.domain.max(),min:this.domain.min()}};p.prototype.initPie=function(){this.pie=this.d3.pie().padAngle(this.getPadAngle.bind(this)).value(function(l){return l.values.reduce(function(q,
w){return q+w.value},0)});var d=this.getOrderFunction();if(d&&(this.isOrderAsc()||this.isOrderDesc())){var f=d;d=function(l,q){return-1*f(l,q)}}this.pie.sort(d||null)};p.prototype.updateRadius=function(){var d=this.config;d=d.gauge_width||d.donut_width;var f=this.filterTargetsToShow(this.data.targets).length*this.config.gauge_arcs_minWidth;this.radiusExpanded=Math.min(this.arcWidth,this.arcHeight)/2*(this.hasType("gauge")?.85:1);this.radius=.95*this.radiusExpanded;this.innerRadiusRatio=d?(this.radius-
d)/this.radius:.6;this.innerRadius=this.hasType("donut")||this.hasType("gauge")?this.radius*this.innerRadiusRatio:0;this.gaugeArcWidth=d?d:f<=this.radius-this.innerRadius?this.radius-this.innerRadius:f<=this.radius?f:this.radius};p.prototype.getPadAngle=function(){return this.hasType("pie")?this.config.pie_padAngle||0:this.hasType("donut")?this.config.donut_padAngle||0:0};p.prototype.updateArc=function(){this.svgArc=this.getSvgArc();this.svgArcExpanded=this.getSvgArcExpanded();this.svgArcExpandedSub=
this.getSvgArcExpanded(.98)};p.prototype.updateAngle=function(d){var f=this.config,l=!1,q=0;if(!f)return null;this.pie(this.filterTargetsToShow(this.data.targets)).forEach(function(H){l||H.data.id!==d.data.id||(l=!0,d=H,d.index=q);q++});isNaN(d.startAngle)&&(d.startAngle=0);isNaN(d.endAngle)&&(d.endAngle=d.startAngle);if(this.isGaugeType(d.data)){var w=f.gauge_min;var z=f.gauge_max;var G=Math.PI*(f.gauge_fullCircle?2:1)/(z-w);w=d.value<w?0:d.value<z?d.value-w:z-w;d.startAngle=f.gauge_startingAngle;
d.endAngle=d.startAngle+G*w}return l?d:null};p.prototype.getSvgArc=function(){var d=this,f=d.hasType("gauge"),l=d.gaugeArcWidth/d.filterTargetsToShow(d.data.targets).length,q=d.d3.arc().outerRadius(function(z){return f?d.radius-l*z.index:d.radius}).innerRadius(function(z){return f?d.radius-l*(z.index+1):d.innerRadius}),w=function(z,G){return G?q(z):(z=d.updateAngle(z))?q(z):"M 0 0"};w.centroid=q.centroid;return w};p.prototype.getSvgArcExpanded=function(d){d=d||1;var f=this,l=f.hasType("gauge"),q=
f.gaugeArcWidth/f.filterTargetsToShow(f.data.targets).length,w=Math.min(f.radiusExpanded*d-f.radius,.8*q-100*(1-d)),z=f.d3.arc().outerRadius(function(G){return l?f.radius-q*G.index+w:f.radiusExpanded*d}).innerRadius(function(G){return l?f.radius-q*(G.index+1):f.innerRadius});return function(G){return(G=f.updateAngle(G))?z(G):"M 0 0"}};p.prototype.getArc=function(d,f,l){return l||this.isArcType(d.data)?this.svgArc(d,f):"M 0 0"};p.prototype.transformForArcLabel=function(d){var f=this.config,l=this.updateAngle(d);
var q="";var w=this.hasType("gauge");l&&!w?(q=this.svgArc.centroid(l),l=isNaN(q[0])?0:q[0],q=isNaN(q[1])?0:q[1],w=Math.sqrt(l*l+q*q),d=this.hasType("donut")&&f.donut_label_ratio?va(f.donut_label_ratio)?f.donut_label_ratio(d,this.radius,w):f.donut_label_ratio:this.hasType("pie")&&f.pie_label_ratio?va(f.pie_label_ratio)?f.pie_label_ratio(d,this.radius,w):f.pie_label_ratio:this.radius&&w?(.375<36/this.radius?1.175-36/this.radius:.8)*this.radius/w:0,q="translate("+l*d+","+q*d+")"):l&&w&&1<this.filterTargetsToShow(this.data.targets).length&&
(d=Math.sin(l.endAngle-Math.PI/2),l=Math.cos(l.endAngle-Math.PI/2)*(this.radiusExpanded+25),q=d*(this.radiusExpanded+15-Math.abs(10*d))+3,q="translate("+l+","+q+")");return q};p.prototype.getArcRatio=function(d){return this.getRatio("arc",d)};p.prototype.convertToArcData=function(d){return this.addName({id:d.data.id,value:d.value,ratio:this.getRatio("arc",d),index:d.index})};p.prototype.textForArcLabel=function(d){var f,l;if(!this.shouldShowArcLabel())return"";var q=(f=this.updateAngle(d))?f.value:
null;f=this.getRatio("arc",f);d=d.data.id;return this.hasType("gauge")||this.meetsArcLabelThreshold(f)?(l=this.getArcLabelFormat())?l(q,f,d):this.defaultArcValueFormat(q,f):""};p.prototype.textForGaugeMinMax=function(d,f){var l=this.getGaugeLabelExtents();return l?l(d,f):d};p.prototype.expandArc=function(d){var f=this;if(f.transiting)var l=window.setInterval(function(){f.transiting||(window.clearInterval(l),0<f.legend.selectAll(".c3-legend-item-focused").size()&&f.expandArc(d))},10);else d=f.mapToTargetIds(d),
f.svg.selectAll(f.selectorTargets(d,"."+aa.chartArc)).each(function(q){f.shouldExpand(q.data.id)&&f.d3.select(this).selectAll("path").transition().duration(f.expandDuration(q.data.id)).attr("d",f.svgArcExpanded).transition().duration(2*f.expandDuration(q.data.id)).attr("d",f.svgArcExpandedSub).each(function(w){f.isDonutType(w.data)})})};p.prototype.unexpandArc=function(d){var f=this;f.transiting||(d=f.mapToTargetIds(d),f.svg.selectAll(f.selectorTargets(d,"."+aa.chartArc)).selectAll("path").transition().duration(function(l){return f.expandDuration(l.data.id)}).attr("d",
f.svgArc),f.svg.selectAll("."+aa.arc))};p.prototype.expandDuration=function(d){var f=this.config;return this.isDonutType(d)?f.donut_expand_duration:this.isGaugeType(d)?f.gauge_expand_duration:this.isPieType(d)?f.pie_expand_duration:50};p.prototype.shouldExpand=function(d){var f=this.config;return this.isDonutType(d)&&f.donut_expand||this.isGaugeType(d)&&f.gauge_expand||this.isPieType(d)&&f.pie_expand};p.prototype.shouldShowArcLabel=function(){var d=this.config,f=!0;this.hasType("donut")?f=d.donut_label_show:
this.hasType("pie")&&(f=d.pie_label_show);return f};p.prototype.meetsArcLabelThreshold=function(d){var f=this.config;f=this.hasType("donut")?f.donut_label_threshold:f.pie_label_threshold;return d>=f};p.prototype.getArcLabelFormat=function(){var d=this.config,f=d.pie_label_format;this.hasType("gauge")?f=d.gauge_label_format:this.hasType("donut")&&(f=d.donut_label_format);return f};p.prototype.getGaugeLabelExtents=function(){return this.config.gauge_label_extents};p.prototype.getArcTitle=function(){return this.hasType("donut")?
this.config.donut_title:""};p.prototype.updateTargetsForArc=function(d){var f=this.main,l=this.classChartArc.bind(this),q=this.classArcs.bind(this),w=this.classFocus.bind(this);d=f.select("."+aa.chartArcs).selectAll("."+aa.chartArc).data(this.pie(d)).attr("class",function(z){return l(z)+w(z.data)}).enter().append("g").attr("class",l);d.append("g").attr("class",q);d.append("text").attr("dy",this.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events",
"none")};p.prototype.initArc=function(){this.arcs=this.main.select("."+aa.chart).append("g").attr("class",aa.chartArcs).attr("transform",this.getTranslate("arc"));this.arcs.append("text").attr("class",aa.chartArcsTitle).style("text-anchor","middle").text(this.getArcTitle())};p.prototype.redrawArc=function(d,f,l){var q=this,w=q.d3,z=q.config,G=q.main,H=q.hasType("gauge");var R=G.selectAll("."+aa.arcs).selectAll("."+aa.arc).data(q.arcData.bind(q));var ha=R.enter().append("path").attr("class",q.classArc.bind(q)).style("fill",
function(Q){return q.color(Q.data)}).style("cursor",function(Q){return z.interaction_enabled&&z.data_selection_isselectable(Q)?"pointer":null}).each(function(Q){q.isGaugeType(Q.data)&&(Q.startAngle=Q.endAngle=z.gauge_startingAngle);this._current=Q}).merge(R);if(H){var Ja=G.selectAll("."+aa.arcs).selectAll("."+aa.arcLabelLine).data(q.arcData.bind(q));Ja=Ja.enter().append("rect").attr("class",function(Q){return aa.arcLabelLine+" "+aa.target+" "+aa.target+"-"+Q.data.id}).merge(Ja);1===q.filterTargetsToShow(q.data.targets).length?
Ja.style("display","none"):Ja.style("fill",function(Q){return q.levelColor?q.levelColor(Q.data.values.reduce(function(oa,Fa){return oa+Fa.value},0)):q.color(Q.data)}).style("display",z.gauge_labelLine_show?"":"none").each(function(Q){var oa=0,Fa=0,Ga=0,xb="";0>q.hiddenTargetIds.indexOf(Q.data.id)&&(Fa=q.updateAngle(Q),oa=q.gaugeArcWidth/q.filterTargetsToShow(q.data.targets).length*(Fa.index+1),Q=Fa.endAngle-Math.PI/2,Ga=q.radius-oa,xb=Q-(0===Ga?0:1/Ga),oa=q.radiusExpanded-q.radius+oa,Fa=Math.cos(xb)*
Ga,Ga*=Math.sin(xb),xb="rotate("+180*Q/Math.PI+", "+Fa+", "+Ga+")");w.select(this).attr("x",Fa).attr("y",Ga).attr("width",oa).attr("height",2).attr("transform",xb).style("stroke-dasharray","0, "+(oa+2)+", 0")})}ha.attr("transform",function(Q){return!q.isGaugeType(Q.data)&&l?"scale(0)":""}).on("mouseover",z.interaction_enabled?function(Q){if(!q.transiting&&(Q=q.updateAngle(Q))){var oa=q.convertToArcData(Q);q.expandArc(Q.data.id);q.api.focus(Q.data.id);q.toggleFocusLegend(Q.data.id,!0);q.config.data_onmouseover(oa,
this)}}:null).on("mousemove",z.interaction_enabled?function(Q){if(Q=q.updateAngle(Q))Q=q.convertToArcData(Q),Q=[Q],q.showTooltip(Q,this)}:null).on("mouseout",z.interaction_enabled?function(Q){if(!q.transiting&&(Q=q.updateAngle(Q))){var oa=q.convertToArcData(Q);q.unexpandArc(Q.data.id);q.api.revert();q.revertLegend();q.hideTooltip();q.config.data_onmouseout(oa,this)}}:null).on("click",z.interaction_enabled?function(Q,oa){if(Q=q.updateAngle(Q))Q=q.convertToArcData(Q),q.toggleShape&&q.toggleShape(this,
Q,oa),q.config.data_onclick.call(q.api,Q,this)}:null).each(function(){q.transiting=!0}).transition().duration(d).attrTween("d",function(Q){var oa=q.updateAngle(Q);if(!oa)return function(){return"M 0 0"};isNaN(this._current.startAngle)&&(this._current.startAngle=0);isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle);var Fa=w.interpolate(this._current,oa);this._current=Fa(0);return function(Ga){if(null===q.config)return"M 0 0";Ga=Fa(Ga);Ga.data=Q.data;return q.getArc(Ga,
!0)}}).attr("transform",l?"scale(1)":"").style("fill",function(Q){return q.levelColor?q.levelColor(Q.data.values.reduce(function(oa,Fa){return oa+Fa.value},0)):q.color(Q.data.id)}).call(q.endall,function(){q.transiting=!1});R.exit().transition().duration(f).style("opacity",0).remove();G.selectAll("."+aa.chartArc).select("text").style("opacity",0).attr("class",function(Q){return q.isGaugeType(Q.data)?aa.gaugeValue:""}).text(q.textForArcLabel.bind(q)).attr("transform",q.transformForArcLabel.bind(q)).style("font-size",
function(Q){return q.isGaugeType(Q.data)&&1===q.filterTargetsToShow(q.data.targets).length?Math.round(q.radius/5)+"px":""}).transition().duration(d).style("opacity",function(Q){return q.isTargetToShow(Q.data.id)&&q.isArcType(Q.data)?1:0});G.select("."+aa.chartArcsTitle).style("opacity",q.hasType("donut")||H?1:0);if(H){var D=0;d=q.arcs.select("g."+aa.chartArcsBackground).selectAll("path."+aa.chartArcsBackground).data(q.data.targets);d.enter().append("path").attr("class",function(Q,oa){return aa.chartArcsBackground+
" "+aa.chartArcsBackground+"-"+oa}).merge(d).attr("d",function(Q){if(0<=q.hiddenTargetIds.indexOf(Q.id))return"M 0 0";Q={data:[{value:z.gauge_max}],startAngle:z.gauge_startingAngle,endAngle:-1*z.gauge_startingAngle*(z.gauge_fullCircle?Math.PI:1),index:D++};return q.getArc(Q,!0,!0)});d.exit().remove();q.arcs.select("."+aa.chartArcsGaugeUnit).attr("dy",".75em").text(z.gauge_label_show?z.gauge_units:"");q.arcs.select("."+aa.chartArcsGaugeMin).attr("dx",-1*(q.innerRadius+(q.radius-q.innerRadius)/(z.gauge_fullCircle?
1:2))+"px").attr("dy","1.2em").text(z.gauge_label_show?q.textForGaugeMinMax(z.gauge_min,!1):"");q.arcs.select("."+aa.chartArcsGaugeMax).attr("dx",q.innerRadius+(q.radius-q.innerRadius)/(z.gauge_fullCircle?1:2)+"px").attr("dy","1.2em").text(z.gauge_label_show?q.textForGaugeMinMax(z.gauge_max,!0):"")}};p.prototype.initGauge=function(){var d=this.arcs;this.hasType("gauge")&&(d.append("g").attr("class",aa.chartArcsBackground),d.append("text").attr("class",aa.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events",
"none"),d.append("text").attr("class",aa.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),d.append("text").attr("class",aa.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))};p.prototype.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0};p.prototype.addToCache=function(d,f){this.cache["$"+d]=f};p.prototype.getFromCache=function(d){return this.cache["$"+d]};p.prototype.resetCache=function(){var d=this;Object.keys(this.cache).filter(function(f){return/^\$/.test(f)}).forEach(function(f){delete d.cache[f]})};
p.prototype.hasCaches=function(d){for(var f=0;f<d.length;f++)if(!(d[f]in this.cache))return!1;return!0};p.prototype.addCache=function(d,f){this.cache[d]=this.cloneTarget(f)};p.prototype.getCaches=function(d){var f=[],l;for(l=0;l<d.length;l++)d[l]in this.cache&&f.push(this.cloneTarget(this.cache[d[l]]));return f};p.prototype.categoryName=function(d){var f=this.config;return d<f.axis_x_categories.length?f.axis_x_categories[d]:d};p.prototype.generateTargetClass=function(d){return d||0===d?("-"+d).replace(/\s/g,
"-"):""};p.prototype.generateClass=function(d,f){return" "+d+" "+d+this.generateTargetClass(f)};p.prototype.classText=function(d){return this.generateClass(aa.text,d.index)};p.prototype.classTexts=function(d){return this.generateClass(aa.texts,d.id)};p.prototype.classShape=function(d){return this.generateClass(aa.shape,d.index)};p.prototype.classShapes=function(d){return this.generateClass(aa.shapes,d.id)};p.prototype.classLine=function(d){return this.classShape(d)+this.generateClass(aa.line,d.id)};
p.prototype.classLines=function(d){return this.classShapes(d)+this.generateClass(aa.lines,d.id)};p.prototype.classCircle=function(d){return this.classShape(d)+this.generateClass(aa.circle,d.index)};p.prototype.classCircles=function(d){return this.classShapes(d)+this.generateClass(aa.circles,d.id)};p.prototype.classBar=function(d){return this.classShape(d)+this.generateClass(aa.bar,d.index)};p.prototype.classBars=function(d){return this.classShapes(d)+this.generateClass(aa.bars,d.id)};p.prototype.classArc=
function(d){return this.classShape(d.data)+this.generateClass(aa.arc,d.data.id)};p.prototype.classArcs=function(d){return this.classShapes(d.data)+this.generateClass(aa.arcs,d.data.id)};p.prototype.classArea=function(d){return this.classShape(d)+this.generateClass(aa.area,d.id)};p.prototype.classAreas=function(d){return this.classShapes(d)+this.generateClass(aa.areas,d.id)};p.prototype.classRegion=function(d,f){return this.generateClass(aa.region,f)+" "+("class"in d?d["class"]:"")};p.prototype.classEvent=
function(d){return this.generateClass(aa.eventRect,d.index)};p.prototype.classTarget=function(d){var f=this.config.data_classes[d],l="";f&&(l=" "+aa.target+"-"+f);return this.generateClass(aa.target,d)+l};p.prototype.classFocus=function(d){return this.classFocused(d)+this.classDefocused(d)};p.prototype.classFocused=function(d){return" "+(0<=this.focusedTargetIds.indexOf(d.id)?aa.focused:"")};p.prototype.classDefocused=function(d){return" "+(0<=this.defocusedTargetIds.indexOf(d.id)?aa.defocused:"")};
p.prototype.classChartText=function(d){return aa.chartText+this.classTarget(d.id)};p.prototype.classChartLine=function(d){return aa.chartLine+this.classTarget(d.id)};p.prototype.classChartBar=function(d){return aa.chartBar+this.classTarget(d.id)};p.prototype.classChartArc=function(d){return aa.chartArc+this.classTarget(d.data.id)};p.prototype.getTargetSelectorSuffix=function(d){d=this.generateTargetClass(d);return window.CSS&&window.CSS.escape?window.CSS.escape(d):d.replace(/([?!@#$%^&*()=+,.<>'":;\[\]\/|~`{}\\])/g,
"\\$1")};p.prototype.selectorTarget=function(d,f){return(f||"")+"."+aa.target+this.getTargetSelectorSuffix(d)};p.prototype.selectorTargets=function(d,f){var l=this;d=d||[];return d.length?d.map(function(q){return l.selectorTarget(q,f)}):null};p.prototype.selectorLegend=function(d){return"."+aa.legendItem+this.getTargetSelectorSuffix(d)};p.prototype.selectorLegends=function(d){var f=this;return d&&d.length?d.map(function(l){return f.selectorLegend(l)}):null};p.prototype.getClipPath=function(d){return"url("+
(Ha(9)?"":document.URL.split("#")[0])+"#"+d+")"};p.prototype.appendClip=function(d,f){return d.append("clipPath").attr("id",f).append("rect")};p.prototype.getAxisClipX=function(d){var f=Math.max(30,this.margin.left);return d?-(1+f):-(f-1)};p.prototype.getAxisClipY=function(d){return d?-20:-this.margin.top};p.prototype.getXAxisClipX=function(){return this.getAxisClipX(!this.config.axis_rotated)};p.prototype.getXAxisClipY=function(){return this.getAxisClipY(!this.config.axis_rotated)};p.prototype.getYAxisClipX=
function(){return this.config.axis_y_inner?-1:this.getAxisClipX(this.config.axis_rotated)};p.prototype.getYAxisClipY=function(){return this.getAxisClipY(this.config.axis_rotated)};p.prototype.getAxisClipWidth=function(d){var f=Math.max(30,this.margin.left),l=Math.max(30,this.margin.right);return d?this.width+2+f+l:this.margin.left+20};p.prototype.getAxisClipHeight=function(d){return(d?this.margin.bottom:this.margin.top+this.height)+20};p.prototype.getXAxisClipWidth=function(){return this.getAxisClipWidth(!this.config.axis_rotated)};
p.prototype.getXAxisClipHeight=function(){return this.getAxisClipHeight(!this.config.axis_rotated)};p.prototype.getYAxisClipWidth=function(){return this.getAxisClipWidth(this.config.axis_rotated)+(this.config.axis_y_inner?20:0)};p.prototype.getYAxisClipHeight=function(){return this.getAxisClipHeight(this.config.axis_rotated)};p.prototype.generateColor=function(){var d=this.config,f=this.d3,l=d.data_colors,q=ca(d.color_pattern)?f.schemeCategory10:d.color_pattern,w=d.data_color,z=[];return function(G){var H=
G.id||G.data&&G.data.id||G;if(l[H]instanceof Function)var R=l[H](G);else l[H]?R=l[H]:(0>z.indexOf(H)&&z.push(H),R=q[z.indexOf(H)%q.length],l[H]=R);return w instanceof Function?w(R,G):R}};p.prototype.generateLevelColor=function(){var d=this.config,f=d.color_pattern;d=d.color_threshold;var l="value"===d.unit,q=d.values&&d.values.length?d.values:[],w=d.max||100;return ca(d)||ca(f)?null:function(z){var G,H=f[f.length-1];for(G=0;G<q.length;G++){var R=l?z:100*z/w;if(R<q[G]){H=f[G];break}}return H}};p.prototype.getDefaultConfig=
function(){var d={bindto:"#chart",svg_classname:void 0,size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,zoom_enabled:!1,zoom_initialRange:void 0,zoom_type:"scroll",zoom_disableDefaultBehavior:!1,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:void 0,zoom_x_max:void 0,interaction_brighten:!0,interaction_enabled:!0,onmouseover:function(){},
onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_epochs:"epochs",data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(f){return f},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,
data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_stack_normalize:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_headers:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,
subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,
axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_multilineMax:0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_selection:void 0,axis_x_label:{},axis_x_inner:void 0,axis_y_show:!0,axis_y_type:"linear",axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,
axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:void 0,axis_y_tick_time_type:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_type:"linear",axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,
axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,bar_space:0,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:void 0,
pie_label_threshold:.05,pie_label_ratio:void 0,pie_expand:{},pie_expand_duration:50,pie_padAngle:0,gauge_fullCircle:!1,gauge_label_show:!0,gauge_labelLine_show:!0,gauge_label_format:void 0,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_label_extents:void 0,gauge_units:void 0,gauge_width:void 0,gauge_arcs_minWidth:5,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_label_ratio:void 0,donut_width:void 0,donut_title:"",
donut_expand:{},donut_expand_duration:50,donut_padAngle:0,spline_interpolation_type:"cardinal",stanford_lines:[],stanford_regions:[],stanford_texts:[],stanford_scaleMin:void 0,stanford_scaleMax:void 0,stanford_scaleWidth:void 0,stanford_scaleFormat:void 0,stanford_scaleValues:void 0,stanford_colors:void 0,stanford_padding:{top:0,right:0,bottom:0,left:0},regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_order:void 0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,
tooltip_horizontal:void 0,tooltip_position:void 0,tooltip_contents:function(f,l,q,w){return this.getTooltipContent?this.getTooltipContent(f,l,q,w):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};Object.keys(this.additionalConfig).forEach(function(f){d[f]=this.additionalConfig[f]},this);return d};p.prototype.additionalConfig=
{};p.prototype.loadConfig=function(d){function f(){var G=w.shift();if(G&&q&&"object"===typeof q&&G in q)return q=q[G],f();if(!G)return q}var l=this.config,q,w,z;Object.keys(l).forEach(function(G){q=d;w=G.split("_");z=f();P(z)&&(l[G]=z)})};p.prototype.convertUrlToData=function(d,f,l,q,w){var z=this;f=f?f:"csv";if("json"===f){f=z.d3.json;var G=z.convertJsonToData}else f="tsv"===f?z.d3.tsv:z.d3.csv,G=z.convertXsvToData;f(d,l).then(function(H){w.call(z,G.call(z,H,q))}).catch(function(H){throw H;})};p.prototype.convertXsvToData=
function(d){var f=d.columns;return 0===d.length?{keys:f,rows:[f.reduce(function(l,q){var w;return Object.assign(l,(w={},w[q]=null,w))},{})]}:{keys:f,rows:[].concat(d)}};p.prototype.convertJsonToData=function(d,f){var l=this,q=[];if(f){if(f.x){var w=f.value.concat(f.x);l.config.data_x=f.x}else w=f.value;q.push(w);d.forEach(function(z){var G=[];w.forEach(function(H){H=l.findValueInJson(z,H);Y(H)&&(H=null);G.push(H)});q.push(G)});f=l.convertRowsToData(q)}else Object.keys(d).forEach(function(z){q.push([z].concat(d[z]))}),
f=l.convertColumnsToData(q);return f};p.prototype.findValueInJson=function(d,f){if(f in d)return d[f];f=f.replace(/\[(\w+)\]/g,".$1");f=f.replace(/^\./,"");f=f.split(".");for(var l=0;l<f.length;++l){var q=f[l];if(q in d)d=d[q];else return}return d};p.prototype.convertRowsToData=function(d){for(var f=[],l=d[0],q=1;q<d.length;q++){for(var w={},z=0;z<d[q].length;z++){if(Y(d[q][z]))throw Error("Source data is missing a component at ("+q+","+z+")!");w[l[z]]=d[q][z]}f.push(w)}return{keys:l,rows:f}};p.prototype.convertColumnsToData=
function(d){for(var f=[],l=[],q=0;q<d.length;q++){for(var w=d[q][0],z=1;z<d[q].length;z++){Y(f[z-1])&&(f[z-1]={});if(Y(d[q][z]))throw Error("Source data is missing a component at ("+q+","+z+")!");f[z-1][w]=d[q][z]}l.push(w)}return{keys:l,rows:f}};p.prototype.convertDataToTargets=function(d,f){var l=this,q=l.config;if(Array.isArray(d))var w=Object.keys(d[0]);else w=d.keys,d=d.rows;var z=w.filter(l.isX,l);if(l.isStanfordGraphType()){var G=w.filter(l.isEpochs,l);w=w.filter(l.isNotXAndNotEpochs,l);if(1!==
z.length||1!==G.length||1!==w.length)throw Error("You must define the 'x' key name and the 'epochs' for Stanford Diagrams");}else w=w.filter(l.isNotX,l);w.forEach(function(H){var R=l.getXKey(H);l.isCustomX()||l.isTimeSeries()?0<=z.indexOf(R)?l.data.xs[H]=(f&&l.data.xs[H]?l.data.xs[H]:[]).concat(d.map(function(ha){return ha[R]}).filter(qa).map(function(ha,Ja){return l.generateTargetX(ha,H,Ja)})):q.data_x?l.data.xs[H]=l.getOtherTargetXs():ca(q.data_xs)||(l.data.xs[H]=l.getXValuesOfXKey(R,l.data.targets)):
l.data.xs[H]=d.map(function(ha,Ja){return Ja})});w.forEach(function(H){if(!l.data.xs[H])throw Error('x is not defined for id \x3d "'+H+'".');});w=w.map(function(H,R){var ha=q.data_idConverter(H);return{id:ha,id_org:H,values:d.map(function(Ja,D){var Q=l.getXKey(H);Q=Ja[Q];var oa=null===Ja[H]||isNaN(Ja[H])?null:+Ja[H];if(l.isCustomX()&&l.isCategorized()&&!Y(Q)){0===R&&0===D&&(q.axis_x_categories=[]);var Fa=q.axis_x_categories.indexOf(Q);-1===Fa&&(Fa=q.axis_x_categories.length,q.axis_x_categories.push(Q))}else Fa=
l.generateTargetX(Q,H,D);if(Y(Ja[H])||l.data.xs[H].length<=D)Fa=void 0;D={x:Fa,value:oa,id:ha};l.isStanfordGraphType()&&(D.epochs=Ja[G]);return D}).filter(function(Ja){return P(Ja.x)})}});w.forEach(function(H){q.data_xSort&&(H.values=H.values.sort(function(ha,Ja){return(ha.x||0===ha.x?ha.x:Infinity)-(Ja.x||0===Ja.x?Ja.x:Infinity)}));var R=0;H.values.forEach(function(ha){ha.index=R++});l.data.xs[H.id].sort(function(ha,Ja){return ha-Ja})});l.hasNegativeValue=l.hasNegativeValueInTargets(w);l.hasPositiveValue=
l.hasPositiveValueInTargets(w);q.data_type&&l.setTargetType(l.mapToIds(w).filter(function(H){return!(H in q.data_types)}),q.data_type);w.forEach(function(H){l.addCache(H.id_org,H)});return w};p.prototype.isEpochs=function(d){var f=this.config;return f.data_epochs&&d===f.data_epochs};p.prototype.isX=function(d){var f=this.config;return f.data_x&&d===f.data_x||!ca(f.data_xs)&&ka(f.data_xs,d)};p.prototype.isNotX=function(d){return!this.isX(d)};p.prototype.isNotXAndNotEpochs=function(d){return!this.isX(d)&&
!this.isEpochs(d)};p.prototype.isStackNormalized=function(){return this.config.data_stack_normalize&&0<this.config.data_groups.length};p.prototype.isAxisNormalized=function(d){var f=this;return f.isStackNormalized()?f.data.targets.filter(function(l){return f.axis.getId(l.id)===d}).some(function(l){return f.isTargetNormalized(l.id)}):!1};p.prototype.isTargetNormalized=function(d){return this.isStackNormalized()&&this.config.data_groups.some(function(f){return f.includes(d)})};p.prototype.getXKey=function(d){var f=
this.config;return f.data_x?f.data_x:ca(f.data_xs)?null:f.data_xs[d]};p.prototype.getTotalPerIndex=function(d){var f=this;if(!f.isStackNormalized())return null;var l=f.getFromCache("getTotalPerIndex");if(void 0!==l)return l[d];var q={y:[],y2:[]};f.data.targets.filter(function(w){return f.isTargetNormalized(w.id)}).filter(function(w){return f.isTargetToShow(w.id)}).forEach(function(w){var z=q[f.axis.getId(w.id)];w.values.forEach(function(G,H){z[H]||(z[H]=0);z[H]+="number"===typeof G.value?G.value:
0})});f.addToCache("getTotalPerIndex",q);return q[d]};p.prototype.getTotalDataSum=function(){var d=this,f=d.getFromCache("getTotalDataSum");if(void 0!==f)return f;f=ia(d.data.targets.filter(function(l){return d.isTargetToShow(l.id)}).map(function(l){return l.values})).map(function(l){return l.value}).reduce(function(l,q){return l+q},0);d.addToCache("getTotalDataSum",f);return f};p.prototype.getXValuesOfXKey=function(d,f){var l=this,q;(f&&!ca(f)?l.mapToIds(f):[]).forEach(function(w){l.getXKey(w)===
d&&(q=l.data.xs[w])});return q};p.prototype.getXValue=function(d,f){return d in this.data.xs&&this.data.xs[d]&&qa(this.data.xs[d][f])?this.data.xs[d][f]:f};p.prototype.getOtherTargetXs=function(){var d=Object.keys(this.data.xs);return d.length?this.data.xs[d[0]]:null};p.prototype.getOtherTargetX=function(d){var f=this.getOtherTargetXs();return f&&d<f.length?f[d]:null};p.prototype.addXs=function(d){var f=this;Object.keys(d).forEach(function(l){f.config.data_xs[l]=d[l]})};p.prototype.addName=function(d){if(d){var f=
this.config.data_names[d.id];d.name=void 0!==f?f:d.id}return d};p.prototype.getValueOnIndex=function(d,f){d=d.filter(function(l){return l.index===f});return d.length?d[0]:null};p.prototype.updateTargetX=function(d,f){var l=this;d.forEach(function(q){q.values.forEach(function(w,z){w.x=l.generateTargetX(f[z],q.id,z)});l.data.xs[q.id]=f})};p.prototype.updateTargetXs=function(d,f){var l=this;d.forEach(function(q){f[q.id]&&l.updateTargetX([q],f[q.id])})};p.prototype.generateTargetX=function(d,f,l){return this.isTimeSeries()?
d?this.parseDate(d):this.parseDate(this.getXValue(f,l)):this.isCustomX()&&!this.isCategorized()?qa(d)?+d:this.getXValue(f,l):l};p.prototype.cloneTarget=function(d){return{id:d.id,id_org:d.id_org,values:d.values.map(function(f){return{x:f.x,value:f.value,id:f.id}})}};p.prototype.getMaxDataCount=function(){return this.d3.max(this.data.targets,function(d){return d.values.length})};p.prototype.mapToIds=function(d){return d.map(function(f){return f.id})};p.prototype.mapToTargetIds=function(d){return d?
[].concat(d):this.mapToIds(this.data.targets)};p.prototype.hasTarget=function(d,f){d=this.mapToIds(d);var l;for(l=0;l<d.length;l++)if(d[l]===f)return!0;return!1};p.prototype.isTargetToShow=function(d){return 0>this.hiddenTargetIds.indexOf(d)};p.prototype.isLegendToShow=function(d){return 0>this.hiddenLegendIds.indexOf(d)};p.prototype.getTargetsToShow=function(){return this.filterTargetsToShow(this.data.targets)};p.prototype.filterTargetsToShow=function(d){var f=this;return d.filter(function(l){return f.isTargetToShow(l.id)})};
p.prototype.getTargets=function(){return this.data.targets};p.prototype.mapTargetsToUniqueXs=function(d){d=this.d3.set(this.d3.merge(d.map(function(f){return f.values.map(function(l){return+l.x})}))).values();d=this.isTimeSeries()?d.map(function(f){return new Date(+f)}):d.map(function(f){return+f});return d.sort(function(f,l){return f<l?-1:f>l?1:f>=l?0:NaN})};p.prototype.addHiddenTargetIds=function(d){d=d instanceof Array?d:Array(d);for(var f=0;f<d.length;f++)0>this.hiddenTargetIds.indexOf(d[f])&&
(this.hiddenTargetIds=this.hiddenTargetIds.concat(d[f]));this.resetCache()};p.prototype.removeHiddenTargetIds=function(d){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(f){return 0>d.indexOf(f)});this.resetCache()};p.prototype.addHiddenLegendIds=function(d){d=d instanceof Array?d:Array(d);for(var f=0;f<d.length;f++)0>this.hiddenLegendIds.indexOf(d[f])&&(this.hiddenLegendIds=this.hiddenLegendIds.concat(d[f]))};p.prototype.removeHiddenLegendIds=function(d){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(f){return 0>
d.indexOf(f)})};p.prototype.getValuesAsIdKeyed=function(d){var f={};d.forEach(function(l){f[l.id]=[];l.values.forEach(function(q){f[l.id].push(q.value)})});return f};p.prototype.checkValueInTargets=function(d,f){var l=Object.keys(d),q,w;for(q=0;q<l.length;q++){var z=d[l[q]].values;for(w=0;w<z.length;w++)if(f(z[w].value))return!0}return!1};p.prototype.hasNegativeValueInTargets=function(d){return this.checkValueInTargets(d,function(f){return 0>f})};p.prototype.hasPositiveValueInTargets=function(d){return this.checkValueInTargets(d,
function(f){return 0<f})};p.prototype.isOrderDesc=function(){var d=this.config;return"string"===typeof d.data_order&&"desc"===d.data_order.toLowerCase()};p.prototype.isOrderAsc=function(){var d=this.config;return"string"===typeof d.data_order&&"asc"===d.data_order.toLowerCase()};p.prototype.getOrderFunction=function(){var d=this.config,f=this.isOrderAsc(),l=this.isOrderDesc();if(f||l){var q=function(z,G){return z+Math.abs(G.value)};return function(z,G){z=z.values.reduce(q,0);G=G.values.reduce(q,0);
return f?G-z:z-G}}if(va(d.data_order))return d.data_order;if(Array.isArray(d.data_order)){var w=d.data_order;return function(z,G){return w.indexOf(z.id)-w.indexOf(G.id)}}};p.prototype.orderTargets=function(d){var f=this.getOrderFunction();f&&d.sort(f);return d};p.prototype.filterByIndex=function(d,f){return this.d3.merge(d.map(function(l){return l.values.filter(function(q){return q.index===f})}))};p.prototype.filterByX=function(d,f){return this.d3.merge(d.map(function(l){return l.values})).filter(function(l){return 0===
l.x-f})};p.prototype.filterRemoveNull=function(d){return d.filter(function(f){return qa(f.value)})};p.prototype.filterByXDomain=function(d,f){return d.map(function(l){return{id:l.id,id_org:l.id_org,values:l.values.filter(function(q){return f[0]<=q.x&&q.x<=f[1]})}})};p.prototype.hasDataLabel=function(){var d=this.config;return"boolean"===typeof d.data_labels&&d.data_labels||"object"===typeof d.data_labels&&!ca(d.data_labels)?!0:!1};p.prototype.getDataLabelLength=function(d,f,l){var q=this,w=[0,0];
q.selectChart.select("svg").selectAll(".dummy").data([d,f]).enter().append("text").text(function(z){return q.dataLabelFormat(z.id)(z)}).each(function(z,G){w[G]=1.3*Ea(this)[l]}).remove();return w};p.prototype.isNoneArc=function(d){return this.hasTarget(this.data.targets,d.id)};p.prototype.isArc=function(d){return"data"in d&&this.hasTarget(this.data.targets,d.data.id)};p.prototype.findClosestFromTargets=function(d,f){var l=this;d=d.map(function(q){return l.findClosest(q.values,f,l.config.tooltip_horizontal?
l.horizontalDistance.bind(l):l.dist.bind(l),l.config.point_sensitivity)}).filter(function(q){return q});if(0!==d.length)return 1===d.length?d[0]:l.findClosest(d,f,l.dist.bind(l))};p.prototype.findClosestFromTargetsByX=function(d,f){var l,q;d.forEach(function(w){w.values.forEach(function(z){var G=Math.abs(f-z.x);if(void 0===q||G<q)l=z,q=G})});return l};p.prototype.findClosest=function(d,f,l,q){void 0===q&&(q=Infinity);var w=this,z;d.filter(function(G){return G&&w.isBarType(G.id)}).forEach(function(G){if(!z){var H=
w.main.select("."+aa.bars+w.getTargetSelectorSuffix(G.id)+" ."+aa.bar+"-"+G.index).node();w.isWithinBar(f,H)&&(z=G)}});d.filter(function(G){return G&&!w.isBarType(G.id)}).forEach(function(G){var H=l(G,f);H<q&&(q=H,z=G)});return z};p.prototype.dist=function(d,f){var l=this.config,q=l.axis_rotated?1:0;l=l.axis_rotated?0:1;var w=this.circleY(d,d.index);d=this.x(d.x);return Math.sqrt(Math.pow(d-f[q],2)+Math.pow(w-f[l],2))};p.prototype.horizontalDistance=function(d,f){var l=this.config.axis_rotated?1:
0;d=this.x(d.x);return Math.abs(d-f[l])};p.prototype.convertValuesToStep=function(d){var f=[].concat(d),l;if(!this.isCategorized())return d;for(l=d.length+1;0<l;l--)f[l]=f[l-1];f[0]={x:f[0].x-1,value:f[0].value,id:f[0].id};f[d.length+1]={x:f[d.length].x+1,value:f[d.length].value,id:f[d.length].id};return f};p.prototype.getRatio=function(d,f,l){void 0===l&&(l=!1);var q=this.api,w=0;f&&q.data.shown.call(q).length&&(w=f.ratio||f.value,"arc"===d?this.hasType("gauge")?w=(f.endAngle-f.startAngle)/(Math.PI*
(this.config.gauge_fullCircle?2:1)):(d=this.getTotalDataSum(),w=f.value/d):"index"===d&&(d=this.getTotalPerIndex(this.axis.getId(f.id)),f.ratio="number"===typeof f.value&&d&&0<d[f.index]?f.value/d[f.index]:0,w=f.ratio));return l&&w?100*w:w};p.prototype.updateDataAttributes=function(d,f){var l=this.config["data_"+d];if("undefined"===typeof f)return l;Object.keys(f).forEach(function(q){l[q]=f[q]});this.redraw({withLegend:!0});return l};p.prototype.load=function(d,f){var l=this;d&&(f.filter&&(d=d.filter(f.filter)),
(f.type||f.types)&&d.forEach(function(q){l.setTargetType(q.id,f.types&&f.types[q.id]?f.types[q.id]:f.type)}),l.data.targets.forEach(function(q){for(var w=0;w<d.length;w++)if(q.id===d[w].id){q.values=d[w].values;d.splice(w,1);break}}),l.data.targets=l.data.targets.concat(d));l.updateTargets(l.data.targets);l.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0});f.done&&f.done()};p.prototype.loadFromArgs=function(d){var f=this;f.resetCache();d.data?f.load(f.convertDataToTargets(d.data),
d):d.url?f.convertUrlToData(d.url,d.mimeType,d.headers,d.keys,function(l){f.load(f.convertDataToTargets(l),d)}):d.json?f.load(f.convertDataToTargets(f.convertJsonToData(d.json,d.keys)),d):d.rows?f.load(f.convertDataToTargets(f.convertRowsToData(d.rows)),d):d.columns?f.load(f.convertDataToTargets(f.convertColumnsToData(d.columns)),d):f.load(null,d)};p.prototype.unload=function(d,f){var l=this;l.resetCache();f||(f=function(){});(d=d.filter(function(q){return l.hasTarget(l.data.targets,q)}))&&0!==d.length?
(l.svg.selectAll(d.map(function(q){return l.selectorTarget(q)})).transition().style("opacity",0).remove().call(l.endall,f),d.forEach(function(q){l.withoutFadeIn[q]=!1;l.legend&&l.legend.selectAll("."+aa.legendItem+l.getTargetSelectorSuffix(q)).remove();l.data.targets=l.data.targets.filter(function(w){return w.id!==q})})):f()};p.prototype.getYDomainMin=function(d){var f=this,l=f.config,q=f.mapToIds(d),w=f.getValuesAsIdKeyed(d),z;if(0<l.data_groups.length){var G=f.hasNegativeValueInTargets(d);for(d=
0;d<l.data_groups.length;d++){var H=l.data_groups[d].filter(function(Ja){return 0<=q.indexOf(Ja)});if(0!==H.length){var R=H[0];G&&w[R]&&w[R].forEach(function(Ja,D){w[R][D]=0>Ja?Ja:0});for(z=1;z<H.length;z++){var ha=H[z];w[ha]&&w[ha].forEach(function(Ja,D){f.axis.getId(ha)!==f.axis.getId(R)||!w[R]||G&&0<+Ja||(w[R][D]+=+Ja)})}}}}return f.d3.min(Object.keys(w).map(function(Ja){return f.d3.min(w[Ja])}))};p.prototype.getYDomainMax=function(d){var f=this,l=f.config,q=f.mapToIds(d),w=f.getValuesAsIdKeyed(d),
z;if(0<l.data_groups.length){var G=f.hasPositiveValueInTargets(d);for(d=0;d<l.data_groups.length;d++){var H=l.data_groups[d].filter(function(Ja){return 0<=q.indexOf(Ja)});if(0!==H.length){var R=H[0];G&&w[R]&&w[R].forEach(function(Ja,D){w[R][D]=0<Ja?Ja:0});for(z=1;z<H.length;z++){var ha=H[z];w[ha]&&w[ha].forEach(function(Ja,D){f.axis.getId(ha)!==f.axis.getId(R)||!w[R]||G&&0>+Ja||(w[R][D]+=+Ja)})}}}}return f.d3.max(Object.keys(w).map(function(Ja){return f.d3.max(w[Ja])}))};p.prototype.getYDomain=function(d,
f,l){var q=this,w=q.config;if(q.isAxisNormalized(f))return[0,100];d=d.filter(function(Ga){return q.axis.getId(Ga.id)===f});var z=l?q.filterByXDomain(d,l):d,G="y2"===f?w.axis_y2_min:w.axis_y_min,H="y2"===f?w.axis_y2_max:w.axis_y_max,R=q.getYDomainMin(z);d=q.getYDomainMax(z);var ha,Ja="y2"===f?w.axis_y2_center:w.axis_y_center,D=q.hasType("bar",z)&&w.bar_zerobased||q.hasType("area",z)&&w.area_zerobased;l="y2"===f?w.axis_y2_inverted:w.axis_y_inverted;var Q=q.hasDataLabel()&&w.axis_rotated;var oa=q.hasDataLabel()&&
!w.axis_rotated;R=qa(G)?G:qa(H)?R<H?R:H-10:R;d=qa(H)?H:qa(G)?G<d?d:G+10:d;if(0===z.length)return"y2"===f?q.y2.domain():q.y.domain();isNaN(R)&&(R=0);isNaN(d)&&(d=R);R===d&&(0>R?d=0:R=0);z=0<=R&&0<=d;var Fa=0>=R&&0>=d;if(qa(G)&&z||qa(H)&&Fa)D=!1;D&&(z&&(R=0),Fa&&(d=0));G=Math.abs(d-R);H=ha=.1*G;"undefined"!==typeof Ja&&(R=Math.max(Math.abs(R),Math.abs(d)),d=Ja+R,R=Ja-R);Q?(Ja=q.getDataLabelLength(R,d,"width"),Q=X(q.y.range()),Ja=[Ja[0]/Q,Ja[1]/Q],H+=Ja[1]/(1-Ja[0]-Ja[1])*G,ha+=Ja[0]/(1-Ja[0]-Ja[1])*
G):oa&&(Ja=q.getDataLabelLength(R,d,"height"),Q=q.getY(w["axis_"+f+"_type"],[0,w.axis_rotated?q.width:q.height],[0,G]),H+=Q(Ja[1]),ha+=Q(Ja[0]));"y"!==f||ca(w.axis_y_padding)||(H=q.axis.getPadding(w.axis_y_padding,"top",H,G),ha=q.axis.getPadding(w.axis_y_padding,"bottom",ha,G));"y2"!==f||ca(w.axis_y2_padding)||(H=q.axis.getPadding(w.axis_y2_padding,"top",H,G),ha=q.axis.getPadding(w.axis_y2_padding,"bottom",ha,G));D&&(z&&(ha=R),Fa&&(H=-d));w=[R-ha,d+H];return l?w.reverse():w};p.prototype.getXDomainMin=
function(d){var f=this,l=f.config;return P(l.axis_x_min)?f.isTimeSeries()?this.parseDate(l.axis_x_min):l.axis_x_min:f.d3.min(d,function(q){return f.d3.min(q.values,function(w){return w.x})})};p.prototype.getXDomainMax=function(d){var f=this,l=f.config;return P(l.axis_x_max)?f.isTimeSeries()?this.parseDate(l.axis_x_max):l.axis_x_max:f.d3.max(d,function(q){return f.d3.max(q.values,function(w){return w.x})})};p.prototype.getXDomainPadding=function(d){var f=this.config;d=d[1]-d[0];var l;if(this.isCategorized())d=
0;else if(this.hasType("bar")){var q=this.getMaxDataCount();d=1<q?d/(q-1)/2:.5}else d*=.01;"object"!==typeof f.axis_x_padding||ca(f.axis_x_padding)?q="number"===typeof f.axis_x_padding?l=f.axis_x_padding:l=d:(q=qa(f.axis_x_padding.left)?f.axis_x_padding.left:d,l=qa(f.axis_x_padding.right)?f.axis_x_padding.right:d);return{left:q,right:l}};p.prototype.getXDomain=function(d){var f=[this.getXDomainMin(d),this.getXDomainMax(d)];d=f[0];var l=f[1];f=this.getXDomainPadding(f);var q=0,w=0;0!==d-l||this.isCategorized()||
(this.isTimeSeries()?(d=new Date(.5*d.getTime()),l=new Date(1.5*l.getTime())):(d=0===d?1:.5*d,l=0===l?-1:1.5*l));if(d||0===d)q=this.isTimeSeries()?new Date(d.getTime()-f.left):d-f.left;if(l||0===l)w=this.isTimeSeries()?new Date(l.getTime()+f.right):l+f.right;return[q,w]};p.prototype.updateXDomain=function(d,f,l,q,w){var z=this.config;l&&(this.x.domain(w?w:this.d3.extent(this.getXDomain(d))),this.orgXDomain=this.x.domain(),z.zoom_enabled&&this.zoom.update(),this.subX.domain(this.x.domain()),this.brush&&
this.brush.updateScale(this.subX));f&&this.x.domain(w?w:!this.brush||this.brush.empty()?this.orgXDomain:this.brush.selectionAsValue());q&&this.x.domain(this.trimXDomain(this.x.orgDomain()));return this.x.domain()};p.prototype.trimXDomain=function(d){var f=this.getZoomDomain(),l=f[0];f=f[1];d[0]<=l&&(d[1]=+d[1]+(l-d[0]),d[0]=l);f<=d[1]&&(d[0]=+d[0]-(d[1]-f),d[1]=f);return d};p.prototype.drag=function(d){var f=this,l=f.config,q=f.main,w=f.d3;if(!f.hasArcType()&&l.data_selection_enabled&&l.data_selection_multiple){var z=
f.dragStart[0];var G=f.dragStart[1];var H=d[0];d=d[1];var R=Math.min(z,H);var ha=Math.max(z,H);var Ja=l.data_selection_grouped?f.margin.top:Math.min(G,d);var D=l.data_selection_grouped?f.height:Math.max(G,d);q.select("."+aa.dragarea).attr("x",R).attr("y",Ja).attr("width",ha-R).attr("height",D-Ja);q.selectAll("."+aa.shapes).selectAll("."+aa.shape).each(function(Q,oa){if(l.data_selection_isselectable(Q)){var Fa=w.select(this),Ga=Fa.classed(aa.SELECTED),xb=Fa.classed(aa.INCLUDED);if(Fa.classed(aa.circle)){var Hb=
1*Fa.attr("cx");var Kb=1*Fa.attr("cy");var Cb=f.togglePoint;Hb=R<Hb&&Hb<ha&&Ja<Kb&&Kb<D}else if(Fa.classed(aa.bar)){Cb=ua(this);Hb=Cb.x;Kb=Cb.y;var ib=Cb.width;var Ib=Cb.height;Cb=f.togglePath;Hb=!(ha<Hb||Hb+ib<R)&&!(D<Kb||Kb+Ib<Ja)}else return;Hb^xb&&(Fa.classed(aa.INCLUDED,!xb),Fa.classed(aa.SELECTED,!Ga),Cb.call(f,!Ga,Fa,Q,oa))}})}};p.prototype.dragstart=function(d){var f=this.config;!this.hasArcType()&&f.data_selection_enabled&&(this.dragStart=d,this.main.select("."+aa.chart).append("rect").attr("class",
aa.dragarea).style("opacity",.1),this.dragging=!0)};p.prototype.dragend=function(){var d=this.config;!this.hasArcType()&&d.data_selection_enabled&&(this.main.select("."+aa.dragarea).transition().duration(100).style("opacity",0).remove(),this.main.selectAll("."+aa.shape).classed(aa.INCLUDED,!1),this.dragging=!1)};p.prototype.getYFormat=function(d){var f=this,l=d&&!f.hasType("gauge")?f.defaultArcValueFormat:f.yFormat,q=d&&!f.hasType("gauge")?f.defaultArcValueFormat:f.y2Format;return function(w,z,G){return("y2"===
f.axis.getId(G)?q:l).call(f,w,z)}};p.prototype.yFormat=function(d){var f=this.config;return(f.axis_y_tick_format?f.axis_y_tick_format:this.defaultValueFormat)(d)};p.prototype.y2Format=function(d){var f=this.config;return(f.axis_y2_tick_format?f.axis_y2_tick_format:this.defaultValueFormat)(d)};p.prototype.defaultValueFormat=function(d){return qa(d)?+d:""};p.prototype.defaultArcValueFormat=function(d,f){return(100*f).toFixed(1)+"%"};p.prototype.dataLabelFormat=function(d){var f=this.config.data_labels,
l=function(q){return qa(q)?+q:""};return"function"===typeof f.format?f.format:"object"===typeof f.format?f.format[d]?!0===f.format[d]?l:f.format[d]:function(){return""}:l};p.prototype.initGrid=function(){var d=this.config,f=this.d3;this.grid=this.main.append("g").attr("clip-path",this.clipPathForGrid).attr("class",aa.grid);d.grid_x_show&&this.grid.append("g").attr("class",aa.xgrids);d.grid_y_show&&this.grid.append("g").attr("class",aa.ygrids);d.grid_focus_show&&this.grid.append("g").attr("class",
aa.xgridFocus).append("line").attr("class",aa.xgridFocus);this.xgrid=f.selectAll([]);d.grid_lines_front||this.initGridLines()};p.prototype.initGridLines=function(){var d=this.d3;this.gridLines=this.main.append("g").attr("clip-path",this.clipPathForGrid).attr("class",aa.grid+" "+aa.gridLines);this.gridLines.append("g").attr("class",aa.xgridLines);this.gridLines.append("g").attr("class",aa.ygridLines);this.xgridLines=d.selectAll([])};p.prototype.updateXGrid=function(d){var f=this,l=f.config,q=f.d3,
w=f.generateGridData(l.grid_x_type,f.x),z=f.isCategorized()?f.xAxis.tickOffset():0;f.xgridAttr=l.axis_rotated?{x1:0,x2:f.width,y1:function(H){return f.x(H)-z},y2:function(H){return f.x(H)-z}}:{x1:function(H){return f.x(H)+z},x2:function(H){return f.x(H)+z},y1:0,y2:f.height};f.xgridAttr.opacity=function(){return+q.select(this).attr(l.axis_rotated?"y1":"x1")===(l.axis_rotated?f.height:0)?0:1};w=f.main.select("."+aa.xgrids).selectAll("."+aa.xgrid).data(w);var G=w.enter().append("line").attr("class",
aa.xgrid).attr("x1",f.xgridAttr.x1).attr("x2",f.xgridAttr.x2).attr("y1",f.xgridAttr.y1).attr("y2",f.xgridAttr.y2).style("opacity",0);f.xgrid=G.merge(w);d||f.xgrid.attr("x1",f.xgridAttr.x1).attr("x2",f.xgridAttr.x2).attr("y1",f.xgridAttr.y1).attr("y2",f.xgridAttr.y2).style("opacity",f.xgridAttr.opacity);w.exit().remove()};p.prototype.updateYGrid=function(){var d=this.config,f=this.yAxis.tickValues()||this.y.ticks(d.grid_y_ticks);f=this.main.select("."+aa.ygrids).selectAll("."+aa.ygrid).data(f);this.ygrid=
f.enter().append("line").attr("class",aa.ygrid).merge(f);this.ygrid.attr("x1",d.axis_rotated?this.y:0).attr("x2",d.axis_rotated?this.y:this.width).attr("y1",d.axis_rotated?0:this.y).attr("y2",d.axis_rotated?this.height:this.y);f.exit().remove();this.smoothLines(this.ygrid,"grid")};p.prototype.gridTextAnchor=function(d){return d.position?d.position:"end"};p.prototype.gridTextDx=function(d){return"start"===d.position?4:"middle"===d.position?0:-4};p.prototype.xGridTextX=function(d){return"start"===d.position?
-this.height:"middle"===d.position?-this.height/2:0};p.prototype.yGridTextX=function(d){return"start"===d.position?0:"middle"===d.position?this.width/2:this.width};p.prototype.updateGrid=function(d){var f=this.main,l=this.config,q=this.xv.bind(this),w=this.yv.bind(this),z=this.xGridTextX.bind(this),G=this.yGridTextX.bind(this);this.grid.style("visibility",this.hasArcType()?"hidden":"visible");f.select("line."+aa.xgridFocus).style("visibility","hidden");l.grid_x_show&&this.updateXGrid();var H=f.select("."+
aa.xgridLines).selectAll("."+aa.xgridLine).data(l.grid_x_lines);var R=H.enter().append("g").attr("class",function(ha){return aa.xgridLine+(ha["class"]?" "+ha["class"]:"")});R.append("line").attr("x1",l.axis_rotated?0:q).attr("x2",l.axis_rotated?this.width:q).attr("y1",l.axis_rotated?q:0).attr("y2",l.axis_rotated?q:this.height).style("opacity",0);R.append("text").attr("text-anchor",this.gridTextAnchor).attr("transform",l.axis_rotated?"":"rotate(-90)").attr("x",l.axis_rotated?G:z).attr("y",q).attr("dx",
this.gridTextDx).attr("dy",-5).style("opacity",0);this.xgridLines=R.merge(H);H.exit().transition().duration(d).style("opacity",0).remove();l.grid_y_show&&this.updateYGrid();f=f.select("."+aa.ygridLines).selectAll("."+aa.ygridLine).data(l.grid_y_lines);H=f.enter().append("g").attr("class",function(ha){return aa.ygridLine+(ha["class"]?" "+ha["class"]:"")});H.append("line").attr("x1",l.axis_rotated?w:0).attr("x2",l.axis_rotated?w:this.width).attr("y1",l.axis_rotated?0:w).attr("y2",l.axis_rotated?this.height:
w).style("opacity",0);H.append("text").attr("text-anchor",this.gridTextAnchor).attr("transform",l.axis_rotated?"rotate(-90)":"").attr("x",l.axis_rotated?z:G).attr("y",w).attr("dx",this.gridTextDx).attr("dy",-5).style("opacity",0);this.ygridLines=H.merge(f);this.ygridLines.select("line").transition().duration(d).attr("x1",l.axis_rotated?w:0).attr("x2",l.axis_rotated?w:this.width).attr("y1",l.axis_rotated?0:w).attr("y2",l.axis_rotated?this.height:w).style("opacity",1);this.ygridLines.select("text").transition().duration(d).attr("x",
l.axis_rotated?this.xGridTextX.bind(this):this.yGridTextX.bind(this)).attr("y",w).text(function(ha){return ha.text}).style("opacity",1);f.exit().transition().duration(d).style("opacity",0).remove()};p.prototype.redrawGrid=function(d,f){var l=this.config,q=this.xv.bind(this),w=this.xgridLines.select("line"),z=this.xgridLines.select("text");return[(d?w.transition(f):w).attr("x1",l.axis_rotated?0:q).attr("x2",l.axis_rotated?this.width:q).attr("y1",l.axis_rotated?q:0).attr("y2",l.axis_rotated?q:this.height).style("opacity",
1),(d?z.transition(f):z).attr("x",l.axis_rotated?this.yGridTextX.bind(this):this.xGridTextX.bind(this)).attr("y",q).text(function(G){return G.text}).style("opacity",1)]};p.prototype.showXGridFocus=function(d){var f=this.config;d=d.filter(function(w){return w&&qa(w.value)});var l=this.main.selectAll("line."+aa.xgridFocus),q=this.xx.bind(this);!f.tooltip_show||this.hasType("stanford")||this.hasArcType()||(l.style("visibility","visible").data([d[0]]).attr(f.axis_rotated?"y1":"x1",q).attr(f.axis_rotated?
"y2":"x2",q),this.smoothLines(l,"grid"))};p.prototype.hideXGridFocus=function(){this.main.select("line."+aa.xgridFocus).style("visibility","hidden")};p.prototype.updateXgridFocus=function(){var d=this.config;this.main.select("line."+aa.xgridFocus).attr("x1",d.axis_rotated?0:-10).attr("x2",d.axis_rotated?this.width:-10).attr("y1",d.axis_rotated?-10:0).attr("y2",d.axis_rotated?-10:this.height)};p.prototype.generateGridData=function(d,f){var l=[],q=this.main.select("."+aa.axisX).selectAll(".tick").size();
if("year"===d)for(f=this.getXDomain(),d=f[0].getFullYear(),f=f[1].getFullYear();d<=f;d++)l.push(new Date(d+"-01-01 00:00:00"));else l=f.ticks(10),l.length>q&&(l=l.filter(function(w){return 0>(""+w).indexOf(".")}));return l};p.prototype.getGridFilterToRemove=function(d){return d?function(f){var l=!1;[].concat(d).forEach(function(q){if("value"in q&&f.value===q.value||"class"in q&&f["class"]===q["class"])l=!0});return l}:function(){return!0}};p.prototype.removeGridLines=function(d,f){var l=this.config,
q=this.getGridFilterToRemove(d);d=function(z){return!q(z)};var w=f?aa.xgridLine:aa.ygridLine;this.main.select("."+(f?aa.xgridLines:aa.ygridLines)).selectAll("."+w).filter(q).transition().duration(l.transition_duration).style("opacity",0).remove();f?l.grid_x_lines=l.grid_x_lines.filter(d):l.grid_y_lines=l.grid_y_lines.filter(d)};p.prototype.initEventRect=function(){var d=this.config;this.main.select("."+aa.chart).append("g").attr("class",aa.eventRects).style("fill-opacity",0);this.eventRect=this.main.select("."+
aa.eventRects).append("rect").attr("class",aa.eventRect);d.zoom_enabled&&this.zoom&&(this.eventRect.call(this.zoom).on("dblclick.zoom",null),d.zoom_initialRange&&this.eventRect.transition().duration(0).call(this.zoom.transform,this.zoomTransform(d.zoom_initialRange)))};p.prototype.redrawEventRect=function(){function d(){f.svg.select("."+aa.eventRect).style("cursor",null);f.hideXGridFocus();f.hideTooltip();f.unexpandCircles();f.unexpandBars()}var f=this,l=f.d3,q=f.config,w=function(G,H){return H&&
(f.isBarType(H.id)||f.dist(H,G)<q.point_sensitivity)},z=function(G){return G?f.addName(Object.assign({},G)):null};f.main.select("."+aa.eventRects).style("cursor",q.zoom_enabled?q.axis_rotated?"ns-resize":"ew-resize":null);f.eventRect.attr("x",0).attr("y",0).attr("width",f.width).attr("height",f.height).on("mouseout",q.interaction_enabled?function(){q&&!f.hasArcType()&&(f.mouseover&&(q.data_onmouseout.call(f.api,f.mouseover),f.mouseover=void 0),d())}:null).on("mousemove",q.interaction_enabled?function(){if(!f.dragging){var G=
f.getTargetsToShow();if(!f.hasArcType(G)){var H=l.mouse(this),R=z(f.findClosestFromTargets(G,H)),ha=w(H,R);!f.mouseover||R&&R.id===f.mouseover.id&&R.index===f.mouseover.index||(q.data_onmouseout.call(f.api,f.mouseover),f.mouseover=void 0);R&&!f.mouseover&&(q.data_onmouseover.call(f.api,R),f.mouseover=R);f.svg.select("."+aa.eventRect).style("cursor",ha?"pointer":null);var Ja;!q.tooltip_grouped||f.hasType("stanford",G)?R&&(Ja=[R]):(ha=void 0,(ha=R?R:f.findClosestFromTargetsByX(G,f.x.invert(q.axis_rotated?
H[1]:H[0])))&&(Ja=f.filterByX(G,ha.x)));if(!Ja||0===Ja.length)return d();Ja=Ja.map(z);f.showTooltip(Ja,this);q.point_focus_expand_enabled&&(f.unexpandCircles(),Ja.forEach(function(D){f.expandCircles(D.index,D.id,!1)}));f.unexpandBars();Ja.forEach(function(D){f.expandBars(D.index,D.id,!1)});f.showXGridFocus(Ja)}}}:null).on("click",q.interaction_enabled?function(){var G=f.getTargetsToShow();if(!f.hasArcType(G)){var H=l.mouse(this),R=z(f.findClosestFromTargets(G,H));w(H,R)&&((!q.data_selection_grouped||
f.isStanfordType(R)?[R]:f.filterByX(G,R.x)).forEach(function(ha){f.main.selectAll("."+aa.shapes+f.getTargetSelectorSuffix(ha.id)).selectAll("."+aa.shape+"-"+ha.index).each(function(){(q.data_selection_grouped||f.isWithinShape(this,ha))&&f.toggleShape(this,ha,ha.index)})}),R&&(G=f.main.selectAll("."+aa.shapes+f.getTargetSelectorSuffix(R.id)).select("."+aa.shape+"-"+R.index),q.data_onclick.call(f.api,R,G.node())))}}:null).call(q.interaction_enabled&&q.data_selection_draggable&&f.drag?l.drag().on("drag",
function(){f.drag(l.mouse(this))}).on("start",function(){f.dragstart(l.mouse(this))}).on("end",function(){f.dragend()}):function(){})};p.prototype.getMousePosition=function(d){return[this.x(d.x),this.getYScale(d.id)(d.value)]};p.prototype.dispatchEvent=function(d,f){var l=this.main.select("."+aa.eventRect).node(),q=l.getBoundingClientRect(),w=q.left+(f?f[0]:0);f=q.top+(f?f[1]:0);q=document.createEvent("MouseEvents");q.initMouseEvent(d,!0,!0,window,0,w,f,w,f,!1,!1,!1,!1,0,null);l.dispatchEvent(q)};
p.prototype.initLegend=function(){this.legendItemTextBox={};this.legendHasRendered=!1;this.legend=this.svg.append("g").attr("transform",this.getTranslate("legend"));this.config.legend_show?this.updateLegendWithDefaults():(this.legend.style("visibility","hidden"),this.hiddenLegendIds=this.mapToIds(this.data.targets))};p.prototype.updateLegendWithDefaults=function(){this.updateLegend(this.mapToIds(this.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})};p.prototype.updateSizeForLegend=
function(d,f){var l=this.config,q=this.isLegendTop?this.getCurrentPaddingTop()+l.legend_inset_y+5.5:this.currentHeight-d-this.getCurrentPaddingBottom()-l.legend_inset_y;l=this.isLegendLeft?this.getCurrentPaddingLeft()+l.legend_inset_x+.5:this.currentWidth-f-this.getCurrentPaddingRight()-l.legend_inset_x+.5;this.margin3={top:this.isLegendRight?0:this.isLegendInset?q:this.currentHeight-d,right:NaN,bottom:0,left:this.isLegendRight?this.currentWidth-f:this.isLegendInset?l:0}};p.prototype.transformLegend=
function(d){(d?this.legend.transition():this.legend).attr("transform",this.getTranslate("legend"))};p.prototype.updateLegendStep=function(d){this.legendStep=d};p.prototype.updateLegendItemWidth=function(d){this.legendItemWidth=d};p.prototype.updateLegendItemHeight=function(d){this.legendItemHeight=d};p.prototype.getLegendWidth=function(){return this.config.legend_show?this.isLegendRight||this.isLegendInset?this.legendItemWidth*(this.legendStep+1):this.currentWidth:0};p.prototype.getLegendHeight=function(){var d=
0;this.config.legend_show&&(d=this.isLegendRight?this.currentHeight:Math.max(20,this.legendItemHeight)*(this.legendStep+1));return d};p.prototype.opacityForLegend=function(d){return d.classed(aa.legendItemHidden)?null:1};p.prototype.opacityForUnfocusedLegend=function(d){return d.classed(aa.legendItemHidden)?null:.3};p.prototype.toggleFocusLegend=function(d,f){var l=this;d=l.mapToTargetIds(d);l.legend.selectAll("."+aa.legendItem).filter(function(q){return 0<=d.indexOf(q)}).classed(aa.legendItemFocused,
f).transition().duration(100).style("opacity",function(){return(f?l.opacityForLegend:l.opacityForUnfocusedLegend).call(l,l.d3.select(this))})};p.prototype.revertLegend=function(){var d=this,f=d.d3;d.legend.selectAll("."+aa.legendItem).classed(aa.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return d.opacityForLegend(f.select(this))})};p.prototype.showLegend=function(d){var f=this,l=f.config;l.legend_show||(l.legend_show=!0,f.legend.style("visibility","visible"),f.legendHasRendered||
f.updateLegendWithDefaults());f.removeHiddenLegendIds(d);f.legend.selectAll(f.selectorLegends(d)).style("visibility","visible").transition().style("opacity",function(){return f.opacityForLegend(f.d3.select(this))})};p.prototype.hideLegend=function(d){var f=this.config;f.legend_show&&ca(d)&&(f.legend_show=!1,this.legend.style("visibility","hidden"));this.addHiddenLegendIds(d);this.legend.selectAll(this.selectorLegends(d)).style("opacity",0).style("visibility","hidden")};p.prototype.clearLegendItemTextBoxCache=
function(){this.legendItemTextBox={}};p.prototype.updateLegend=function(d,f,l){function q(La,Na){z.legendItemTextBox[Na]||(z.legendItemTextBox[Na]=z.getTextRect(La.textContent,aa.legendItem,La));return z.legendItemTextBox[Na]}function w(La,Na,kb){function Sa(hc,Nb){Nb||(sb=(nb-Ja-jb)/2,10>sb&&(sb=(nb-jb)/2,Ja=0,xb++));Ga[hc]=xb;Fa[xb]=z.isLegendInset?10:sb;D[hc]=Ja;Ja+=jb}var vb=0===kb;kb=kb===d.length-1;La=q(La,Na);kb=La.width+ha+(!kb||z.isLegendRight||z.isLegendInset?10:0)+G.legend_padding;La=La.height+
4;var jb=z.isLegendRight||z.isLegendInset?La:kb,nb=z.isLegendRight||z.isLegendInset?z.getLegendHeight():z.getLegendWidth();vb&&(R=H=xb=Ja=0);if(G.legend_show&&!z.isLegendToShow(Na))Q[Na]=oa[Na]=Ga[Na]=D[Na]=0;else{Q[Na]=kb;oa[Na]=La;if(!H||kb>=H)H=kb;if(!R||La>=R)R=La;vb=z.isLegendRight||z.isLegendInset?R:H;if(G.legend_equally){Object.keys(Q).forEach(function(hc){Q[hc]=H});Object.keys(oa).forEach(function(hc){oa[hc]=R});var sb=(nb-vb*d.length)/2;10>sb?(xb=Ja=0,d.forEach(function(hc){Sa(hc)})):Sa(Na,
!0)}else Sa(Na)}}var z=this,G=z.config,H=0,R=0,ha=G.legend_item_tile_width+5,Ja=0,D={},Q={},oa={},Fa=[0],Ga={},xb=0;d=d.filter(function(La){return!P(G.data_names[La])||null!==G.data_names[La]});f=f||{};var Hb=la(f,"withTransition",!0);var Kb=la(f,"withTransitionForTransform",!0);z.isLegendInset&&(xb=G.legend_inset_step?G.legend_inset_step:d.length,z.updateLegendStep(xb));if(z.isLegendRight){var Cb=function(La){return H*Ga[La]};var ib=function(La){return Fa[Ga[La]]+D[La]}}else z.isLegendInset?(Cb=
function(La){return H*Ga[La]+10},ib=function(La){return Fa[Ga[La]]+D[La]}):(Cb=function(La){return Fa[Ga[La]]+D[La]},ib=function(La){return R*Ga[La]});var Ib=function(La,Na){return Cb(La,Na)+4+G.legend_item_tile_width};var Oa=function(La,Na){return ib(La,Na)+9};var Ua=function(La,Na){return Cb(La,Na)};var Pa=function(La,Na){return ib(La,Na)-5};f=function(La,Na){return Cb(La,Na)-2};var ja=function(La,Na){return Cb(La,Na)-2+G.legend_item_tile_width};var Qa=function(La,Na){return ib(La,Na)+4};var Za=
z.legend.selectAll("."+aa.legendItem).data(d).enter().append("g").attr("class",function(La){return z.generateClass(aa.legendItem,La)}).style("visibility",function(La){return z.isLegendToShow(La)?"visible":"hidden"}).style("cursor",function(){return G.interaction_enabled?"pointer":"auto"}).on("click",G.interaction_enabled?function(La){G.legend_item_onclick?G.legend_item_onclick.call(z,La):z.d3.event.altKey?(z.api.hide(),z.api.show(La)):(z.api.toggle(La),z.isTargetToShow(La)?z.api.focus(La):z.api.revert())}:
null).on("mouseover",G.interaction_enabled?function(La){G.legend_item_onmouseover?G.legend_item_onmouseover.call(z,La):(z.d3.select(this).classed(aa.legendItemFocused,!0),!z.transiting&&z.isTargetToShow(La)&&z.api.focus(La))}:null).on("mouseout",G.interaction_enabled?function(La){G.legend_item_onmouseout?G.legend_item_onmouseout.call(z,La):(z.d3.select(this).classed(aa.legendItemFocused,!1),z.api.revert())}:null);Za.append("text").text(function(La){return P(G.data_names[La])?G.data_names[La]:La}).each(function(La,
Na){w(this,La,Na)}).style("pointer-events","none").attr("x",z.isLegendRight||z.isLegendInset?Ib:-200).attr("y",z.isLegendRight||z.isLegendInset?-200:Oa);Za.append("rect").attr("class",aa.legendItemEvent).style("fill-opacity",0).attr("x",z.isLegendRight||z.isLegendInset?Ua:-200).attr("y",z.isLegendRight||z.isLegendInset?-200:Pa);Za.append("line").attr("class",aa.legendItemTile).style("stroke",z.color).style("pointer-events","none").attr("x1",z.isLegendRight||z.isLegendInset?f:-200).attr("y1",z.isLegendRight||
z.isLegendInset?-200:Qa).attr("x2",z.isLegendRight||z.isLegendInset?ja:-200).attr("y2",z.isLegendRight||z.isLegendInset?-200:Qa).attr("stroke-width",G.legend_item_tile_height);Za=z.legend.select("."+aa.legendBackground+" rect");z.isLegendInset&&0<H&&0===Za.size()&&(Za=z.legend.insert("g","."+aa.legendItem).attr("class",aa.legendBackground).append("rect"));var qb=z.legend.selectAll("text").data(d).text(function(La){return P(G.data_names[La])?G.data_names[La]:La}).each(function(La,Na){w(this,La,Na)});
(Hb?qb.transition():qb).attr("x",Ib).attr("y",Oa);Ib=z.legend.selectAll("rect."+aa.legendItemEvent).data(d);(Hb?Ib.transition():Ib).attr("width",function(La){return Q[La]}).attr("height",function(La){return oa[La]}).attr("x",Ua).attr("y",Pa);Ua=z.legend.selectAll("line."+aa.legendItemTile).data(d);(Hb?Ua.transition():Ua).style("stroke",z.levelColor?function(La){return z.levelColor(z.cache[La].values.reduce(function(Na,kb){return Na+kb.value},0))}:z.color).attr("x1",f).attr("y1",Qa).attr("x2",ja).attr("y2",
Qa);Za&&(Hb?Za.transition():Za).attr("height",z.getLegendHeight()-12).attr("width",H*(xb+1)+10);z.legend.selectAll("."+aa.legendItem).classed(aa.legendItemHidden,function(La){return!z.isTargetToShow(La)});z.updateLegendItemWidth(H);z.updateLegendItemHeight(R);z.updateLegendStep(xb);z.updateSizes();z.updateScales();z.updateSvgSize();z.transformAll(Kb,l);z.legendHasRendered=!0};p.prototype.initRegion=function(){this.region=this.main.append("g").attr("clip-path",this.clipPath).attr("class",aa.regions)};
p.prototype.updateRegion=function(d){var f=this.config;this.region.style("visibility",this.hasArcType()?"hidden":"visible");f=this.main.select("."+aa.regions).selectAll("."+aa.region).data(f.regions);var l=f.enter().append("g");l.append("rect").attr("x",this.regionX.bind(this)).attr("y",this.regionY.bind(this)).attr("width",this.regionWidth.bind(this)).attr("height",this.regionHeight.bind(this)).style("fill-opacity",function(q){return qa(q.opacity)?q.opacity:.1});l.append("text").text(this.labelRegion.bind(this));
this.mainRegion=l.merge(f).attr("class",this.classRegion.bind(this));f.exit().transition().duration(d).style("opacity",0).remove()};p.prototype.redrawRegion=function(d,f){var l=this.mainRegion,q=this.mainRegion.selectAll("text");return[(d?l.transition(f):l).attr("x",this.regionX.bind(this)).attr("y",this.regionY.bind(this)).attr("width",this.regionWidth.bind(this)).attr("height",this.regionHeight.bind(this)).style("fill-opacity",function(w){return qa(w.opacity)?w.opacity:.1}),(d?q.transition(f):q).attr("x",
this.labelOffsetX.bind(this)).attr("y",this.labelOffsetY.bind(this)).attr("transform",this.labelTransform.bind(this)).attr("style","text-anchor: left;")]};p.prototype.regionX=function(d){var f=this.config,l="y"===d.axis?this.y:this.y2;return"y"===d.axis||"y2"===d.axis?f.axis_rotated?"start"in d?l(d.start):0:0:f.axis_rotated?0:"start"in d?this.x(this.isTimeSeries()?this.parseDate(d.start):d.start):0};p.prototype.regionY=function(d){var f=this.config,l="y"===d.axis?this.y:this.y2;return"y"===d.axis||
"y2"===d.axis?f.axis_rotated?0:"end"in d?l(d.end):0:f.axis_rotated?"start"in d?this.x(this.isTimeSeries()?this.parseDate(d.start):d.start):0:0};p.prototype.regionWidth=function(d){var f=this.config,l=this.regionX(d),q="y"===d.axis?this.y:this.y2;d="y"===d.axis||"y2"===d.axis?f.axis_rotated?"end"in d?q(d.end):this.width:this.width:f.axis_rotated?this.width:"end"in d?this.x(this.isTimeSeries()?this.parseDate(d.end):d.end):this.width;return d<l?0:d-l};p.prototype.regionHeight=function(d){var f=this.config,
l=this.regionY(d),q="y"===d.axis?this.y:this.y2;d="y"===d.axis||"y2"===d.axis?f.axis_rotated?this.height:"start"in d?q(d.start):this.height:f.axis_rotated?"end"in d?this.x(this.isTimeSeries()?this.parseDate(d.end):d.end):this.height:this.height;return d<l?0:d-l};p.prototype.isRegionOnX=function(d){return!d.axis||"x"===d.axis};p.prototype.labelRegion=function(d){return"label"in d?d.label:""};p.prototype.labelTransform=function(d){return"vertical"in d&&d.vertical?"rotate(90)":""};p.prototype.labelOffsetX=
function(d){var f="paddingX"in d?d.paddingX:3,l="paddingY"in d?d.paddingY:3;return"vertical"in d&&d.vertical?this.regionY(d)+l:this.regionX(d)+f};p.prototype.labelOffsetY=function(d){var f="paddingX"in d?d.paddingX:3,l="paddingY"in d?d.paddingY:3;return"vertical"in d&&d.vertical?-(this.regionX(d)+f):this.regionY(d)+10+l};p.prototype.getScale=function(d,f,l){return(l?this.d3.scaleTime():this.d3.scaleLinear()).range([d,f])};p.prototype.getX=function(d,f,l,q){var w=this.getScale(d,f,this.isTimeSeries()),
z=l?w.domain(l):w,G;this.isCategorized()?(q=q||function(){return 0},w=function(H,R){H=z(H)+q(H);return R?H:Math.ceil(H)}):w=function(H,R){H=z(H);return R?H:Math.ceil(H)};for(G in z)w[G]=z[G];w.orgDomain=function(){return z.domain()};this.isCategorized()&&(w.domain=function(H){if(!arguments.length)return H=this.orgDomain(),[H[0],H[1]+1];z.domain(H);return w});return w};p.prototype.getY=function(d,f,l){if("timeseries"===d||"time"===d)d=this.d3.scaleTime();else if("log"===d)d=y(this.d3);else if("linear"===
d||void 0===d)d=this.d3.scaleLinear();else throw Error('Invalid Y axis type: "'+d+'"');f&&d.domain(f);l&&d.range(l);return d};p.prototype.getYScale=function(d){return"y2"===this.axis.getId(d)?this.y2:this.y};p.prototype.getSubYScale=function(d){return"y2"===this.axis.getId(d)?this.subY2:this.subY};p.prototype.updateScales=function(){var d=this,f=d.config,l=!d.x;d.xMin=f.axis_rotated?1:0;d.xMax=f.axis_rotated?d.height:d.width;d.yMin=f.axis_rotated?0:d.height;d.yMax=f.axis_rotated?d.width:1;d.subXMin=
d.xMin;d.subXMax=d.xMax;d.subYMin=f.axis_rotated?0:d.height2;d.subYMax=f.axis_rotated?d.width2:1;d.x=d.getX(d.xMin,d.xMax,l?void 0:d.x.orgDomain(),function(){return d.xAxis.tickOffset()});d.y=d.getY(f.axis_y_type,l?f.axis_y_default:d.y.domain(),[d.yMin,d.yMax]);d.y2=d.getY(f.axis_y2_type,l?f.axis_y2_default:d.y2.domain(),[d.yMin,d.yMax]);d.subX=d.getX(d.xMin,d.xMax,d.orgXDomain,function(q){return q%1?0:d.subXAxis.tickOffset()});d.subY=d.getY(f.axis_y_type,l?f.axis_y_default:d.subY.domain(),[d.subYMin,
d.subYMax]);d.subY2=d.getY(f.axis_y2_type,l?f.axis_y2_default:d.subY2.domain(),[d.subYMin,d.subYMax]);d.xAxisTickFormat=d.axis.getXAxisTickFormat();d.xAxisTickValues=d.axis.getXAxisTickValues();d.yAxisTickValues=d.axis.getYAxisTickValues();d.y2AxisTickValues=d.axis.getY2AxisTickValues();d.xAxis=d.axis.getXAxis(d.x,d.xOrient,d.xAxisTickFormat,d.xAxisTickValues,f.axis_x_tick_outer);d.subXAxis=d.axis.getXAxis(d.subX,d.subXOrient,d.xAxisTickFormat,d.xAxisTickValues,f.axis_x_tick_outer);d.yAxis=d.axis.getYAxis("y",
d.y,d.yOrient,d.yAxisTickValues,f.axis_y_tick_outer);d.y2Axis=d.axis.getYAxis("y2",d.y2,d.y2Orient,d.y2AxisTickValues,f.axis_y2_tick_outer);l||d.brush&&d.brush.updateScale(d.subX);d.updateArc&&d.updateArc()};p.prototype.selectPoint=function(d,f,l){var q=this,w=q.config,z=(w.axis_rotated?q.circleY:q.circleX).bind(q),G=(w.axis_rotated?q.circleX:q.circleY).bind(q),H=q.pointSelectR.bind(q);w.data_onselected.call(q.api,f,d.node());q.main.select("."+aa.selectedCircles+q.getTargetSelectorSuffix(f.id)).selectAll("."+
aa.selectedCircle+"-"+l).data([f]).enter().append("circle").attr("class",function(){return q.generateClass(aa.selectedCircle,l)}).attr("cx",z).attr("cy",G).attr("stroke",function(){return q.color(f)}).attr("r",function(R){return 1.4*q.pointSelectR(R)}).transition().duration(100).attr("r",H)};p.prototype.unselectPoint=function(d,f,l){this.config.data_onunselected.call(this.api,f,d.node());this.main.select("."+aa.selectedCircles+this.getTargetSelectorSuffix(f.id)).selectAll("."+aa.selectedCircle+"-"+
l).transition().duration(100).attr("r",0).remove()};p.prototype.togglePoint=function(d,f,l,q){d?this.selectPoint(f,l,q):this.unselectPoint(f,l,q)};p.prototype.selectPath=function(d,f){var l=this;l.config.data_onselected.call(l,f,d.node());l.config.interaction_brighten&&d.transition().duration(100).style("fill",function(){return l.d3.rgb(l.color(f)).brighter(.75)})};p.prototype.unselectPath=function(d,f){var l=this;l.config.data_onunselected.call(l,f,d.node());l.config.interaction_brighten&&d.transition().duration(100).style("fill",
function(){return l.color(f)})};p.prototype.togglePath=function(d,f,l,q){d?this.selectPath(f,l,q):this.unselectPath(f,l,q)};p.prototype.getToggle=function(d,f){if("circle"===d.nodeName)var l=this.isStepType(f)?function(){}:this.togglePoint;else"path"===d.nodeName&&(l=this.togglePath);return l};p.prototype.toggleShape=function(d,f,l){var q=this.d3,w=this.config,z=q.select(d),G=z.classed(aa.SELECTED),H=this.getToggle(d,f).bind(this);w.data_selection_enabled&&w.data_selection_isselectable(f)&&(w.data_selection_multiple||
this.main.selectAll("."+aa.shapes+(w.data_selection_grouped?this.getTargetSelectorSuffix(f.id):"")).selectAll("."+aa.shape).each(function(R,ha){var Ja=q.select(this);Ja.classed(aa.SELECTED)&&H(!1,Ja.classed(aa.SELECTED,!1),R,ha)}),z.classed(aa.SELECTED,!G),H(!G,z,f,l))};p.prototype.initBar=function(){this.main.select("."+aa.chart).append("g").attr("class",aa.chartBars)};p.prototype.updateTargetsForBar=function(d){var f=this.config,l=this.classChartBar.bind(this),q=this.classBars.bind(this),w=this.classFocus.bind(this);
this.main.select("."+aa.chartBars).selectAll("."+aa.chartBar).data(d).attr("class",function(z){return l(z)+w(z)}).enter().append("g").attr("class",l).style("pointer-events","none").append("g").attr("class",q).style("cursor",function(z){return f.data_selection_isselectable(z)?"pointer":null})};p.prototype.updateBar=function(d){var f=this,l=f.barData.bind(f),q=f.classBar.bind(f),w=f.initialOpacity.bind(f),z=function(G){return f.color(G.id)};l=f.main.selectAll("."+aa.bars).selectAll("."+aa.bar).data(l);
q=l.enter().append("path").attr("class",q).style("stroke",z).style("fill",z);f.mainBar=q.merge(l).style("opacity",w);l.exit().transition().duration(d).style("opacity",0)};p.prototype.redrawBar=function(d,f,l){var q=this;return[(f?this.mainBar.transition(l):this.mainBar).attr("d",d).style("stroke",this.color).style("fill",this.color).style("opacity",function(w){return q.isTargetToShow(w.id)?1:0})]};p.prototype.getBarW=function(d,f){var l=this.config;d="number"===typeof l.bar_width?l.bar_width:f?d.tickInterval()*
l.bar_width_ratio/f:0;return l.bar_width_max&&d>l.bar_width_max?l.bar_width_max:d};p.prototype.getBars=function(d,f){return(f?this.main.selectAll("."+aa.bars+this.getTargetSelectorSuffix(f)):this.main).selectAll("."+aa.bar+(qa(d)?"-"+d:""))};p.prototype.expandBars=function(d,f,l){l&&this.unexpandBars();this.getBars(d,f).classed(aa.EXPANDED,!0)};p.prototype.unexpandBars=function(d){this.getBars(d).classed(aa.EXPANDED,!1)};p.prototype.generateDrawBar=function(d,f){var l=this.config,q=this.generateGetBarPoints(d,
f);return function(w,z){w=q(w,z);z=l.axis_rotated?1:0;var G=l.axis_rotated?0:1;return"M "+w[0][z]+","+w[0][G]+" L"+w[1][z]+","+w[1][G]+" L"+w[2][z]+","+w[2][G]+" L"+w[3][z]+","+w[3][G]+" z"}};p.prototype.generateGetBarPoints=function(d,f){var l=this,q=d.__max__+1,w=l.getBarW(f?l.subXAxis:l.xAxis,q),z=l.getShapeX(w,q,d,!!f),G=l.getShapeY(!!f),H=l.getShapeOffset(l.isBarType,d,!!f),R=l.config.bar_space/2*w,ha=f?l.getSubYScale:l.getYScale;return function(Ja,D){var Q=ha.call(l,Ja.id)(0);D=H(Ja,D)||Q;var oa=
z(Ja),Fa=G(Ja);l.config.axis_rotated&&(0<Ja.value&&Fa<Q||0>Ja.value&&Q<Fa)&&(Fa=Q);Fa-=Q-D;return[[oa+R,D],[oa+R,Fa],[oa+w-R,Fa],[oa+w-R,D]]}};p.prototype.isWithinBar=function(d,f){f=Ea(f);var l=2;void 0===l&&(l=0);var q=f.x+f.width+l,w=f.y+f.height+l,z=f.y-l;return f.x-l<d[0]&&d[0]<q&&z<d[1]&&d[1]<w};p.prototype.getShapeIndices=function(d){var f=this.config,l={},q=0,w,z;this.filterTargetsToShow(this.data.targets.filter(d,this)).forEach(function(G){for(w=0;w<f.data_groups.length;w++)if(!(0>f.data_groups[w].indexOf(G.id)))for(z=
0;z<f.data_groups[w].length;z++)if(f.data_groups[w][z]in l){l[G.id]=l[f.data_groups[w][z]];break}Y(l[G.id])&&(l[G.id]=q++)});l.__max__=q-1;return l};p.prototype.getShapeX=function(d,f,l,q){var w=q?this.subX:this.x;return function(z){var G=z.id in l?l[z.id]:0;return z.x||0===z.x?w(z.x)-d*(f/2-G):0}};p.prototype.getShapeY=function(d){var f=this;return function(l){return(d?f.getSubYScale(l.id):f.getYScale(l.id))(f.isTargetNormalized(l.id)?f.getRatio("index",l,!0):l.value)}};p.prototype.getShapeOffset=
function(d,f,l){var q=this,w=q.orderTargets(q.filterTargetsToShow(q.data.targets.filter(d,q))),z=w.map(function(G){return G.id});return function(G,H){var R=l?q.getSubYScale(G.id):q.getYScale(G.id),ha=R(0),Ja=ha;w.forEach(function(D){var Q=q.isStepType(G)?q.convertValuesToStep(D.values):D.values,oa=q.isTargetNormalized(G.id),Fa=Q.map(function(Ga){return oa?q.getRatio("index",Ga,!0):Ga.value});if(D.id!==G.id&&f[D.id]===f[G.id]&&z.indexOf(D.id)<z.indexOf(G.id)){if(Y(Q[H])||+Q[H].x!==+G.x)H=-1,Q.forEach(function(Ga,
xb){(Ga.x.constructor===Date?+Ga.x:Ga.x)===(G.x.constructor===Date?+G.x:G.x)&&(H=xb)});H in Q&&0<=Q[H].value*G.value&&(Ja+=R(Fa[H])-ha)}});return Ja}};p.prototype.isWithinShape=function(d,f){var l=this.d3.select(d),q;this.isTargetToShow(f.id)?"circle"===d.nodeName?q=this.isStepType(f)?this.isWithinStep(d,this.getYScale(f.id)(f.value)):this.isWithinCircle(d,1.5*this.pointSelectR(f)):"path"===d.nodeName&&(q=l.classed(aa.bar)?this.isWithinBar(this.d3.mouse(d),d):!0):q=!1;return q};p.prototype.getInterpolate=
function(d){var f=this.d3;f={linear:f.curveLinear,"linear-closed":f.curveLinearClosed,basis:f.curveBasis,"basis-open":f.curveBasisOpen,"basis-closed":f.curveBasisClosed,bundle:f.curveBundle,cardinal:f.curveCardinal,"cardinal-open":f.curveCardinalOpen,"cardinal-closed":f.curveCardinalClosed,monotone:f.curveMonotoneX,step:f.curveStep,"step-before":f.curveStepBefore,"step-after":f.curveStepAfter};return this.isSplineType(d)?f[this.config.spline_interpolation_type]||f.cardinal:this.isStepType(d)?f[this.config.line_step_type]:
f.linear};p.prototype.initLine=function(){this.main.select("."+aa.chart).append("g").attr("class",aa.chartLines)};p.prototype.updateTargetsForLine=function(d){var f=this,l=f.config,q=f.classChartLine.bind(f),w=f.classLines.bind(f),z=f.classAreas.bind(f),G=f.classCircles.bind(f),H=f.classFocus.bind(f);var R=f.main.select("."+aa.chartLines).selectAll("."+aa.chartLine).data(d).attr("class",function(ha){return q(ha)+H(ha)}).enter().append("g").attr("class",q).style("opacity",0).style("pointer-events",
"none");R.append("g").attr("class",w);R.append("g").attr("class",z);R.append("g").attr("class",function(ha){return f.generateClass(aa.selectedCircles,ha.id)});R.append("g").attr("class",G).style("cursor",function(ha){return l.data_selection_isselectable(ha)?"pointer":null});d.forEach(function(ha){f.main.selectAll("."+aa.selectedCircles+f.getTargetSelectorSuffix(ha.id)).selectAll("."+aa.selectedCircle).each(function(Ja){Ja.value=ha.values[Ja.index].value})})};p.prototype.updateLine=function(d){var f=
this,l=f.main.selectAll("."+aa.lines).selectAll("."+aa.line).data(f.lineData.bind(f)),q=l.enter().append("path").attr("class",f.classLine.bind(f)).style("stroke",f.color);f.mainLine=q.merge(l).style("opacity",f.initialOpacity.bind(f)).style("shape-rendering",function(w){return f.isStepType(w)?"crispEdges":""}).attr("transform",null);l.exit().transition().duration(d).style("opacity",0)};p.prototype.redrawLine=function(d,f,l){return[(f?this.mainLine.transition(l):this.mainLine).attr("d",d).style("stroke",
this.color).style("opacity",1)]};p.prototype.generateDrawLine=function(d,f){var l=this,q=l.config,w=l.d3.line(),z=l.generateGetLinePoints(d,f),G=f?l.getSubYScale:l.getYScale;d=function(R){return(f?l.subxx:l.xx).call(l,R)};var H=function(R,ha){return 0<q.data_groups.length?z(R,ha)[0][1]:G.call(l,R.id)(R.value)};w=q.axis_rotated?w.x(H).y(d):w.x(d).y(H);q.line_connectNull||(w=w.defined(function(R){return null!=R.value}));return function(R){var ha=q.line_connectNull?l.filterRemoveNull(R.values):R.values,
Ja=f?l.subX:l.x,D=G.call(l,R.id),Q=0,oa=0;l.isLineType(R)?q.data_regions[R.id]?R=l.lineWithRegions(ha,Ja,D,q.data_regions[R.id]):(l.isStepType(R)&&(ha=l.convertValuesToStep(ha)),R=w.curve(l.getInterpolate(R))(ha)):(ha[0]&&(Q=Ja(ha[0].x),oa=D(ha[0].value)),R=q.axis_rotated?"M "+oa+" "+Q:"M "+Q+" "+oa);return R?R:"M 0 0"}};p.prototype.generateGetLinePoints=function(d,f){var l=this,q=l.config,w=l.getShapeX(0,d.__max__+1,d,!!f),z=l.getShapeY(!!f),G=l.getShapeOffset(l.isLineType,d,!!f),H=f?l.getSubYScale:
l.getYScale;return function(R,ha){var Ja=H.call(l,R.id)(0);ha=G(R,ha)||Ja;var D=w(R),Q=z(R);q.axis_rotated&&(0<R.value&&Q<Ja||0>R.value&&Ja<Q)&&(Q=Ja);return[[D,Q-(Ja-ha)],[D,Q-(Ja-ha)],[D,Q-(Ja-ha)],[D,Q-(Ja-ha)]]}};p.prototype.lineWithRegions=function(d,f,l,q){function w(Kb,Cb){var ib;for(ib=0;ib<Cb.length;ib++)if(Cb[ib].start<Kb&&Kb<=Cb[ib].end)return!0;return!1}function z(Kb){return"M"+Kb[0][0]+" "+Kb[0][1]+" "+Kb[1][0]+" "+Kb[1][1]}var G=this.config,H,R="M",ha=this.isCategorized()?.5:0,Ja=[];
if(P(q))for(H=0;H<q.length;H++)Ja[H]={},Y(q[H].start)?Ja[H].start=d[0].x:Ja[H].start=this.isTimeSeries()?this.parseDate(q[H].start):q[H].start,Y(q[H].end)?Ja[H].end=d[d.length-1].x:Ja[H].end=this.isTimeSeries()?this.parseDate(q[H].end):q[H].end;var D=G.axis_rotated?function(Kb){return l(Kb.value)}:function(Kb){return f(Kb.x)};var Q=G.axis_rotated?function(Kb){return f(Kb.x)}:function(Kb){return l(Kb.value)};q=this.isTimeSeries()?function(Kb,Cb,ib,Ib){var Oa=Kb.x.getTime();Cb=Cb.x-Kb.x;Kb=new Date(Oa+
Cb*ib);Oa=new Date(Oa+Cb*(ib+Ib));ib=G.axis_rotated?[[l(Fa(ib)),f(Kb)],[l(Fa(ib+Ib)),f(Oa)]]:[[f(Kb),l(Fa(ib))],[f(Oa),l(Fa(ib+Ib))]];return z(ib)}:function(Kb,Cb,ib,Ib){Kb=G.axis_rotated?[[l(Fa(ib),!0),f(oa(ib))],[l(Fa(ib+Ib),!0),f(oa(ib+Ib))]]:[[f(oa(ib),!0),l(Fa(ib))],[f(oa(ib+Ib),!0),l(Fa(ib+Ib))]];return z(Kb)};for(H=0;H<d.length;H++)if(Y(Ja)||!w(d[H].x,Ja))R+=" "+D(d[H])+" "+Q(d[H]);else{var oa=this.getScale(d[H-1].x+ha,d[H].x+ha,this.isTimeSeries());var Fa=this.getScale(d[H-1].value,d[H].value);
var Ga=f(d[H].x)-f(d[H-1].x);var xb=l(d[H].value)-l(d[H-1].value);Ga=Math.sqrt(Math.pow(Ga,2)+Math.pow(xb,2));xb=2/Ga;var Hb=2*xb;for(Ga=xb;1>=Ga;Ga+=Hb)R+=q(d[H-1],d[H],Ga,xb)}return R};p.prototype.updateArea=function(d){var f=this,l=f.d3,q=f.main.selectAll("."+aa.areas).selectAll("."+aa.area).data(f.lineData.bind(f)),w=q.enter().append("path").attr("class",f.classArea.bind(f)).style("fill",f.color).style("opacity",function(){f.orgAreaOpacity=+l.select(this).style("opacity");return 0});f.mainArea=
w.merge(q).style("opacity",f.orgAreaOpacity);q.exit().transition().duration(d).style("opacity",0)};p.prototype.redrawArea=function(d,f,l){return[(f?this.mainArea.transition(l):this.mainArea).attr("d",d).style("fill",this.color).style("opacity",this.orgAreaOpacity)]};p.prototype.generateDrawArea=function(d,f){var l=this,q=l.config,w=l.d3.area(),z=l.generateGetAreaPoints(d,f),G=f?l.getSubYScale:l.getYScale;d=function(ha){return(f?l.subxx:l.xx).call(l,ha)};var H=function(ha,Ja){return 0<q.data_groups.length?
z(ha,Ja)[0][1]:G.call(l,ha.id)(l.getAreaBaseValue(ha.id))},R=function(ha,Ja){return 0<q.data_groups.length?z(ha,Ja)[1][1]:G.call(l,ha.id)(ha.value)};w=q.axis_rotated?w.x0(H).x1(R).y(d):w.x(d).y0(q.area_above?0:H).y1(R);q.line_connectNull||(w=w.defined(function(ha){return null!==ha.value}));return function(ha){var Ja=q.line_connectNull?l.filterRemoveNull(ha.values):ha.values,D=0,Q=0;l.isAreaType(ha)?(l.isStepType(ha)&&(Ja=l.convertValuesToStep(Ja)),ha=w.curve(l.getInterpolate(ha))(Ja)):(Ja[0]&&(D=
l.x(Ja[0].x),Q=l.getYScale(ha.id)(Ja[0].value)),ha=q.axis_rotated?"M "+Q+" "+D:"M "+D+" "+Q);return ha?ha:"M 0 0"}};p.prototype.getAreaBaseValue=function(){return 0};p.prototype.generateGetAreaPoints=function(d,f){var l=this,q=l.config,w=l.getShapeX(0,d.__max__+1,d,!!f),z=l.getShapeY(!!f),G=l.getShapeOffset(l.isAreaType,d,!!f),H=f?l.getSubYScale:l.getYScale;return function(R,ha){var Ja=H.call(l,R.id)(0);ha=G(R,ha)||Ja;var D=w(R),Q=z(R);q.axis_rotated&&(0<R.value&&Q<Ja||0>R.value&&Ja<Q)&&(Q=Ja);return[[D,
ha],[D,Q-(Ja-ha)],[D,Q-(Ja-ha)],[D,ha]]}};p.prototype.updateCircle=function(d,f){var l=this.main.selectAll("."+aa.circles).selectAll("."+aa.circle).data(this.lineOrScatterOrStanfordData.bind(this));this.mainCircle=l.enter().append("circle").attr("shape-rendering",this.isStanfordGraphType()?"crispEdges":"").attr("class",this.classCircle.bind(this)).attr("cx",d).attr("cy",f).attr("r",this.pointR.bind(this)).style("color",this.isStanfordGraphType()?this.getStanfordPointColor.bind(this):this.color).merge(l).style("opacity",
this.isStanfordGraphType()?1:this.initialOpacityForCircle.bind(this));l.exit().style("opacity",0)};p.prototype.redrawCircle=function(d,f,l,q){var w=this.main.selectAll("."+aa.selectedCircle);return[(l?this.mainCircle.transition(q):this.mainCircle).style("opacity",this.opacityForCircle.bind(this)).style("color",this.isStanfordGraphType()?this.getStanfordPointColor.bind(this):this.color).attr("cx",d).attr("cy",f),(l?w.transition(q):w).attr("cx",d).attr("cy",f)]};p.prototype.circleX=function(d){return d.x||
0===d.x?this.x(d.x):null};p.prototype.updateCircleY=function(){var d=this;if(0<d.config.data_groups.length){var f=d.getShapeIndices(d.isLineType);var l=d.generateGetLinePoints(f);d.circleY=function(q,w){return l(q,w)[0][1]}}else d.circleY=function(q){return d.getYScale(q.id)(q.value)}};p.prototype.getCircles=function(d,f){return(f?this.main.selectAll("."+aa.circles+this.getTargetSelectorSuffix(f)):this.main).selectAll("."+aa.circle+(qa(d)?"-"+d:""))};p.prototype.expandCircles=function(d,f,l){var q=
this.pointExpandedR.bind(this);l&&this.unexpandCircles();this.getCircles(d,f).classed(aa.EXPANDED,!0).attr("r",q)};p.prototype.unexpandCircles=function(d){var f=this,l=f.pointR.bind(f);f.getCircles(d).filter(function(){return f.d3.select(this).classed(aa.EXPANDED)}).classed(aa.EXPANDED,!1).attr("r",l)};p.prototype.pointR=function(d){var f=this.config;return this.isStepType(d)?0:va(f.point_r)?f.point_r(d):f.point_r};p.prototype.pointExpandedR=function(d){var f=this.config;return f.point_focus_expand_enabled?
va(f.point_focus_expand_r)?f.point_focus_expand_r(d):f.point_focus_expand_r?f.point_focus_expand_r:1.75*this.pointR(d):this.pointR(d)};p.prototype.pointSelectR=function(d){var f=this.config;return va(f.point_select_r)?f.point_select_r(d):f.point_select_r?f.point_select_r:4*this.pointR(d)};p.prototype.isWithinCircle=function(d,f){var l=this.d3,q=l.mouse(d);l=l.select(d);d=+l.attr("cx");l=+l.attr("cy");return Math.sqrt(Math.pow(d-q[0],2)+Math.pow(l-q[1],2))<f};p.prototype.isWithinStep=function(d,f){return 30>
Math.abs(f-this.d3.mouse(d)[1])};p.prototype.getCurrentWidth=function(){var d=this.config;return d.size_width?d.size_width:this.getParentWidth()};p.prototype.getCurrentHeight=function(){var d=this.config,f=d.size_height?d.size_height:this.getParentHeight();return 0<f?f:320/(this.hasType("gauge")&&!d.gauge_fullCircle?2:1)};p.prototype.getCurrentPaddingTop=function(){var d=this.config;d=qa(d.padding_top)?d.padding_top:0;this.title&&this.title.node()&&(d+=this.getTitlePadding());return d};p.prototype.getCurrentPaddingBottom=
function(){var d=this.config;return qa(d.padding_bottom)?d.padding_bottom:0};p.prototype.getCurrentPaddingLeft=function(d){var f=this.config;return qa(f.padding_left)?f.padding_left:f.axis_rotated?!f.axis_x_show||f.axis_x_inner?1:Math.max(10*Math.ceil(this.getAxisWidthByAxisId("x",d)/10),40):!f.axis_y_show||f.axis_y_inner?this.axis.getYAxisLabelPosition().isOuter?30:1:10*Math.ceil(this.getAxisWidthByAxisId("y",d)/10)};p.prototype.getCurrentPaddingRight=function(){var d=this.config,f=this.isLegendRight?
this.getLegendWidth()+20:0;d=qa(d.padding_right)?d.padding_right+1:d.axis_rotated?10+f:!d.axis_y2_show||d.axis_y2_inner?2+f+(this.axis.getY2AxisLabelPosition().isOuter?20:0):10*Math.ceil(this.getAxisWidthByAxisId("y2")/10)+f;this.colorScale&&this.colorScale.node()&&(d+=this.getColorScalePadding());return d};p.prototype.getParentRectValue=function(d){for(var f=this.selectChart.node(),l;f&&"BODY"!==f.tagName;){try{l=f.getBoundingClientRect()[d]}catch(q){"width"===d&&(l=f.offsetWidth)}if(l)break;f=f.parentNode}return l};
p.prototype.getParentWidth=function(){return this.getParentRectValue("width")};p.prototype.getParentHeight=function(){var d=this.selectChart.style("height");return 0<d.indexOf("px")?+d.replace("px",""):0};p.prototype.getSvgLeft=function(d){var f=this.config,l=f.axis_rotated||!f.axis_rotated&&!f.axis_y_inner;l=(f=this.main.select("."+(f.axis_rotated?aa.axisX:aa.axisY)).node())&&l?f.getBoundingClientRect():{right:0};f=this.selectChart.node().getBoundingClientRect();var q=this.hasArcType();d=l.right-
f.left-(q?0:this.getCurrentPaddingLeft(d));return 0<d?d:0};p.prototype.getAxisWidthByAxisId=function(d,f){var l=this.axis.getLabelPositionById(d);return this.axis.getMaxTickWidth(d,f)+(l.isInner?20:40)};p.prototype.getHorizontalAxisHeight=function(d,f){var l=this.config,q=30;if("x"===d&&(P(f)&&f?!l.subchart_axis_x_show:!l.axis_x_show))return 8;if("x"===d&&l.axis_x_height)return l.axis_x_height;if("y"===d&&!l.axis_y_show)return!l.legend_show||this.isLegendRight||this.isLegendInset?1:10;if("y2"===d&&
!l.axis_y2_show)return this.rotated_padding_top;"x"===d&&!l.axis_rotated&&l.axis_x_tick_rotate&&(q=30+this.axis.getMaxTickWidth(d)*Math.cos(Math.PI*(90-Math.abs(l.axis_x_tick_rotate))/180));"y"===d&&l.axis_rotated&&l.axis_y_tick_rotate&&(q=30+this.axis.getMaxTickWidth(d)*Math.cos(Math.PI*(90-Math.abs(l.axis_y_tick_rotate))/180));return q+(this.axis.getLabelPositionById(d).isInner?0:10)+("y2"===d?-10:0)};p.prototype.initBrush=function(d){var f=this,l=f.d3;f.brush=(f.config.axis_rotated?l.brushY():
l.brushX()).on("brush",function(){var q=l.event.sourceEvent;q&&"zoom"===q.type||f.redrawForBrush()}).on("end",function(){var q=l.event.sourceEvent;q&&"zoom"===q.type||f.brush.empty()&&q&&"end"!==q.type&&f.brush.clear()});f.brush.updateExtent=function(){var q=this.scale.range();this.extent(f.config.axis_rotated?[[0,q[0]],[f.width2,q[1]]]:[[q[0],0],[q[1],f.height2]]);return this};f.brush.updateScale=function(q){this.scale=q;return this};f.brush.update=function(q){this.updateScale(q||f.subX).updateExtent();
f.context.select("."+aa.brush).call(this)};f.brush.clear=function(){f.context.select("."+aa.brush).call(f.brush.move,null)};f.brush.selection=function(){return l.brushSelection(f.context.select("."+aa.brush).node())};f.brush.selectionAsValue=function(q,w){if(q){if(f.context){q=[this.scale(q[0]),this.scale(q[1])];var z=f.context.select("."+aa.brush);w&&(z=z.transition());f.brush.move(z,q)}return[]}q=f.brush.selection()||[0,0];return[this.scale.invert(q[0]),this.scale.invert(q[1])]};f.brush.empty=function(){var q=
f.brush.selection();return!q||q[0]===q[1]};return f.brush.updateScale(d)};p.prototype.initSubchart=function(){var d=this.config,f=this.context=this.svg.append("g").attr("transform",this.getTranslate("context"));f.style("visibility","visible");f.append("g").attr("clip-path",this.clipPathForSubchart).attr("class",aa.chart);f.select("."+aa.chart).append("g").attr("class",aa.chartBars);f.select("."+aa.chart).append("g").attr("class",aa.chartLines);f.append("g").attr("clip-path",this.clipPath).attr("class",
aa.brush);this.axes.subx=f.append("g").attr("class",aa.axisX).attr("transform",this.getTranslate("subx")).attr("clip-path",d.axis_rotated?"":this.clipPathForXAxis).style("visibility",d.subchart_axis_x_show?"visible":"hidden")};p.prototype.initSubchartBrush=function(){this.initBrush(this.subX).updateExtent();this.context.select("."+aa.brush).call(this.brush)};p.prototype.updateTargetsForSubchart=function(d){var f=this.context,l=this.config,q=this.classChartBar.bind(this),w=this.classBars.bind(this),
z=this.classChartLine.bind(this),G=this.classLines.bind(this),H=this.classAreas.bind(this);var R=f.select("."+aa.chartBars).selectAll("."+aa.chartBar).data(d);var ha=R.enter().append("g").style("opacity",0);ha.merge(R).attr("class",q);ha.append("g").attr("class",w);ha=f.select("."+aa.chartLines).selectAll("."+aa.chartLine).data(d);d=ha.enter().append("g").style("opacity",0);d.merge(ha).attr("class",z);d.append("g").attr("class",G);d.append("g").attr("class",H);f.selectAll("."+aa.brush+" rect").attr(l.axis_rotated?
"width":"height",l.axis_rotated?this.width2:this.height2)};p.prototype.updateBarForSubchart=function(d){var f=this.context.selectAll("."+aa.bars).selectAll("."+aa.bar).data(this.barData.bind(this)),l=f.enter().append("path").attr("class",this.classBar.bind(this)).style("stroke","none").style("fill",this.color);f.exit().transition().duration(d).style("opacity",0).remove();this.contextBar=l.merge(f).style("opacity",this.initialOpacity.bind(this))};p.prototype.redrawBarForSubchart=function(d,f,l){(f?
this.contextBar.transition(Math.random().toString()).duration(l):this.contextBar).attr("d",d).style("opacity",1)};p.prototype.updateLineForSubchart=function(d){var f=this.context.selectAll("."+aa.lines).selectAll("."+aa.line).data(this.lineData.bind(this)),l=f.enter().append("path").attr("class",this.classLine.bind(this)).style("stroke",this.color);f.exit().transition().duration(d).style("opacity",0).remove();this.contextLine=l.merge(f).style("opacity",this.initialOpacity.bind(this))};p.prototype.redrawLineForSubchart=
function(d,f,l){(f?this.contextLine.transition(Math.random().toString()).duration(l):this.contextLine).attr("d",d).style("opacity",1)};p.prototype.updateAreaForSubchart=function(d){var f=this,l=f.d3,q=f.context.selectAll("."+aa.areas).selectAll("."+aa.area).data(f.lineData.bind(f)),w=q.enter().append("path").attr("class",f.classArea.bind(f)).style("fill",f.color).style("opacity",function(){f.orgAreaOpacity=+l.select(this).style("opacity");return 0});q.exit().transition().duration(d).style("opacity",
0).remove();f.contextArea=w.merge(q).style("opacity",0)};p.prototype.redrawAreaForSubchart=function(d,f,l){(f?this.contextArea.transition(Math.random().toString()).duration(l):this.contextArea).attr("d",d).style("fill",this.color).style("opacity",this.orgAreaOpacity)};p.prototype.redrawSubchart=function(d,f,l,q,w,z,G){f=this.d3;f.event&&"zoom"===f.event.type&&this.brush.selectionAsValue(this.x.orgDomain());d&&(this.brush.empty()||this.brush.selectionAsValue(this.x.orgDomain()),d=this.generateDrawArea(w,
!0),z=this.generateDrawBar(z,!0),G=this.generateDrawLine(G,!0),this.updateBarForSubchart(l),this.updateLineForSubchart(l),this.updateAreaForSubchart(l),this.redrawBarForSubchart(z,l,l),this.redrawLineForSubchart(G,l,l),this.redrawAreaForSubchart(d,l,l))};p.prototype.redrawForBrush=function(){var d=this.x,f=this.d3;this.redraw({withTransition:!1,withY:this.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withEventRect:!1,withDimension:!1});var l=f.event.selection||this.brush.scale.range();
this.main.select("."+aa.eventRect).call(this.zoom.transform,f.zoomIdentity.scale(this.width/(l[1]-l[0])).translate(-l[0],0));this.config.subchart_onbrush.call(this.api,d.orgDomain())};p.prototype.transformContext=function(d,f){f&&f.axisSubX?f=f.axisSubX:(f=this.context.select("."+aa.axisX),d&&(f=f.transition()));this.context.attr("transform",this.getTranslate("context"));f.attr("transform",this.getTranslate("subx"))};p.prototype.getDefaultSelection=function(){var d=this.config;d=va(d.axis_x_selection)?
d.axis_x_selection(this.getXDomain(this.data.targets)):d.axis_x_selection;this.isTimeSeries()&&(d=[this.parseDate(d[0]),this.parseDate(d[1])]);return d};p.prototype.removeSubchart=function(){this.brush=null;this.context.remove();this.context=null};p.prototype.initText=function(){this.main.select("."+aa.chart).append("g").attr("class",aa.chartTexts);this.mainText=this.d3.selectAll([])};p.prototype.updateTargetsForText=function(d){var f=this.classChartText.bind(this),l=this.classTexts.bind(this),q=
this.classFocus.bind(this);d=this.main.select("."+aa.chartTexts).selectAll("."+aa.chartText).data(d);var w=d.enter().append("g").attr("class",f).style("opacity",0).style("pointer-events","none");w.append("g").attr("class",l);w.merge(d).attr("class",function(z){return f(z)+q(z)})};p.prototype.updateText=function(d,f,l){var q=this,w=q.config,z=q.barOrLineData.bind(q),G=q.classText.bind(q);z=q.main.selectAll("."+aa.texts).selectAll("."+aa.text).data(z);d=z.enter().append("text").attr("class",G).attr("text-anchor",
function(H){return w.axis_rotated?0>H.value?"end":"start":"middle"}).style("stroke","none").attr("x",d).attr("y",f).style("fill",function(H){return q.color(H)}).style("fill-opacity",0);q.mainText=d.merge(z).text(function(H,R,ha){return q.dataLabelFormat(H.id)(H.value,H.id,R,ha)});z.exit().transition().duration(l).style("fill-opacity",0).remove()};p.prototype.redrawText=function(d,f,l,q,w){return[(q?this.mainText.transition(w):this.mainText).attr("x",d).attr("y",f).style("fill",this.color).style("fill-opacity",
l?0:this.opacityForText.bind(this))]};p.prototype.getTextRect=function(d,f,l){var q=this.d3.select("body").append("div").classed("c3",!0),w=q.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0);l=this.d3.select(l).style("font");var z;w.selectAll(".dummy").data([d]).enter().append("text").classed(f?f:"",!0).style("font",l).text(d).each(function(){z=Ea(this)});q.remove();return z};p.prototype.generateXYForText=function(d,f,l,q){var w=this,z=w.generateGetAreaPoints(d,
!1),G=w.generateGetBarPoints(f,!1),H=w.generateGetLinePoints(l,!1),R=q?w.getXForText:w.getYForText;return function(ha,Ja){var D=w.isAreaType(ha)?z:w.isBarType(ha)?G:H;return R.call(w,D(ha,Ja),ha,this)}};p.prototype.getXForText=function(d,f,l){l=Ea(l);if(this.config.axis_rotated){var q=this.isBarType(f)?4:6;d=d[2][1]+q*(0>f.value?-1:1)}else d=this.hasType("bar")?(d[2][0]+d[0][0])/2:d[0][0];null===f.value&&(d>this.width?d=this.width-l.width:0>d&&(d=4));return d};p.prototype.getYForText=function(d,f,
l){l=Ea(l);this.config.axis_rotated?d=(d[0][0]+d[2][0]+.6*l.height)/2:(d=d[2][1],0>f.value||0===f.value&&!this.hasPositiveValue?(d+=l.height,this.isBarType(f)&&this.isSafari()?d-=3:!this.isBarType(f)&&this.isChrome()&&(d+=3)):d+=this.isBarType(f)?-3:-6);null!==f.value||this.config.axis_rotated||(d<l.height?d=l.height:d>this.height&&(d=this.height-4));return d};p.prototype.initTitle=function(){this.title=this.svg.append("text").text(this.config.title_text).attr("class",this.CLASS.title)};p.prototype.redrawTitle=
function(){this.title.attr("x",this.xForTitle.bind(this)).attr("y",this.yForTitle.bind(this))};p.prototype.xForTitle=function(){var d=this.config,f=d.title_position||"left";return 0<=f.indexOf("right")?this.currentWidth-this.getTextRect(this.title.node().textContent,this.CLASS.title,this.title.node()).width-d.title_padding.right:0<=f.indexOf("center")?Math.max((this.currentWidth-this.getTextRect(this.title.node().textContent,this.CLASS.title,this.title.node()).width)/2,0):d.title_padding.left};p.prototype.yForTitle=
function(){return this.config.title_padding.top+this.getTextRect(this.title.node().textContent,this.CLASS.title,this.title.node()).height};p.prototype.getTitlePadding=function(){return this.yForTitle()+this.config.title_padding.bottom};p.prototype.drawColorScale=function(){var d=this.d3,f=this.config,l=this.data.targets[0];var q=isNaN(f.stanford_scaleWidth)?20:f.stanford_scaleWidth;if(0>q)throw Error("Colorscale's barheight and barwidth must be greater than 0.");var w=this.height-f.stanford_padding.bottom-
f.stanford_padding.top;var z=d.range(f.stanford_padding.bottom,w,5);var G=d.scaleSequential(l.colors).domain([z[z.length-1],z[0]]);this.colorScale&&this.colorScale.remove();this.colorScale=this.svg.append("g").attr("width",50).attr("height",w).attr("class",aa.colorScale);this.colorScale.append("g").attr("transform","translate(0, "+f.stanford_padding.top+")").selectAll("bars").data(z).enter().append("rect").attr("y",function(H,R){return 5*R}).attr("x",0).attr("width",q).attr("height",5).attr("fill",
function(H){return G(H)});z=d.scaleLog().domain([l.minEpochs,l.maxEpochs]).range([z[0]+f.stanford_padding.top+z[z.length-1]+5-1,z[0]+f.stanford_padding.top]);z=d.axisRight(z);"pow10"===f.stanford_scaleFormat?z.tickValues([1,10,100,1E3,1E4,1E5,1E6,1E7]):va(f.stanford_scaleFormat)?z.tickFormat(f.stanford_scaleFormat):z.tickFormat(d.format("d"));va(f.stanford_scaleValues)&&z.tickValues(f.stanford_scaleValues(l.minEpochs,l.maxEpochs));d=this.colorScale.append("g").attr("class","legend axis").attr("transform",
"translate("+q+",0)").call(z);"pow10"===f.stanford_scaleFormat&&d.selectAll(".tick text").text(null).filter(O).text(10).append("tspan").attr("dy","-.7em").text(function(H){return Math.round(Math.log(H)/Math.LN10)});this.colorScale.attr("transform","translate("+(this.currentWidth-this.xForColorScale())+", 0)")};p.prototype.xForColorScale=function(){return this.config.stanford_padding.right+Ea(this.colorScale.node()).width};p.prototype.getColorScalePadding=function(){return this.xForColorScale()+this.config.stanford_padding.left+
20};p.prototype.isStanfordGraphType=function(){return"stanford"===this.config.data_type};p.prototype.initStanfordData=function(){var d=this.d3,f=this.config,l=this.data.targets[0];l.values.sort(Ya);var q=l.values.map(function(z){return z.epochs});var w=isNaN(f.stanford_scaleMin)?d.min(q):f.stanford_scaleMin;q=isNaN(f.stanford_scaleMax)?d.max(q):f.stanford_scaleMax;if(w>q)throw Error("Number of minEpochs has to be smaller than maxEpochs");l.colors=va(f.stanford_colors)?f.stanford_colors:d.interpolateHslLong(d.hsl(250,
1,.5),d.hsl(0,1,.5));l.colorscale=d.scaleSequentialLog(l.colors).domain([w,q]);l.minEpochs=w;l.maxEpochs=q};p.prototype.getStanfordPointColor=function(d){return this.data.targets[0].colorscale(d.epochs)};p.prototype.getCentroid=function(d){var f=0,l;var q=0;for(l=d.length-1;q<d.length;l=q,q+=1){var w=d[q];l=d[l];f+=w.x*l.y;f-=w.y*l.x}w=q=0;var z;l=0;for(z=d.length-1;l<d.length;z=l,l+=1){var G=d[l];var H=d[z];z=G.x*H.y-H.x*G.y;q+=(G.x+H.x)*z;w+=(G.y+H.y)*z}z=f/2*6;return{x:q/z,y:w/z}};p.prototype.getStanfordTooltipTitle=
function(d){var f=this.axis.getLabelText("x"),l=this.axis.getLabelText("y");return"\n      \x3ctr\x3e\x3cth\x3e"+(f?ya(f):"x")+"\x3c/th\x3e\x3cth class\x3d'value'\x3e"+d.x+"\x3c/th\x3e\x3c/tr\x3e\n      \x3ctr\x3e\x3cth\x3e"+(l?ya(l):"y")+"\x3c/th\x3e\x3cth class\x3d'value'\x3e"+d.value+"\x3c/th\x3e\x3c/tr\x3e\n    "};p.prototype.countEpochsInRegion=function(d){var f=this.data.targets[0];var l=f.values.reduce(function(q,w){return q+Number(w.epochs)},0);f=f.values.reduce(function(q,w){var z,G=w.x,
H=w.value,R=!1,ha=0;for(z=d.length-1;ha<d.length;z=ha++){var Ja=d[ha].x;var D=d[ha].y;var Q=d[z].x;z=d[z].y;(Ja=D>H!==z>H&&G<(Q-Ja)*(H-D)/(z-D)+Ja)&&(R=!R)}return R?q+Number(w.epochs):q},0);return{value:f,percentage:0!==f?(f/l*100).toFixed(1):0}};var Ya=function(d,f){return d.epochs<f.epochs?-1:d.epochs>f.epochs?1:0};p.prototype.initStanfordElements=function(){this.stanfordElements=this.main.select("."+aa.chart).append("g").attr("class",aa.stanfordElements);this.stanfordElements.append("g").attr("class",
aa.stanfordLines);this.stanfordElements.append("g").attr("class",aa.stanfordTexts);this.stanfordElements.append("g").attr("class",aa.stanfordRegions)};p.prototype.updateStanfordElements=function(d){var f=this,l=f.main,q=f.config,w=f.xvCustom.bind(f),z=f.yvCustom.bind(f),G=f.countEpochsInRegion.bind(f);var H=l.select("."+aa.stanfordLines).style("shape-rendering","geometricprecision").selectAll("."+aa.stanfordLine).data(q.stanford_lines);var R=H.enter().append("g").attr("class",function(ha){return aa.stanfordLine+
(ha["class"]?" "+ha["class"]:"")});R.append("line").attr("x1",function(ha){return q.axis_rotated?z(ha,"value_y1"):w(ha,"value_x1")}).attr("x2",function(ha){return q.axis_rotated?z(ha,"value_y2"):w(ha,"value_x2")}).attr("y1",function(ha){return q.axis_rotated?w(ha,"value_x1"):z(ha,"value_y1")}).attr("y2",function(ha){return q.axis_rotated?w(ha,"value_x2"):z(ha,"value_y2")}).style("opacity",0);f.stanfordLines=R.merge(H);f.stanfordLines.select("line").transition().duration(d).attr("x1",function(ha){return q.axis_rotated?
z(ha,"value_y1"):w(ha,"value_x1")}).attr("x2",function(ha){return q.axis_rotated?z(ha,"value_y2"):w(ha,"value_x2")}).attr("y1",function(ha){return q.axis_rotated?w(ha,"value_x1"):z(ha,"value_y1")}).attr("y2",function(ha){return q.axis_rotated?w(ha,"value_x2"):z(ha,"value_y2")}).style("opacity",1);H.exit().transition().duration(d).style("opacity",0).remove();H=l.select("."+aa.stanfordTexts).selectAll("."+aa.stanfordText).data(q.stanford_texts);R=H.enter().append("g").attr("class",function(ha){return aa.stanfordText+
(ha["class"]?" "+ha["class"]:"")});R.append("text").attr("x",function(ha){return q.axis_rotated?z(ha,"y"):w(ha,"x")}).attr("y",function(ha){return q.axis_rotated?w(ha,"x"):z(ha,"y")}).style("opacity",0);f.stanfordTexts=R.merge(H);f.stanfordTexts.select("text").transition().duration(d).attr("x",function(ha){return q.axis_rotated?z(ha,"y"):w(ha,"x")}).attr("y",function(ha){return q.axis_rotated?w(ha,"x"):z(ha,"y")}).text(function(ha){return ha.content}).style("opacity",1);H.exit().transition().duration(d).style("opacity",
0).remove();l=l.select("."+aa.stanfordRegions).selectAll("."+aa.stanfordRegion).data(q.stanford_regions);H=l.enter().append("g").attr("class",function(ha){return aa.stanfordRegion+(ha["class"]?" "+ha["class"]:"")});H.append("polygon").attr("points",function(ha){return ha.points.map(function(Ja){return[q.axis_rotated?z(Ja,"y"):w(Ja,"x"),q.axis_rotated?w(Ja,"x"):z(Ja,"y")].join()}).join(" ")}).style("opacity",0);H.append("text").attr("x",function(ha){return f.getCentroid(ha.points).x}).attr("y",function(ha){return f.getCentroid(ha.points).y}).style("opacity",
0);f.stanfordRegions=H.merge(l);f.stanfordRegions.select("polygon").transition().duration(d).attr("points",function(ha){return ha.points.map(function(Ja){return[q.axis_rotated?z(Ja,"y"):w(Ja,"x"),q.axis_rotated?w(Ja,"x"):z(Ja,"y")].join()}).join(" ")}).style("opacity",function(ha){return ha.opacity?ha.opacity:.2});f.stanfordRegions.select("text").transition().duration(d).attr("x",function(ha){return q.axis_rotated?z(f.getCentroid(ha.points),"y"):w(f.getCentroid(ha.points),"x")}).attr("y",function(ha){return q.axis_rotated?
w(f.getCentroid(ha.points),"x"):z(f.getCentroid(ha.points),"y")}).text(function(ha){if(ha.text){if(f.isStanfordGraphType()){var Ja=G(ha.points);var D=Ja.value;Ja=Ja.percentage}return ha.text(D,Ja)}return""}).attr("text-anchor","middle").attr("dominant-baseline","middle").style("opacity",1);l.exit().transition().duration(d).style("opacity",0).remove()};p.prototype.initTooltip=function(){var d=this,f=d.config,l;d.tooltip=d.selectChart.style("position","relative").append("div").attr("class",aa.tooltipContainer).style("position",
"absolute").style("pointer-events","none").style("display","none");if(f.tooltip_init_show){if(d.isTimeSeries()&&ra(f.tooltip_init_x)){f.tooltip_init_x=d.parseDate(f.tooltip_init_x);for(l=0;l<d.data.targets[0].values.length&&0!==d.data.targets[0].values[l].x-f.tooltip_init_x;l++);f.tooltip_init_x=l}d.tooltip.html(f.tooltip_contents.call(d,d.data.targets.map(function(q){return d.addName(q.values[f.tooltip_init_x])}),d.axis.getXAxisTickFormat(),d.getYFormat(d.hasArcType()),d.color));d.tooltip.style("top",
f.tooltip_init_position.top).style("left",f.tooltip_init_position.left).style("display","block")}};p.prototype.getTooltipSortFunction=function(){var d=this.config;if(0===d.data_groups.length||void 0!==d.tooltip_order){var f=d.tooltip_order;void 0===f&&(f=d.data_order);if(ra(f)&&"asc"===f.toLowerCase())return function(w,z){return(w?w.value:0)-(z?z.value:0)};if(ra(f)&&"desc"===f.toLowerCase())return function(w,z){return(z?z.value:0)-(w?w.value:0)};if(va(f)){var l=f;void 0===d.tooltip_order&&(l=function(w,
z){return f(w?{id:w.id,values:[w]}:null,z?{id:z.id,values:[z]}:null)});return l}if(Array.isArray(f))return function(w,z){return f.indexOf(w.id)-f.indexOf(z.id)}}else{var q=this.orderTargets(this.data.targets).map(function(w){return w.id});if(this.isOrderAsc()||this.isOrderDesc())q=q.reverse();return function(w,z){return q.indexOf(w.id)-q.indexOf(z.id)}}};p.prototype.getTooltipContent=function(d,f,l,q){var w=this.config;f=w.tooltip_format_title||f;var z=w.tooltip_format_name||function(D){return D},
G=w.tooltip_format_value;G||(G=this.isTargetNormalized(d.id)?function(D,Q){return(100*Q).toFixed(2)+"%"}:l);(l=this.getTooltipSortFunction())&&d.sort(l);for(l=0;l<d.length;l++)if(d[l]&&(d[l].value||0===d[l].value)){if(this.isStanfordGraphType()){if(!H){var H=this.getStanfordTooltipTitle(d[l]);H="\x3ctable class\x3d'"+this.CLASS.tooltip+"'\x3e"+H}var R=this.getStanfordPointColor(d[l]);var ha=ya(w.data_epochs);var Ja=d[l].epochs}else if(H||(H=ya(f?f(d[l].x,d[l].index):d[l].x),H="\x3ctable class\x3d'"+
this.CLASS.tooltip+"'\x3e"+(H||0===H?"\x3ctr\x3e\x3cth colspan\x3d'2'\x3e"+H+"\x3c/th\x3e\x3c/tr\x3e":"")),Ja=ya(G(d[l].value,d[l].ratio,d[l].id,d[l].index,d)),void 0!==Ja){if(null===d[l].name)continue;ha=ya(z(d[l].name,d[l].ratio,d[l].id,d[l].index));R=this.levelColor?this.levelColor(d[l].value):q(d[l].id)}void 0!==Ja&&(H+="\x3ctr class\x3d'"+this.CLASS.tooltipName+"-"+this.getTargetSelectorSuffix(d[l].id)+"'\x3e",H+="\x3ctd class\x3d'name'\x3e\x3cspan style\x3d'background-color:"+R+"'\x3e\x3c/span\x3e"+
ha+"\x3c/td\x3e",H+="\x3ctd class\x3d'value'\x3e"+Ja+"\x3c/td\x3e",H+="\x3c/tr\x3e")}return H+"\x3c/table\x3e"};p.prototype.tooltipPosition=function(d,f,l,q){var w=this.config,z=this.d3;var G=this.hasArcType();q=z.mouse(q);G?(w=(this.width-(this.isLegendRight?this.getLegendWidth():0))/2+q[0],d=(this.hasType("gauge")?this.height:this.height/2)+q[1]+20):(G=this.getSvgLeft(!0),w.axis_rotated?(w=G+q[0]+100,f=w+f,G=this.currentWidth-this.getCurrentPaddingRight(),d=this.x(d[0].x)+20):(w=G+this.getCurrentPaddingLeft(!0)+
this.x(d[0].x)+20,f=w+f,G=G+this.currentWidth-this.getCurrentPaddingRight(),d=q[1]+15),f>G&&(w-=f-G+20),d+l>this.currentHeight&&(d-=l+30));0>d&&(d=0);return{top:d,left:w}};p.prototype.showTooltip=function(d,f){var l=this.config,q=this.hasArcType(),w=d.filter(function(G){return G&&qa(G.value)}),z=l.tooltip_position||p.prototype.tooltipPosition;0!==w.length&&l.tooltip_show?(this.tooltip.html(l.tooltip_contents.call(this,d,this.axis.getXAxisTickFormat(),this.getYFormat(q),this.color)).style("display",
"block"),d=this.tooltip.property("offsetWidth"),l=this.tooltip.property("offsetHeight"),f=z.call(this,w,d,l,f),this.tooltip.style("top",f.top+"px").style("left",f.left+"px")):this.hideTooltip()};p.prototype.hideTooltip=function(){this.tooltip.style("display","none")};p.prototype.setTargetType=function(d,f){var l=this,q=l.config;l.mapToTargetIds(d).forEach(function(w){l.withoutFadeIn[w]=f===q.data_types[w];q.data_types[w]=f});d||(q.data_type=f)};p.prototype.hasType=function(d,f){var l=this.config.data_types,
q=!1;(f=f||this.data.targets)&&f.length?f.forEach(function(w){if((w=l[w.id])&&0<=w.indexOf(d)||!w&&"line"===d)q=!0}):Object.keys(l).length?Object.keys(l).forEach(function(w){l[w]===d&&(q=!0)}):q=this.config.data_type===d;return q};p.prototype.hasArcType=function(d){return this.hasType("pie",d)||this.hasType("donut",d)||this.hasType("gauge",d)};p.prototype.isLineType=function(d){var f=this.config;d=ra(d)?d:d.id;return!f.data_types[d]||0<="line spline area area-spline step area-step".split(" ").indexOf(f.data_types[d])};
p.prototype.isStepType=function(d){d=ra(d)?d:d.id;return 0<=["step","area-step"].indexOf(this.config.data_types[d])};p.prototype.isSplineType=function(d){d=ra(d)?d:d.id;return 0<=["spline","area-spline"].indexOf(this.config.data_types[d])};p.prototype.isAreaType=function(d){d=ra(d)?d:d.id;return 0<=["area","area-spline","area-step"].indexOf(this.config.data_types[d])};p.prototype.isBarType=function(d){d=ra(d)?d:d.id;return"bar"===this.config.data_types[d]};p.prototype.isScatterType=function(d){d=
ra(d)?d:d.id;return"scatter"===this.config.data_types[d]};p.prototype.isStanfordType=function(d){d=ra(d)?d:d.id;return"stanford"===this.config.data_types[d]};p.prototype.isPieType=function(d){d=ra(d)?d:d.id;return"pie"===this.config.data_types[d]};p.prototype.isGaugeType=function(d){d=ra(d)?d:d.id;return"gauge"===this.config.data_types[d]};p.prototype.isDonutType=function(d){d=ra(d)?d:d.id;return"donut"===this.config.data_types[d]};p.prototype.isArcType=function(d){return this.isPieType(d)||this.isDonutType(d)||
this.isGaugeType(d)};p.prototype.lineData=function(d){return this.isLineType(d)?[d]:[]};p.prototype.arcData=function(d){return this.isArcType(d.data)?[d]:[]};p.prototype.barData=function(d){return this.isBarType(d)?d.values:[]};p.prototype.lineOrScatterOrStanfordData=function(d){return this.isLineType(d)||this.isScatterType(d)||this.isStanfordType(d)?d.values:[]};p.prototype.barOrLineData=function(d){return this.isBarType(d)||this.isLineType(d)?d.values:[]};p.prototype.isSafari=function(){var d=window.navigator.userAgent;
return 0<=d.indexOf("Safari")&&0>d.indexOf("Chrome")};p.prototype.isChrome=function(){return 0<=window.navigator.userAgent.indexOf("Chrome")};p.prototype.initZoom=function(){var d=this,f=d.d3,l=d.config,q;d.zoom=f.zoom().on("start",function(){if("scroll"===l.zoom_type){var w=f.event.sourceEvent;w&&"brush"===w.type||(q=w,l.zoom_onzoomstart.call(d.api,w))}}).on("zoom",function(){if("scroll"===l.zoom_type){var w=f.event.sourceEvent;w&&"brush"===w.type||(d.redrawForZoom(),l.zoom_onzoom.call(d.api,d.x.orgDomain()))}}).on("end",
function(){if("scroll"===l.zoom_type){var w=f.event.sourceEvent;w&&"brush"===w.type||w&&q.clientX===w.clientX&&q.clientY===w.clientY||l.zoom_onzoomend.call(d.api,d.x.orgDomain())}});d.zoom.updateDomain=function(){f.event&&f.event.transform&&(l.axis_rotated&&"scroll"===l.zoom_type&&"mousemove"===f.event.sourceEvent.type?d.x.domain(f.event.transform.rescaleY(d.subX).domain()):d.x.domain(f.event.transform.rescaleX(d.subX).domain()));return this};d.zoom.updateExtent=function(){this.scaleExtent([1,Infinity]).translateExtent([[0,
0],[d.width,d.height]]).extent([[0,0],[d.width,d.height]]);return this};d.zoom.update=function(){return this.updateExtent().updateDomain()};return d.zoom.updateExtent()};p.prototype.zoomTransform=function(d){d=[this.x(d[0]),this.x(d[1])];return this.d3.zoomIdentity.scale(this.width/(d[1]-d[0])).translate(-d[0],0)};p.prototype.initDragZoom=function(){var d=this,f=d.d3,l=d.config,q=d.context=d.svg,w=d.margin.left+20.5,z=d.margin.top+.5;if("drag"===l.zoom_type&&l.zoom_enabled){var G=function(R){return R&&
R.map(function(ha){return d.x.invert(ha)})},H=d.dragZoomBrush=f.brushX().on("start",function(){d.api.unzoom();d.svg.select("."+aa.dragZoom).classed("disabled",!1);l.zoom_onzoomstart.call(d.api,f.event.sourceEvent)}).on("brush",function(){l.zoom_onzoom.call(d.api,G(f.event.selection))}).on("end",function(){if(null!=f.event.selection){var R=G(f.event.selection);l.zoom_disableDefaultBehavior||d.api.zoom(R);d.svg.select("."+aa.dragZoom).classed("disabled",!0);l.zoom_onzoomend.call(d.api,R)}});q.append("g").classed(aa.dragZoom,
!0).attr("clip-path",d.clipPath).attr("transform","translate("+w+","+z+")").call(H)}};p.prototype.getZoomDomain=function(){var d=this.config,f=this.d3,l=f.min([this.orgXDomain[0],d.zoom_x_min]);d=f.max([this.orgXDomain[1],d.zoom_x_max]);return[l,d]};p.prototype.redrawForZoom=function(){var d=this.d3,f=this.config,l=this.zoom,q=this.x;f.zoom_enabled&&0!==this.filterTargetsToShow(this.data.targets).length&&(l.update(),f.zoom_disableDefaultBehavior||(this.isCategorized()&&q.orgDomain()[0]===this.orgXDomain[0]&&
q.domain([this.orgXDomain[0]-1E-10,q.orgDomain()[1]]),this.redraw({withTransition:!1,withY:f.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),d.event.sourceEvent&&"mousemove"===d.event.sourceEvent.type&&(this.cancelClick=!0)))};return Va})}
goog.provide("module$node_modules$c3$c3");
goog.global. module$node_modules$c3$c3=shadow.js.require(46, {});
