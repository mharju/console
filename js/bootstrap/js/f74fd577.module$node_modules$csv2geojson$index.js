shadow$provide[6]=function(Nc,Vb,pc,wb){function p(ka,P){var ca;for(ca in ka)if((ka=ca.match(P))&&(!ra||ka[0].length/ca.length>va)){var va=ka[0].length/ca.length;var ra=ca}return ra}function ma(ka){return p(ka,ua)}function Ma(ka){return p(ka,Ea)}function y(ka){return"object"==typeof ka?Object.keys(ka).length:0}function O(ka){var P=[];[",",";","\t","|"].forEach(function(ca){var va=X.dsvFormat(ca).parse(ka);if(1<=va.length){for(var ra=y(va[0]),Y=0;Y<va.length;Y++)if(y(va[Y])!==ra)return;P.push({delimiter:ca,
arity:Object.keys(va[0]).length})}});return P.length?P.sort(function(ca,va){return va.arity-ca.arity})[0].delimiter:null}var X=Vb(4),la=Vb(5),ua=/(Lat)(itude)?/gi,Ea=/(L)(on|ng)(gitude)?/i;pc.exports={isLon:function(ka){return!!ka.match(Ea)},isLat:function(ka){return!!ka.match(ua)},guessLatHeader:ma,guessLonHeader:Ma,csv:X.csvParse,tsv:X.tsvParse,dsv:X,auto:function(ka){var P=O(ka);if(!P)return null;ka=X.dsvFormat(P).parse(ka);delete ka.columns;return ka},csv2geojson:function(ka,P,ca){ca||(ca=P,P=
{});P.delimiter=P.delimiter||",";var va=P.latfield||"",ra=P.lonfield||"",Y=P.crs||"",qa=[],ya={type:"FeatureCollection",features:qa};""!==Y&&(ya.crs={type:"name",properties:{name:Y}});if("auto"===P.delimiter&&"string"==typeof ka&&(P.delimiter=O(ka),!P.delimiter)){ca({type:"Error",message:"Could not autodetect delimiter"});return}ka="string"==typeof ka?X.dsvFormat(P.delimiter).parse(ka):ka;if(ka.length){Y=[];var ia;va||(va=ma(ka[0]));ra||(ra=Ma(ka[0]));if(va&&ra)for(ia=0;ia<ka.length;ia++){if(void 0!==
ka[ia][ra]&&void 0!==ka[ia][va]){var ea=ka[ia][ra],Ha=ka[ia][va],aa;(aa=la(ea,"EW"))&&(ea=aa);(aa=la(Ha,"NS"))&&(Ha=aa);ea=parseFloat(ea);Ha=parseFloat(Ha);isNaN(ea)||isNaN(Ha)?Y.push({message:"A row contained an invalid value for latitude or longitude",row:ka[ia],index:ia}):(P.includeLatLon||(delete ka[ia][ra],delete ka[ia][va]),qa.push({type:"Feature",properties:ka[ia],geometry:{type:"Point",coordinates:[parseFloat(ea),parseFloat(Ha)]}}))}}else for(ia=0;ia<ka.length;ia++)qa.push({type:"Feature",
properties:ka[ia],geometry:null});ca(Y.length?Y:null,ya)}else ca(null,ya)},toLine:function(ka){ka=ka.features;for(var P={type:"Feature",geometry:{type:"LineString",coordinates:[]}},ca=0;ca<ka.length;ca++)P.geometry.coordinates.push(ka[ca].geometry.coordinates);P.properties=ka.reduce(function(va,ra){for(var Y in ra.properties)va[Y]||(va[Y]=[]),va[Y].push(ra.properties[Y]);return va},{});return{type:"FeatureCollection",features:[P]}},toPolygon:function(ka){ka=ka.features;for(var P={type:"Feature",geometry:{type:"Polygon",
coordinates:[[]]}},ca=0;ca<ka.length;ca++)P.geometry.coordinates[0].push(ka[ca].geometry.coordinates);P.properties=ka.reduce(function(va,ra){for(var Y in ra.properties)va[Y]||(va[Y]=[]),va[Y].push(ra.properties[Y]);return va},{});return{type:"FeatureCollection",features:[P]}}}}
goog.provide("module$node_modules$csv2geojson$index");
goog.global. module$node_modules$csv2geojson$index=shadow.js.require(6, {});
