shadow$provide[25]=function(Nc,Vb,pc,wb){(function(p,ma){"object"===typeof wb&&"undefined"!==typeof pc?ma(wb,Vb(17),Vb(19),Vb(21),Vb(18),Vb(24)):"function"===typeof define&&define.amd?define("exports d3-dispatch d3-drag d3-interpolate d3-selection d3-transition".split(" "),ma):(p=p||self,ma(p.d3=p.d3||{},p.d3,p.d3,p.d3,p.d3,p.d3))})(this,function(p,ma,Ma,y,O,X){function la(G){return function(){return G}}function ua(G,H,R){this.target=G;this.type=H;this.selection=R}function Ea(){O.event.preventDefault();
O.event.stopImmediatePropagation()}function ka(G){return[+G[0],+G[1]]}function P(G){return[ka(G[0]),ka(G[1])]}function ca(G){return function(H){return O.touch(H,O.event.touches,G)}}function va(G){return{type:G}}function ra(){return!O.event.ctrlKey&&!O.event.button}function Y(){var G=this.ownerSVGElement||this;return G.hasAttribute("viewBox")?(G=G.viewBox.baseVal,[[G.x,G.y],[G.x+G.width,G.y+G.height]]):[[0,0],[G.width.baseVal.value,G.height.baseVal.value]]}function qa(){return navigator.maxTouchPoints||
"ontouchstart"in this}function ya(G){for(;!G.__brush;)if(!(G=G.parentNode))return;return G.__brush}function ia(G){function H(Oa){var Ua=Oa.property("__brush",Fa).selectAll(".overlay").data([va("overlay")]);Ua.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",f.overlay).merge(Ua).each(function(){var Pa=ya(this).extent;O.select(this).attr("x",Pa[0][0]).attr("y",Pa[0][1]).attr("width",Pa[1][0]-Pa[0][0]).attr("height",Pa[1][1]-Pa[0][1])});Oa.selectAll(".selection").data([va("selection")]).enter().append("rect").attr("class",
"selection").attr("cursor",f.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");Ua=Oa.selectAll(".handle").data(G.handles,function(Pa){return Pa.type});Ua.exit().remove();Ua.enter().append("rect").attr("class",function(Pa){return"handle handle--"+Pa.type}).attr("cursor",function(Pa){return f[Pa.type]});Oa.each(R).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",D).filter(Hb).on("touchstart.brush",D).on("touchmove.brush",
Q).on("touchend.brush touchcancel.brush",oa).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function R(){var Oa=O.select(this),Ua=ya(this).selection;Ua?(Oa.selectAll(".selection").style("display",null).attr("x",Ua[0][0]).attr("y",Ua[0][1]).attr("width",Ua[1][0]-Ua[0][0]).attr("height",Ua[1][1]-Ua[0][1]),Oa.selectAll(".handle").style("display",null).attr("x",function(Pa){return"e"===Pa.type[Pa.type.length-1]?Ua[1][0]-ib/2:Ua[0][0]-ib/2}).attr("y",function(Pa){return"s"===
Pa.type[0]?Ua[1][1]-ib/2:Ua[0][1]-ib/2}).attr("width",function(Pa){return"n"===Pa.type||"s"===Pa.type?Ua[1][0]-Ua[0][0]+ib:ib}).attr("height",function(Pa){return"e"===Pa.type||"w"===Pa.type?Ua[1][1]-Ua[0][1]+ib:ib})):Oa.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function ha(Oa,Ua,Pa){return!Pa&&Oa.__brush.emitter||new Ja(Oa,Ua)}function Ja(Oa,Ua){this.that=Oa;this.args=Ua;this.state=Oa.__brush;this.active=0}function D(){function Oa(){var tc=
Mb(Za);!kc||V||hb||(Math.abs(tc[0]-Ub[0])>Math.abs(tc[1]-Ub[1])?hb=!0:V=!0);Ub=tc;Gb=!0;Ea();Ua()}function Ua(){ec=Ub[0]-Wb[0];lb=Ub[1]-Wb[1];switch(La){case Ha:case ea:Na&&(ec=Math.max(nb-sb,Math.min(cc-nc,ec)),gb=sb+ec,cb=nc+ec);kb&&(lb=Math.max(hc-Nb,Math.min(Fc-oc,lb)),xa=Nb+lb,Ia=oc+lb);break;case aa:0>Na?(ec=Math.max(nb-sb,Math.min(cc-sb,ec)),gb=sb+ec,cb=nc):0<Na&&(ec=Math.max(nb-nc,Math.min(cc-nc,ec)),gb=sb,cb=nc+ec);0>kb?(lb=Math.max(hc-Nb,Math.min(Fc-Nb,lb)),xa=Nb+lb,Ia=oc):0<kb&&(lb=Math.max(hc-
oc,Math.min(Fc-oc,lb)),xa=Nb,Ia=oc+lb);break;case Ba:Na&&(gb=Math.max(nb,Math.min(cc,sb-ec*Na)),cb=Math.max(nb,Math.min(cc,nc+ec*Na))),kb&&(xa=Math.max(hc,Math.min(Fc,Nb-lb*kb)),Ia=Math.max(hc,Math.min(Fc,oc+lb*kb)))}if(cb<gb){Na*=-1;var tc=sb;sb=nc;nc=tc;tc=gb;gb=cb;cb=tc;qb in l&&Sb.attr("cursor",f[qb=l[qb]])}Ia<xa&&(kb*=-1,tc=Nb,Nb=oc,oc=tc,tc=xa,xa=Ia,Ia=tc,qb in q&&Sb.attr("cursor",f[qb=q[qb]]));Sa.selection&&(jb=Sa.selection);V&&(gb=jb[0][0],cb=jb[1][0]);hb&&(xa=jb[0][1],Ia=jb[1][1]);if(jb[0][0]!==
gb||jb[0][1]!==xa||jb[1][0]!==cb||jb[1][1]!==Ia)Sa.selection=[[gb,xa],[cb,Ia]],R.call(Za),lc.brush()}function Pa(){O.event.stopImmediatePropagation();if(O.event.touches){if(O.event.touches.length)return;Ib&&clearTimeout(Ib);Ib=setTimeout(function(){Ib=null},500)}else Ma.dragEnable(O.event.view,Gb),Xb.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);mb.attr("pointer-events","all");Sb.attr("cursor",f.overlay);Sa.selection&&(jb=Sa.selection);if(jb[0][0]===jb[1][0]||jb[0][1]===jb[1][1])Sa.selection=
null,R.call(Za);lc.end()}function ja(){switch(O.event.keyCode){case 16:kc=Na&&kb;break;case 18:La===aa&&(Na&&(nc=cb-ec*Na,sb=gb+ec*Na),kb&&(oc=Ia-lb*kb,Nb=xa+lb*kb),La=Ba,Ua());break;case 32:if(La===aa||La===Ba)0>Na?nc=cb-ec:0<Na&&(sb=gb-ec),0>kb?oc=Ia-lb:0<kb&&(Nb=xa-lb),La=Ha,Sb.attr("cursor",f.selection),Ua();break;default:return}Ea()}function Qa(){switch(O.event.keyCode){case 16:kc&&(V=hb=kc=!1,Ua());break;case 18:La===Ba&&(0>Na?nc=cb:0<Na&&(sb=gb),0>kb?oc=Ia:0<kb&&(Nb=xa),La=aa,Ua());break;case 32:La===
Ha&&(O.event.altKey?(Na&&(nc=cb-ec*Na,sb=gb+ec*Na),kb&&(oc=Ia-lb*kb,Nb=xa+lb*kb),La=Ba):(0>Na?nc=cb:0<Na&&(sb=gb),0>kb?oc=Ia:0<kb&&(Nb=xa),La=aa),Sb.attr("cursor",f[qb]),Ua());break;default:return}Ea()}if((!Ib||O.event.touches)&&xb.apply(this,arguments)){var Za=this,qb=O.event.target.__data__.type,La="selection"===(Kb&&O.event.metaKey?qb="overlay":qb)?ea:Kb&&O.event.altKey?Ba:aa,Na=G===Ya?null:w[qb],kb=G===Va?null:z[qb],Sa=ya(Za),vb=Sa.extent,jb=Sa.selection,nb=vb[0][0],sb,hc=vb[0][1],Nb,cc=vb[1][0],
nc,Fc=vb[1][1],oc,ec=0,lb=0,Gb,kc=Na&&kb&&Kb&&O.event.shiftKey,V,hb,Mb=O.event.touches?ca(O.event.changedTouches[0].identifier):O.mouse,Wb=Mb(Za),Ub=Wb,lc=ha(Za,arguments,!0).beforestart();"overlay"===qb?(jb&&(Gb=!0),Sa.selection=jb=[[sb=G===Ya?nb:Wb[0],Nb=G===Va?hc:Wb[1]],[nc=G===Ya?cc:sb,oc=G===Va?Fc:Nb]]):(sb=jb[0][0],Nb=jb[0][1],nc=jb[1][0],oc=jb[1][1]);var gb=sb;var xa=Nb;var cb=nc;var Ia=oc;var mb=O.select(Za).attr("pointer-events","none"),Sb=mb.selectAll(".overlay").attr("cursor",f[qb]);if(O.event.touches)lc.moved=
Oa,lc.ended=Pa;else{var Xb=O.select(O.event.view).on("mousemove.brush",Oa,!0).on("mouseup.brush",Pa,!0);if(Kb)Xb.on("keydown.brush",ja,!0).on("keyup.brush",Qa,!0);Ma.dragDisable(O.event.view)}O.event.stopImmediatePropagation();X.interrupt(Za);R.call(Za);lc.start()}}function Q(){ha(this,arguments).moved()}function oa(){ha(this,arguments).ended()}function Fa(){var Oa=this.__brush||{selection:null};Oa.extent=P(Ga.apply(this,arguments));Oa.dim=G;return Oa}var Ga=Y,xb=ra,Hb=qa,Kb=!0,Cb=ma.dispatch("start",
"brush","end"),ib=6,Ib;H.move=function(Oa,Ua){Oa.selection?Oa.on("start.brush",function(){ha(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){ha(this,arguments).end()}).tween("brush",function(){function Pa(kb){Qa.selection=1===kb&&null===La?null:Na(kb);R.call(ja);Za.brush()}var ja=this,Qa=ja.__brush,Za=ha(ja,arguments),qb=Qa.selection,La=G.input("function"===typeof Ua?Ua.apply(this,arguments):Ua,Qa.extent),Na=y.interpolate(qb,La);return null!==qb&&null!==La?Pa:Pa(1)}):
Oa.each(function(){var Pa=arguments,ja=this.__brush,Qa=G.input("function"===typeof Ua?Ua.apply(this,Pa):Ua,ja.extent);Pa=ha(this,Pa).beforestart();X.interrupt(this);ja.selection=null===Qa?null:Qa;R.call(this);Pa.start().brush().end()})};H.clear=function(Oa){H.move(Oa,null)};Ja.prototype={beforestart:function(){1===++this.active&&(this.state.emitter=this,this.starting=!0);return this},start:function(){this.starting?(this.starting=!1,this.emit("start")):this.emit("brush");return this},brush:function(){this.emit("brush");
return this},end:function(){0===--this.active&&(delete this.state.emitter,this.emit("end"));return this},emit:function(Oa){O.customEvent(new ua(H,Oa,G.output(this.state.selection)),Cb.apply,Cb,[Oa,this.that,this.args])}};H.extent=function(Oa){return arguments.length?(Ga="function"===typeof Oa?Oa:la(P(Oa)),H):Ga};H.filter=function(Oa){return arguments.length?(xb="function"===typeof Oa?Oa:la(!!Oa),H):xb};H.touchable=function(Oa){return arguments.length?(Hb="function"===typeof Oa?Oa:la(!!Oa),H):Hb};
H.handleSize=function(Oa){return arguments.length?(ib=+Oa,H):ib};H.keyModifiers=function(Oa){return arguments.length?(Kb=!!Oa,H):Kb};H.on=function(){var Oa=Cb.on.apply(Cb,arguments);return Oa===Cb?H:Oa};return H}var ea={name:"drag"},Ha={name:"space"},aa={name:"handle"},Ba={name:"center"},Va={name:"x",handles:["w","e"].map(va),input:function(G,H){return null==G?null:[[+G[0],H[0][1]],[+G[1],H[1][1]]]},output:function(G){return G&&[G[0][0],G[1][0]]}},Ya={name:"y",handles:["n","s"].map(va),input:function(G,
H){return null==G?null:[[H[0][0],+G[0]],[H[1][0],+G[1]]]},output:function(G){return G&&[G[0][1],G[1][1]]}},d={name:"xy",handles:"n w e s nw ne sw se".split(" ").map(va),input:function(G){return null==G?null:P(G)},output:function(G){return G}},f={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},l={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},q={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},
w={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},z={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};p.brush=function(){return ia(d)};p.brushSelection=function(G){return(G=G.__brush)?G.dim.output(G.selection):null};p.brushX=function(){return ia(Va)};p.brushY=function(){return ia(Ya)};Object.defineProperty(p,"__esModule",{value:!0})})}
goog.provide("module$node_modules$d3_brush$dist$d3_brush");
goog.global. module$node_modules$d3_brush$dist$d3_brush=shadow.js.require(25, {});
