shadow$provide[81]=function(Nc,Vb,pc,wb){(function(p){"object"==typeof wb&&"object"==typeof pc?p(Vb(1)):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],p):p(CodeMirror)})(function(p){function ma(Y,qa){var ya=Y.flags;for(var ia=ya=null!=ya?ya:(Y.ignoreCase?"i":"")+(Y.global?"g":"")+(Y.multiline?"m":""),ea=0;ea<qa.length;ea++)-1==ia.indexOf(qa.charAt(ea))&&(ia+=qa.charAt(ea));return ya==ia?Y:new RegExp(Y.source,ia)}function Ma(Y,qa,ya){qa=ma(qa,"g");var ia=ya.line,ea=ya.ch;for(ya=
Y.lastLine();ia<=ya;ia++,ea=0)if(qa.lastIndex=ea,ea=Y.getLine(ia),ea=qa.exec(ea))return{from:ca(ia,ea.index),to:ca(ia,ea.index+ea[0].length),match:ea}}function y(Y,qa,ya){if(!/\\s|\\n|\n|\\W|\\D|\[\^/.test(qa.source))return Ma(Y,qa,ya);qa=ma(qa,"gm");for(var ia,ea=1,Ha=ya.line,aa=Y.lastLine();Ha<=aa;){for(var Ba=0;Ba<ea&&!(Ha>aa);Ba++){var Va=Y.getLine(Ha++);ia=null==ia?Va:ia+"\n"+Va}ea*=2;qa.lastIndex=ya.ch;if(Ba=qa.exec(ia))return qa=ia.slice(0,Ba.index).split("\n"),Y=Ba[0].split("\n"),ya=ya.line+
qa.length-1,qa=qa[qa.length-1].length,{from:ca(ya,qa),to:ca(ya+Y.length-1,1==Y.length?qa+Y[0].length:Y[Y.length-1].length),match:Ba}}}function O(Y,qa,ya){for(var ia,ea=0;ea<=Y.length;){qa.lastIndex=ea;ea=qa.exec(Y);if(!ea)break;var Ha=ea.index+ea[0].length;if(Ha>Y.length-ya)break;if(!ia||Ha>ia.index+ia[0].length)ia=ea;ea=ea.index+1}return ia}function X(Y,qa,ya){qa=ma(qa,"g");var ia=ya.line,ea=ya.ch;for(ya=Y.firstLine();ia>=ya;ia--,ea=-1){var Ha=Y.getLine(ia);if(ea=O(Ha,qa,0>ea?0:Ha.length-ea))return{from:ca(ia,
ea.index),to:ca(ia,ea.index+ea[0].length),match:ea}}}function la(Y,qa,ya){if(!/\\s|\\n|\n|\\W|\\D|\[\^/.test(qa.source))return X(Y,qa,ya);qa=ma(qa,"gm");var ia=1,ea=Y.getLine(ya.line).length-ya.ch;ya=ya.line;for(var Ha=Y.firstLine();ya>=Ha;){for(var aa=0;aa<ia&&ya>=Ha;aa++){var Ba=Y.getLine(ya--);var Va=null==Va?Ba:Ba+"\n"+Va}ia*=2;if(aa=O(Va,qa,ea))return qa=Va.slice(0,aa.index).split("\n"),Y=aa[0].split("\n"),ya+=qa.length,qa=qa[qa.length-1].length,{from:ca(ya,qa),to:ca(ya+Y.length-1,1==Y.length?
qa+Y[0].length:Y[Y.length-1].length),match:aa}}}function ua(Y,qa,ya,ia){if(Y.length==qa.length)return ya;var ea=0;for(qa=ya+Math.max(0,Y.length-qa.length);;){if(ea==qa)return ea;var Ha=ea+qa>>1,aa=ia(Y.slice(0,Ha)).length;if(aa==ya)return Ha;aa>ya?qa=Ha:ea=Ha+1}}function Ea(Y,qa,ya,ia){if(!qa.length)return null;ia=ia?va:ra;qa=ia(qa).split(/\r|\n\r?/);var ea=ya.line;ya=ya.ch;var Ha=Y.lastLine()+1-qa.length;a:for(;ea<=Ha;ea++,ya=0){var aa=Y.getLine(ea).slice(ya),Ba=ia(aa);if(1==qa.length){var Va=Ba.indexOf(qa[0]);
if(-1==Va)continue a;ua(aa,Ba,Va,ia);return{from:ca(ea,ua(aa,Ba,Va,ia)+ya),to:ca(ea,ua(aa,Ba,Va+qa[0].length,ia)+ya)}}Va=Ba.length-qa[0].length;if(Ba.slice(Va)!=qa[0])continue a;for(var Ya=1;Ya<qa.length-1;Ya++)if(ia(Y.getLine(ea+Ya))!=qa[Ya])continue a;Ya=Y.getLine(ea+qa.length-1);var d=ia(Ya),f=qa[qa.length-1];if(d.slice(0,f.length)!=f)continue a;return{from:ca(ea,ua(aa,Ba,Va,ia)+ya),to:ca(ea+qa.length-1,ua(Ya,d,f.length,ia))}}}function ka(Y,qa,ya,ia){if(!qa.length)return null;ia=ia?va:ra;qa=ia(qa).split(/\r|\n\r?/);
var ea=ya.line,Ha=ya.ch,aa=Y.firstLine()-1+qa.length;a:for(;ea>=aa;ea--,Ha=-1){var Ba=Y.getLine(ea);-1<Ha&&(Ba=Ba.slice(0,Ha));Ha=ia(Ba);if(1==qa.length){ya=Ha.lastIndexOf(qa[0]);if(-1==ya)continue a;return{from:ca(ea,ua(Ba,Ha,ya,ia)),to:ca(ea,ua(Ba,Ha,ya+qa[0].length,ia))}}var Va=qa[qa.length-1];if(Ha.slice(0,Va.length)!=Va)continue a;var Ya=1;for(ya=ea-qa.length+1;Ya<qa.length-1;Ya++)if(ia(Y.getLine(ya+Ya))!=qa[Ya])continue a;ya=Y.getLine(ea+1-qa.length);Ya=ia(ya);if(Ya.slice(Ya.length-qa[0].length)!=
qa[0])continue a;return{from:ca(ea+1-qa.length,ua(ya,Ya,ya.length-qa[0].length,ia)),to:ca(ea,ua(Ba,Ha,Va.length,ia))}}}function P(Y,qa,ya,ia){this.atOccurrence=!1;this.doc=Y;ya=ya?Y.clipPos(ya):ca(0,0);this.pos={from:ya,to:ya};if("object"==typeof ia)var ea=ia.caseFold;else ea=ia,ia=null;"string"==typeof qa?(null==ea&&(ea=!1),this.matches=function(Ha,aa){return(Ha?ka:Ea)(Y,qa,aa,ea)}):(qa=ma(qa,"gm"),this.matches=ia&&!1===ia.multiline?function(Ha,aa){return(Ha?X:Ma)(Y,qa,aa)}:function(Ha,aa){return(Ha?
la:y)(Y,qa,aa)})}var ca=p.Pos;if(String.prototype.normalize){var va=function(Y){return Y.normalize("NFD").toLowerCase()};var ra=function(Y){return Y.normalize("NFD")}}else va=function(Y){return Y.toLowerCase()},ra=function(Y){return Y};P.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(Y){for(var qa=this.matches(Y,this.doc.clipPos(Y?this.pos.from:this.pos.to));qa&&0==p.cmpPos(qa.from,qa.to);)Y?qa.from.ch?qa.from=ca(qa.from.line,qa.from.ch-
1):qa=qa.from.line==this.doc.firstLine()?null:this.matches(Y,this.doc.clipPos(ca(qa.from.line-1))):qa.to.ch<this.doc.getLine(qa.to.line).length?qa.to=ca(qa.to.line,qa.to.ch+1):qa=qa.to.line==this.doc.lastLine()?null:this.matches(Y,ca(qa.to.line+1,0));if(qa)return this.pos=qa,this.atOccurrence=!0,this.pos.match||!0;Y=ca(Y?this.doc.firstLine():this.doc.lastLine()+1,0);this.pos={from:Y,to:Y};return this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},
replace:function(Y,qa){this.atOccurrence&&(Y=p.splitLines(Y),this.doc.replaceRange(Y,this.pos.from,this.pos.to,qa),this.pos.to=ca(this.pos.from.line+Y.length-1,Y[Y.length-1].length+(1==Y.length?this.pos.from.ch:0)))}};p.defineExtension("getSearchCursor",function(Y,qa,ya){return new P(this.doc,Y,qa,ya)});p.defineDocExtension("getSearchCursor",function(Y,qa,ya){return new P(this,Y,qa,ya)});p.defineExtension("selectMatches",function(Y,qa){var ya=[];for(Y=this.getSearchCursor(Y,this.getCursor("from"),
qa);Y.findNext()&&!(0<p.cmpPos(Y.to(),this.getCursor("to")));)ya.push({anchor:Y.from(),head:Y.to()});ya.length&&this.setSelections(ya,0)})})}
goog.provide("module$node_modules$codemirror$addon$search$searchcursor");
goog.global. module$node_modules$codemirror$addon$search$searchcursor=shadow.js.require(81, {});
