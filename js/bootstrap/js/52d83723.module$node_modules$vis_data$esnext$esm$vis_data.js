shadow$provide[64]=function(Nc,Vb,pc,wb){function p(q,w){var z=Object.keys(q);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(q);w&&(G=G.filter(function(H){return Object.getOwnPropertyDescriptor(q,H).enumerable}));z.push.apply(z,G)}return z}function ma(q){for(var w=1;w<arguments.length;w++){var z=null!=arguments[w]?arguments[w]:{};w%2?p(z,!0).forEach(function(G){Ea(q,G,z[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(z)):p(z).forEach(function(G){Object.defineProperty(q,
G,Object.getOwnPropertyDescriptor(z,G))})}return q}function Ma(q){Ma="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"===typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w};return Ma(q)}function y(q,w){return!w||"object"!==Ma(w)&&"function"!==typeof w?O(q):w}function O(q){if(void 0===q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q}function X(q){X=Object.setPrototypeOf?
Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)};return X(q)}function la(q,w){if("function"!==typeof w&&null!==w)throw new TypeError("Super expression must either be null or a function");q.prototype=Object.create(w&&w.prototype,{constructor:{value:q,writable:!0,configurable:!0}});w&&ua(q,w)}function ua(q,w){ua=Object.setPrototypeOf||function(z,G){z.__proto__=G;return z};return ua(q,w)}function Ea(q,w,z){w in q?Object.defineProperty(q,w,{value:z,enumerable:!0,configurable:!0,
writable:!0}):q[w]=z;return q}function ka(q,w){var z=Array.isArray(q)?q:void 0;if(!z)if(Symbol.iterator in Object(q)||"[object Arguments]"===Object.prototype.toString.call(q)){z=[];var G=!0,H=!1,R=void 0;try{for(var ha=q[Symbol.iterator](),Ja;!(G=(Ja=ha.next()).done)&&(z.push(Ja.value),!w||z.length!==w);G=!0);}catch(D){H=!0,R=D}finally{try{if(!G&&null!=ha["return"])ha["return"]()}finally{if(H)throw R;}}}else z=void 0;if(!(q=z))throw new TypeError("Invalid attempt to destructure non-iterable instance");
return q}function P(q){if(Array.isArray(q)){var w=0;for(var z=Array(q.length);w<q.length;w++)z[w]=q[w];w=z}else w=void 0;w||(w=Symbol.iterator in Object(q)||"[object Arguments]"===Object.prototype.toString.call(q)?Array.from(q):void 0);if(!(q=w))throw new TypeError("Invalid attempt to spread non-iterable instance");return q}function ca(q,w){if(!(q instanceof w))throw new TypeError("Cannot call a class as a function");}function va(q,w){for(var z=0;z<w.length;z++){var G=w[z];G.enumerable=G.enumerable||
!1;G.configurable=!0;"value"in G&&(G.writable=!0);Object.defineProperty(q,G.key,G)}}function ra(q,w,z){w&&va(q.prototype,w);z&&va(q,z);return q}function Y(q){return Ha["default"].isMoment(q)}function qa(q,w){if(void 0!==q){if(null===q)return null;if(!w)return q;if("string"!==typeof w&&!(w instanceof String))throw Error("Type must be a string");switch(w){case "boolean":case "Boolean":return!!q;case "number":case "Number":return(0,ea.isString)(q)&&!isNaN(Date.parse(q))?(0,Ha["default"])(q).valueOf():
Number(q.valueOf());case "string":case "String":return String(q);case "Date":if((0,ea.isNumber)(q))return new Date(q);if(q instanceof Date||Y(q))return new Date(q.valueOf());if((0,ea.isString)(q))return(w=Va.exec(q))?new Date(Number(w[1])):(0,Ha["default"])(new Date(q)).toDate();throw Error("Cannot convert object of type "+(0,ea.getType)(q)+" to type Date");case "Moment":if((0,ea.isNumber)(q))return(0,Ha["default"])(q);if(q instanceof Date)return(0,Ha["default"])(q.valueOf());if(Y(q))return(0,Ha["default"])(q);
if((0,ea.isString)(q))return(w=Va.exec(q))?(0,Ha["default"])(Number(w[1])):(0,Ha["default"])(q);throw Error("Cannot convert object of type "+(0,ea.getType)(q)+" to type Date");case "ISODate":if((0,ea.isNumber)(q))return new Date(q);if(q instanceof Date)return q.toISOString();if(Y(q))return q.toDate().toISOString();if((0,ea.isString)(q))return(w=Va.exec(q))?(new Date(Number(w[1]))).toISOString():(0,Ha["default"])(q).format();throw Error("Cannot convert object of type "+(0,ea.getType)(q)+" to type ISODate");
case "ASPDate":if((0,ea.isNumber)(q))return"/Date("+q+")/";if(q instanceof Date||Y(q))return"/Date("+q.valueOf()+")/";if((0,ea.isString)(q))return w=Va.exec(q),"/Date("+(w?(new Date(Number(w[1]))).valueOf():(new Date(q)).valueOf())+")/";throw Error("Cannot convert object of type "+(0,ea.getType)(q)+" to type ASPDate");default:throw Error("Unknown type ".concat(w));}}}function ya(q){return"string"===typeof q||"number"===typeof q}Object.defineProperty(wb,"__esModule",{value:!0});wb.createNewDataPipeFrom=
function(q){return new Ba(q)};Object.defineProperty(wb,"DELETE",{enumerable:!0,get:function(){return ea.DELETE}});wb.Queue=wb.DataView=wb.DataStream=wb.DataSet=void 0;var ia=Vb(61),ea=Vb(62),Ha=function(q){return q&&q.__esModule?q:{"default":q}}(Vb(63)),aa=function(){function q(w,z,G){ca(this,q);this._source=w;this._transformers=z;this._target=G;this._listeners={add:this._add.bind(this),remove:this._remove.bind(this),update:this._update.bind(this)}}ra(q,[{key:"all",value:function(){this._target.update(this._transformItems(this._source.get()));
return this}},{key:"start",value:function(){this._source.on("add",this._listeners.add);this._source.on("remove",this._listeners.remove);this._source.on("update",this._listeners.update);return this}},{key:"stop",value:function(){this._source.off("add",this._listeners.add);this._source.off("remove",this._listeners.remove);this._source.off("update",this._listeners.update);return this}},{key:"_transformItems",value:function(w){return this._transformers.reduce(function(z,G){return G(z)},w)}},{key:"_add",
value:function(w,z){null!=z&&this._target.add(this._transformItems(this._source.get(z.items)))}},{key:"_update",value:function(w,z){null!=z&&this._target.update(this._transformItems(this._source.get(z.items)))}},{key:"_remove",value:function(w,z){null!=z&&this._target.remove(this._transformItems(z.oldData))}}]);return q}(),Ba=function(){function q(w){ca(this,q);this._source=w;this._transformers=[]}ra(q,[{key:"filter",value:function(w){this._transformers.push(function(z){return z.filter(w)});return this}},
{key:"map",value:function(w){this._transformers.push(function(z){return z.map(w)});return this}},{key:"flatMap",value:function(w){this._transformers.push(function(z){return z.flatMap(w)});return this}},{key:"to",value:function(w){return new aa(this._source,this._transformers,w)}}]);return q}(),Va=/^\/?Date\((-?\d+)/i,Ya=function(){function q(w){ca(this,q);this._queue=[];this.delay=this._extended=this._timeout=null;this.max=Infinity;this.setOptions(w)}ra(q,[{key:"setOptions",value:function(w){w&&"undefined"!==
typeof w.delay&&(this.delay=w.delay);w&&"undefined"!==typeof w.max&&(this.max=w.max);this._flushIfNeeded()}},{key:"destroy",value:function(){this.flush();if(this._extended){for(var w=this._extended.object,z=this._extended.methods,G=0;G<z.length;G++){var H=z[G];H.original?w[H.name]=H.original:delete w[H.name]}this._extended=null}}},{key:"replace",value:function(w,z){var G=this,H=w[z];if(!H)throw Error("Method "+z+" undefined");w[z]=function(){for(var R=arguments.length,ha=Array(R),Ja=0;Ja<R;Ja++)ha[Ja]=
arguments[Ja];G.queue({args:ha,fn:H,context:this})}}},{key:"queue",value:function(w){"function"===typeof w?this._queue.push({fn:w}):this._queue.push(w);this._flushIfNeeded()}},{key:"_flushIfNeeded",value:function(){var w=this;this._queue.length>this.max&&this.flush();null!=this._timeout&&(clearTimeout(this._timeout),this._timeout=null);0<this.queue.length&&"number"===typeof this.delay&&(this._timeout=setTimeout(function(){w.flush()},this.delay))}},{key:"flush",value:function(){this._queue.splice(0).forEach(function(w){w.fn.apply(w.context||
w.fn,w.args||[])})}}],[{key:"extend",value:function(w,z){var G=new q(z);if(void 0!==w.flush)throw Error("Target object already has a property flush");w.flush=function(){G.flush()};var H=[{name:"flush",original:void 0}];if(z&&z.replace)for(var R=0;R<z.replace.length;R++){var ha=z.replace[R];H.push({name:ha,original:w[ha]});G.replace(w,ha)}G._extended={object:w,methods:H};return G}}]);return q}();wb.Queue=Ya;Nc=function(){function q(){ca(this,q);this._subscribers={"*":[],add:[],remove:[],update:[]};
this.subscribe=q.prototype.on;this.unsubscribe=q.prototype.off}ra(q,[{key:"_trigger",value:function(w,z,G){if("*"===w)throw Error("Cannot trigger event *");[].concat(P(this._subscribers[w]),P(this._subscribers["*"])).forEach(function(H){H(w,z,null!=G?G:null)})}},{key:"on",value:function(w,z){"function"===typeof z&&this._subscribers[w].push(z)}},{key:"off",value:function(w,z){this._subscribers[w]=this._subscribers[w].filter(function(G){return G!==z})}}]);return q}();var d=function(){function q(w){ca(this,
q);this._pairs=w}ra(q,[{key:Symbol.iterator,value:regeneratorRuntime.mark(function z(){var G,H,R,ha,Ja,D,Q,oa;return regeneratorRuntime.wrap(function(Fa){for(;;)switch(Fa.prev=Fa.next){case 0:G=!0,H=!1,R=void 0,Fa.prev=3,ha=this._pairs[Symbol.iterator]();case 5:if(G=(Ja=ha.next()).done){Fa.next=12;break}D=ka(Ja.value,2);Q=D[0];oa=D[1];Fa.next=9;return[Q,oa];case 9:G=!0;Fa.next=5;break;case 12:Fa.next=18;break;case 14:Fa.prev=14,Fa.t0=Fa["catch"](3),H=!0,R=Fa.t0;case 18:if(Fa.prev=18,Fa.prev=19,!G&&
null!=ha["return"])ha["return"]();case 21:Fa.prev=21;if(!H){Fa.next=24;break}throw R;case 24:return Fa.finish(21);case 25:return Fa.finish(18);case 26:case "end":return Fa.stop()}},z,this,[[3,14,18,26],[19,,21,25]])})},{key:"entries",value:regeneratorRuntime.mark(function G(){var H,R,ha,Ja,D,Q,oa,Fa;return regeneratorRuntime.wrap(function(Ga){for(;;)switch(Ga.prev=Ga.next){case 0:H=!0,R=!1,ha=void 0,Ga.prev=3,Ja=this._pairs[Symbol.iterator]();case 5:if(H=(D=Ja.next()).done){Ga.next=12;break}Q=ka(D.value,
2);oa=Q[0];Fa=Q[1];Ga.next=9;return[oa,Fa];case 9:H=!0;Ga.next=5;break;case 12:Ga.next=18;break;case 14:Ga.prev=14,Ga.t0=Ga["catch"](3),R=!0,ha=Ga.t0;case 18:if(Ga.prev=18,Ga.prev=19,!H&&null!=Ja["return"])Ja["return"]();case 21:Ga.prev=21;if(!R){Ga.next=24;break}throw ha;case 24:return Ga.finish(21);case 25:return Ga.finish(18);case 26:case "end":return Ga.stop()}},G,this,[[3,14,18,26],[19,,21,25]])})},{key:"keys",value:regeneratorRuntime.mark(function H(){var R,ha,Ja,D,Q,oa,Fa;return regeneratorRuntime.wrap(function(Ga){for(;;)switch(Ga.prev=
Ga.next){case 0:R=!0,ha=!1,Ja=void 0,Ga.prev=3,D=this._pairs[Symbol.iterator]();case 5:if(R=(Q=D.next()).done){Ga.next=12;break}oa=ka(Q.value,1);Fa=oa[0];Ga.next=9;return Fa;case 9:R=!0;Ga.next=5;break;case 12:Ga.next=18;break;case 14:Ga.prev=14,Ga.t0=Ga["catch"](3),ha=!0,Ja=Ga.t0;case 18:if(Ga.prev=18,Ga.prev=19,!R&&null!=D["return"])D["return"]();case 21:Ga.prev=21;if(!ha){Ga.next=24;break}throw Ja;case 24:return Ga.finish(21);case 25:return Ga.finish(18);case 26:case "end":return Ga.stop()}},H,
this,[[3,14,18,26],[19,,21,25]])})},{key:"values",value:regeneratorRuntime.mark(function R(){var ha,Ja,D,Q,oa,Fa,Ga;return regeneratorRuntime.wrap(function(xb){for(;;)switch(xb.prev=xb.next){case 0:ha=!0,Ja=!1,D=void 0,xb.prev=3,Q=this._pairs[Symbol.iterator]();case 5:if(ha=(oa=Q.next()).done){xb.next=12;break}Fa=ka(oa.value,2);Ga=Fa[1];xb.next=9;return Ga;case 9:ha=!0;xb.next=5;break;case 12:xb.next=18;break;case 14:xb.prev=14,xb.t0=xb["catch"](3),Ja=!0,D=xb.t0;case 18:if(xb.prev=18,xb.prev=19,!ha&&
null!=Q["return"])Q["return"]();case 21:xb.prev=21;if(!Ja){xb.next=24;break}throw D;case 24:return xb.finish(21);case 25:return xb.finish(18);case 26:case "end":return xb.stop()}},R,this,[[3,14,18,26],[19,,21,25]])})},{key:"toIdArray",value:function(){return P(this._pairs).map(function(R){return R[0]})}},{key:"toItemArray",value:function(){return P(this._pairs).map(function(R){return R[1]})}},{key:"toEntryArray",value:function(){return P(this._pairs)}},{key:"toObjectMap",value:function(){var R=Object.create(null),
ha=!0,Ja=!1,D=void 0;try{for(var Q=this._pairs[Symbol.iterator](),oa;!(ha=(oa=Q.next()).done);ha=!0){var Fa=ka(oa.value,2);R[Fa[0]]=Fa[1]}}catch(Ga){Ja=!0,D=Ga}finally{try{if(!ha&&null!=Q["return"])Q["return"]()}finally{if(Ja)throw D;}}return R}},{key:"toMap",value:function(){return new Map(this._pairs)}},{key:"toIdSet",value:function(){return new Set(this.toIdArray())}},{key:"toItemSet",value:function(){return new Set(this.toItemArray())}},{key:"cache",value:function(){return new q(P(this._pairs))}},
{key:"distinct",value:function(R){var ha=new Set,Ja=!0,D=!1,Q=void 0;try{for(var oa=this._pairs[Symbol.iterator](),Fa;!(Ja=(Fa=oa.next()).done);Ja=!0){var Ga=ka(Fa.value,2);ha.add(R(Ga[1],Ga[0]))}}catch(xb){D=!0,Q=xb}finally{try{if(!Ja&&null!=oa["return"])oa["return"]()}finally{if(D)throw Q;}}return ha}},{key:"filter",value:function(R){var ha=this._pairs;return new q(Ea({},Symbol.iterator,regeneratorRuntime.mark(function D(){var Q,oa,Fa,Ga,xb,Hb,Kb,Cb;return regeneratorRuntime.wrap(function(ib){for(;;)switch(ib.prev=
ib.next){case 0:Q=!0,oa=!1,Fa=void 0,ib.prev=3,Ga=ha[Symbol.iterator]();case 5:if(Q=(xb=Ga.next()).done){ib.next=13;break}Hb=ka(xb.value,2);Kb=Hb[0];Cb=Hb[1];if(!R(Cb,Kb)){ib.next=10;break}ib.next=10;return[Kb,Cb];case 10:Q=!0;ib.next=5;break;case 13:ib.next=19;break;case 15:ib.prev=15,ib.t0=ib["catch"](3),oa=!0,Fa=ib.t0;case 19:if(ib.prev=19,ib.prev=20,!Q&&null!=Ga["return"])Ga["return"]();case 22:ib.prev=22;if(!oa){ib.next=25;break}throw Fa;case 25:return ib.finish(22);case 26:return ib.finish(19);
case 27:case "end":return ib.stop()}},D,null,[[3,15,19,27],[20,,22,26]])})))}},{key:"forEach",value:function(R){var ha=!0,Ja=!1,D=void 0;try{for(var Q=this._pairs[Symbol.iterator](),oa;!(ha=(oa=Q.next()).done);ha=!0){var Fa=ka(oa.value,2);R(Fa[1],Fa[0])}}catch(Ga){Ja=!0,D=Ga}finally{try{if(!ha&&null!=Q["return"])Q["return"]()}finally{if(Ja)throw D;}}}},{key:"map",value:function(R){var ha=this._pairs;return new q(Ea({},Symbol.iterator,regeneratorRuntime.mark(function D(){var Q,oa,Fa,Ga,xb,Hb,Kb,Cb;
return regeneratorRuntime.wrap(function(ib){for(;;)switch(ib.prev=ib.next){case 0:Q=!0,oa=!1,Fa=void 0,ib.prev=3,Ga=ha[Symbol.iterator]();case 5:if(Q=(xb=Ga.next()).done){ib.next=12;break}Hb=ka(xb.value,2);Kb=Hb[0];Cb=Hb[1];ib.next=9;return[Kb,R(Cb,Kb)];case 9:Q=!0;ib.next=5;break;case 12:ib.next=18;break;case 14:ib.prev=14,ib.t0=ib["catch"](3),oa=!0,Fa=ib.t0;case 18:if(ib.prev=18,ib.prev=19,!Q&&null!=Ga["return"])Ga["return"]();case 21:ib.prev=21;if(!oa){ib.next=24;break}throw Fa;case 24:return ib.finish(21);
case 25:return ib.finish(18);case 26:case "end":return ib.stop()}},D,null,[[3,14,18,26],[19,,21,25]])})))}},{key:"max",value:function(R){var ha=this._pairs[Symbol.iterator](),Ja=ha.next();if(Ja.done)return null;for(var D=Ja.value[1],Q=R(Ja.value[1],Ja.value[0]);!(Ja=ha.next()).done;){var oa=ka(Ja.value,2);Ja=oa[1];oa=R(Ja,oa[0]);oa>Q&&(Q=oa,D=Ja)}return D}},{key:"min",value:function(R){var ha=this._pairs[Symbol.iterator](),Ja=ha.next();if(Ja.done)return null;for(var D=Ja.value[1],Q=R(Ja.value[1],
Ja.value[0]);!(Ja=ha.next()).done;){var oa=ka(Ja.value,2);Ja=oa[1];oa=R(Ja,oa[0]);oa<Q&&(Q=oa,D=Ja)}return D}},{key:"reduce",value:function(R,ha){var Ja=!0,D=!1,Q=void 0;try{for(var oa=this._pairs[Symbol.iterator](),Fa;!(Ja=(Fa=oa.next()).done);Ja=!0){var Ga=ka(Fa.value,2);ha=R(ha,Ga[1],Ga[0])}}catch(xb){D=!0,Q=xb}finally{try{if(!Ja&&null!=oa["return"])oa["return"]()}finally{if(D)throw Q;}}return ha}},{key:"sort",value:function(R){var ha=this;return new q(Ea({},Symbol.iterator,function(){return P(ha._pairs).sort(function(Ja,
D){var Q=ka(Ja,2);Ja=Q[0];Q=Q[1];D=ka(D,2);return R(Q,D[1],Ja,D[0])})[Symbol.iterator]()}))}}]);return q}();wb.DataStream=d;var f=function(){console.warn("Type coercion has been deprecated. Please, use data pipes instead. See https://visjs.github.io/vis-data/data/datapipe.html#TypeCoercion for more details with working migration example.")},l=function(q){function w(z,G){ca(this,w);var H=y(this,X(w).call(this));z&&!Array.isArray(z)&&(G=z,z=[]);H._options=G||{};H._data=new Map;H.length=0;H._idProp=
H._options.fieldId||"id";H._type={};if(H._options.type){f();for(var R=Object.keys(H._options.type),ha=0,Ja=R.length;ha<Ja;ha++){var D=R[ha],Q=H._options.type[D];H._type[D]="Date"==Q||"ISODate"==Q||"ASPDate"==Q?"Date":Q}}z&&z.length&&H.add(z);H.setOptions(G);return H}la(w,q);ra(w,[{key:"setOptions",value:function(z){z&&void 0!==z.queue&&(!1===z.queue?this._queue&&(this._queue.destroy(),delete this._queue):(this._queue||(this._queue=Ya.extend(this,{replace:["add","update","remove"]})),z.queue&&"object"===
Ma(z.queue)&&this._queue.setOptions(z.queue)))}},{key:"add",value:function(z,G){var H=this,R=[];if(Array.isArray(z)){if(z.map(function(Q){return Q[H._idProp]}).some(function(Q){return H._data.has(Q)}))throw Error("A duplicate id was found in the parameter array.");for(var ha=0,Ja=z.length;ha<Ja;ha++){var D=this._addItem(z[ha]);R.push(D)}}else if(z&&"object"===Ma(z))D=this._addItem(z),R.push(D);else throw Error("Unknown dataType");R.length&&this._trigger("add",{items:R},G);return R}},{key:"update",
value:function(z,G){var H=this,R=[],ha=[],Ja=[],D=[],Q=this._idProp,oa=function(xb){var Hb=xb[Q];if(null!=Hb&&H._data.has(Hb)){Hb=Object.assign({},H._data.get(Hb));var Kb=H._updateItem(xb);ha.push(Kb);D.push(xb);Ja.push(Hb)}else xb=H._addItem(xb),R.push(xb)};if(Array.isArray(z))for(var Fa=0,Ga=z.length;Fa<Ga;Fa++)z[Fa]&&"object"===Ma(z[Fa])?oa(z[Fa]):console.warn("Ignoring input item, which is not an object at index "+Fa);else if(z&&"object"===Ma(z))oa(z);else throw Error("Unknown dataType");R.length&&
this._trigger("add",{items:R},G);ha.length&&this._trigger("update",{items:ha,oldData:Ja,data:D},G);return R.concat(ha)}},{key:"updateOnly",value:function(z,G){var H=this;Array.isArray(z)||(z=[z]);z=z.map(function(R){var ha=H._data.get(R[H._idProp]);if(null==ha)throw Error("Updating non-existent items is not allowed.");return{oldData:ha,update:R}}).map(function(R){var ha=R.oldData,Ja=R.update;R=ha[H._idProp];Ja=(0,ea.pureDeepObjectAssign)(ha,Ja);H._data.set(R,Ja);return{id:R,oldData:ha,updatedData:Ja}});
return z.length?(z={items:z.map(function(R){return R.id}),oldData:z.map(function(R){return R.oldData}),data:z.map(function(R){return R.updatedData})},this._trigger("update",z,G),z.items):[]}},{key:"get",value:function(z,G){var H=void 0,R=void 0;if(ya(z)){H=z;var ha=G}else Array.isArray(z)?(R=z,ha=G):ha=z;G=ha&&"Object"===ha.returnType?"Object":"Array";var Ja=ha&&ha.type||this._options.type,D=ha&&ha.filter;z=[];var Q=null;if(null!=H)(Q=this._getItem(H,Ja))&&D&&!D(Q)&&(Q=null);else if(null!=R)for(var oa=
0,Fa=R.length;oa<Fa;oa++)Q=this._getItem(R[oa],Ja),null==Q||D&&!D(Q)||z.push(Q);else for(R=P(this._data.keys()),oa=0,Fa=R.length;oa<Fa;oa++)Q=R[oa],Q=this._getItem(Q,Ja),null==Q||D&&!D(Q)||z.push(Q);ha&&ha.order&&void 0==H&&this._sort(z,ha.order);if(ha&&ha.fields)if(ha=ha.fields,void 0!=H&&null!=Q)Q=this._filterFields(Q,ha);else for(Ja=0,D=z.length;Ja<D;Ja++)z[Ja]=this._filterFields(z[Ja],ha);if("Object"==G){H={};G=0;for(Q=z.length;G<Q;G++)ha=z[G],H[ha[this._idProp]]=ha;return H}return null!=H?Q:
z}},{key:"getIds",value:function(z){var G=this._data,H=z&&z.filter,R=z&&z.order,ha=z&&z.type||this._options.type,Ja=P(G.keys());z=[];if(H)if(R){var D=[];G=0;for(var Q=Ja.length;G<Q;G++){var oa=this._getItem(Ja[G],ha);H(oa)&&D.push(oa)}this._sort(D,R);Ja=0;for(oa=D.length;Ja<oa;Ja++)z.push(D[Ja][this._idProp])}else for(D=0,G=Ja.length;D<G;D++)oa=this._getItem(Ja[D],ha),H(oa)&&z.push(oa[this._idProp]);else if(R){D=[];oa=0;for(H=Ja.length;oa<H;oa++)D.push(G.get(Ja[oa]));this._sort(D,R);Ja=0;for(oa=D.length;Ja<
oa;Ja++)z.push(D[Ja][this._idProp])}else for(D=0,H=Ja.length;D<H;D++)oa=G.get(Ja[D]),z.push(oa[this._idProp]);return z}},{key:"getDataSet",value:function(){return this}},{key:"forEach",value:function(z,G){var H=G&&G.filter,R=G&&G.type||this._options.type,ha=P(this._data.keys());if(G&&G.order)for(H=this.get(G),R=0,ha=H.length;R<ha;R++)G=H[R],z(G,G[this._idProp]);else{G=0;for(var Ja=ha.length;G<Ja;G++){var D=ha[G],Q=this._getItem(D,R);H&&!H(Q)||z(Q,D)}}}},{key:"map",value:function(z,G){for(var H=G&&
G.filter,R=G&&G.type||this._options.type,ha=[],Ja=P(this._data.keys()),D=0,Q=Ja.length;D<Q;D++){var oa=Ja[D],Fa=this._getItem(oa,R);H&&!H(Fa)||ha.push(z(Fa,oa))}G&&G.order&&this._sort(ha,G.order);return ha}},{key:"_filterFields",value:function(z,G){return z?(Array.isArray(G)?G:Object.keys(G)).reduce(function(H,R){H[R]=z[R];return H},{}):z}},{key:"_sort",value:function(z,G){if("string"===typeof G)z.sort(function(H,R){H=H[G];R=R[G];return H>R?1:H<R?-1:0});else if("function"===typeof G)z.sort(G);else throw new TypeError("Order must be a function or a string");
}},{key:"remove",value:function(z,G){var H=[],R=[];z=Array.isArray(z)?z:[z];for(var ha=0,Ja=z.length;ha<Ja;ha++){var D=this._remove(z[ha]);if(D){var Q=D[this._idProp];null!=Q&&(H.push(Q),R.push(D))}}H.length&&this._trigger("remove",{items:H,oldData:R},G);return H}},{key:"_remove",value:function(z){var G;ya(z)?G=z:z&&"object"===Ma(z)&&(G=z[this._idProp]);return null!=G&&this._data.has(G)?(z=this._data.get(G)||null,this._data["delete"](G),--this.length,z):null}},{key:"clear",value:function(z){for(var G=
P(this._data.keys()),H=[],R=0,ha=G.length;R<ha;R++)H.push(this._data.get(G[R]));this._data.clear();this.length=0;this._trigger("remove",{items:G,oldData:H},z);return G}},{key:"max",value:function(z){var G=null,H=null,R=!0,ha=!1,Ja=void 0;try{for(var D=this._data.values()[Symbol.iterator](),Q;!(R=(Q=D.next()).done);R=!0){var oa=Q.value,Fa=oa[z];"number"===typeof Fa&&(null==H||Fa>H)&&(G=oa,H=Fa)}}catch(Ga){ha=!0,Ja=Ga}finally{try{if(!R&&null!=D["return"])D["return"]()}finally{if(ha)throw Ja;}}return G||
null}},{key:"min",value:function(z){var G=null,H=null,R=!0,ha=!1,Ja=void 0;try{for(var D=this._data.values()[Symbol.iterator](),Q;!(R=(Q=D.next()).done);R=!0){var oa=Q.value,Fa=oa[z];"number"===typeof Fa&&(null==H||Fa<H)&&(G=oa,H=Fa)}}catch(Ga){ha=!0,Ja=Ga}finally{try{if(!R&&null!=D["return"])D["return"]()}finally{if(ha)throw Ja;}}return G||null}},{key:"distinct",value:function(z){for(var G=this._data,H=P(G.keys()),R=[],ha=this._options.type&&this._options.type[z]||null,Ja=0,D=0,Q=H.length;D<Q;D++){for(var oa=
G.get(H[D])[z],Fa=!1,Ga=0;Ga<Ja;Ga++)if(R[Ga]==oa){Fa=!0;break}Fa||void 0===oa||(R[Ja]=oa,Ja++)}if(ha)for(z=0,G=R.length;z<G;z++)R[z]=qa(R[z],ha);return R}},{key:"_addItem",value:function(z){var G=z[this._idProp];if(null!=G){if(this._data.has(G))throw Error("Cannot add item: item with id "+G+" already exists");}else G=(0,ia.v4)(),z[this._idProp]=G;for(var H={},R=Object.keys(z),ha=0,Ja=R.length;ha<Ja;ha++){var D=R[ha];H[D]=qa(z[D],this._type[D])}this._data.set(G,H);++this.length;return G}},{key:"_getItem",
value:function(z,G){z=this._data.get(z);if(!z)return null;var H=Object.keys(z);if(G){f();var R={};for(var ha=0,Ja=H.length;ha<Ja;ha++){var D=H[ha];R[D]=qa(z[D],G[D])}}else R=ma({},z);null==R[this._idProp]&&(R[this._idProp]=z.id);return R}},{key:"_updateItem",value:function(z){var G=z[this._idProp];if(null==G)throw Error("Cannot update item: item has no id (item: "+JSON.stringify(z)+")");var H=this._data.get(G);if(!H)throw Error("Cannot update item: no item with id "+G+" found");for(var R=Object.keys(z),
ha=0,Ja=R.length;ha<Ja;ha++){var D=R[ha];H[D]=qa(z[D],this._type[D])}return G}},{key:"stream",value:function(z){if(z){var G=this._data;return new d(Ea({},Symbol.iterator,regeneratorRuntime.mark(function R(){var ha,Ja,D,Q,oa,Fa,Ga;return regeneratorRuntime.wrap(function(xb){for(;;)switch(xb.prev=xb.next){case 0:ha=!0,Ja=!1,D=void 0,xb.prev=3,Q=z[Symbol.iterator]();case 5:if(ha=(oa=Q.next()).done){xb.next=14;break}Fa=oa.value;Ga=G.get(Fa);if(null==Ga){xb.next=11;break}xb.next=11;return[Fa,Ga];case 11:ha=
!0;xb.next=5;break;case 14:xb.next=20;break;case 16:xb.prev=16,xb.t0=xb["catch"](3),Ja=!0,D=xb.t0;case 20:if(xb.prev=20,xb.prev=21,!ha&&null!=Q["return"])Q["return"]();case 23:xb.prev=23;if(!Ja){xb.next=26;break}throw D;case 26:return xb.finish(23);case 27:return xb.finish(20);case 28:case "end":return xb.stop()}},R,null,[[3,16,20,28],[21,,23,27]])})))}return new d(Ea({},Symbol.iterator,this._data.entries.bind(this._data)))}}]);return w}(Nc);wb.DataSet=l;Nc=function(q){function w(z,G){ca(this,w);
var H=y(this,X(w).call(this));H.length=0;H._ids=new Set;H._options=G||{};H._listener=H._onEvent.bind(O(H));H.setData(z);return H}la(w,q);ra(w,[{key:"setData",value:function(z){if(this._data){this._data.off&&this._data.off("*",this._listener);var G=this._data.getIds({filter:this._options.filter}),H=this._data.get(G);this._ids.clear();this.length=0;this._trigger("remove",{items:G,oldData:H})}if(null!=z){this._data=z;z=this._data.getIds({filter:this._options.filter});G=0;for(H=z.length;G<H;G++)this._ids.add(z[G]);
this.length=z.length;this._trigger("add",{items:z})}else this._data=new l;if(this._data.on)this._data.on("*",this._listener)}},{key:"refresh",value:function(){for(var z=this._data.getIds({filter:this._options.filter}),G=P(this._ids),H={},R=[],ha=[],Ja=[],D=0,Q=z.length;D<Q;D++){var oa=z[D];H[oa]=!0;this._ids.has(oa)||(R.push(oa),this._ids.add(oa))}z=0;for(D=G.length;z<D;z++)Q=G[z],oa=this._data.get(Q),null==oa?console.error("If you see this, report it please."):H[Q]||(ha.push(Q),Ja.push(oa),this._ids["delete"](Q));
this.length+=R.length-ha.length;R.length&&this._trigger("add",{items:R});ha.length&&this._trigger("remove",{items:ha,oldData:Ja})}},{key:"get",value:function(z,G){if(null==this._data)return null;var H=null;if(ya(z)||Array.isArray(z))H=z,z=G;G=Object.assign({},this._options,z);var R=this._options.filter,ha=z&&z.filter;R&&ha&&(G.filter=function(Ja){return R(Ja)&&ha(Ja)});return null==H?this._data.get(G):this._data.get(H,G)}},{key:"getIds",value:function(z){if(this._data.length){var G=this._options.filter,
H=null!=z?z.filter:null;return this._data.getIds({filter:H?G?function(R){return G(R)&&H(R)}:H:G,order:z&&z.order})}return[]}},{key:"forEach",value:function(z,G){if(this._data){var H=this._options.filter,R=G&&G.filter;this._data.forEach(z,{filter:R?H?function(ha){return H(ha)&&R(ha)}:R:H,order:G&&G.order})}}},{key:"map",value:function(z,G){if(this._data){var H=this._options.filter,R=G&&G.filter;return this._data.map(z,{filter:R?H?function(ha){return H(ha)&&R(ha)}:R:H,order:G&&G.order})}return[]}},
{key:"getDataSet",value:function(){return this._data.getDataSet()}},{key:"stream",value:function(z){return this._data.stream(z||Ea({},Symbol.iterator,this._ids.keys.bind(this._ids)))}},{key:"dispose",value:function(){var z;(null===(z=this._data)||void 0===z?0:z.off)&&this._data.off("*",this._listener);Object.defineProperty(this,"_data",{get:function(){throw Error("This data view has already been disposed of.");},set:function(){throw Error("This data view has already been disposed of.");},configurable:!1})}},
{key:"_onEvent",value:function(z,G,H){if(G&&G.items&&this._data){var R=G.items,ha=[],Ja=[],D=[],Q=[],oa=[],Fa=[];switch(z){case "add":G=0;for(z=R.length;G<z;G++){var Ga=R[G];this.get(Ga)&&(this._ids.add(Ga),ha.push(Ga))}break;case "update":z=0;for(Ga=R.length;z<Ga;z++){var xb=R[z];this.get(xb)?this._ids.has(xb)?(Ja.push(xb),oa.push(G.data[z]),Q.push(G.oldData[z])):(this._ids.add(xb),ha.push(xb)):this._ids.has(xb)&&(this._ids["delete"](xb),D.push(xb),Fa.push(G.oldData[z]))}break;case "remove":for(z=
0,Ga=R.length;z<Ga;z++)xb=R[z],this._ids.has(xb)&&(this._ids["delete"](xb),D.push(xb),Fa.push(G.oldData[z]))}this.length+=ha.length-D.length;ha.length&&this._trigger("add",{items:ha},H);Ja.length&&this._trigger("update",{items:Ja,oldData:Q,data:oa},H);D.length&&this._trigger("remove",{items:D,oldData:Fa},H)}}}]);return w}(Nc);wb.DataView=Nc}
goog.provide("module$node_modules$vis_data$esnext$esm$vis_data");
goog.global. module$node_modules$vis_data$esnext$esm$vis_data=shadow.js.require(64, {});
