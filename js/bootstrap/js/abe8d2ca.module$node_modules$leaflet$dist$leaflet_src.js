shadow$provide[2]=function(Nc,Vb,pc,wb){(function(p,ma){"object"===typeof wb&&"undefined"!==typeof pc?ma(wb):"function"===typeof define&&define.amd?define(["exports"],ma):ma(p.L={})})(this,function(p){function ma(c){var n,I;var ba=1;for(I=arguments.length;ba<I;ba++){var wa=arguments[ba];for(n in wa)c[n]=wa[n]}return c}function Ma(c,n){var I=Array.prototype.slice;if(c.bind)return c.bind.apply(c,I.call(arguments,1));var ba=I.call(arguments,2);return function(){return c.apply(n,ba.length?ba.concat(I.call(arguments)):
arguments)}}function y(c){c._leaflet_id=c._leaflet_id||++dc;return c._leaflet_id}function O(c,n,I){var ba,wa,rb;var Ab=function(){ba=!1;wa&&(rb.apply(I,wa),wa=!1)};return rb=function(){ba?wa=arguments:(c.apply(I,arguments),setTimeout(Ab,n),ba=!0)}}function X(c,n,I){var ba=n[1];n=n[0];var wa=ba-n;return c===ba&&I?c:((c-n)%wa+wa)%wa+n}function la(){return!1}function ua(c,n){n=Math.pow(10,void 0===n?6:n);return Math.round(c*n)/n}function Ea(c){return c.trim?c.trim():c.replace(/^\s+|\s+$/g,"")}function ka(c){return Ea(c).split(/\s+/)}
function P(c,n){c.hasOwnProperty("options")||(c.options=c.options?fc(c.options):{});for(var I in n)c.options[I]=n[I];return c.options}function ca(c,n,I){var ba=[],wa;for(wa in c)ba.push(encodeURIComponent(I?wa.toUpperCase():wa)+"\x3d"+encodeURIComponent(c[wa]));return(n&&-1!==n.indexOf("?")?"\x26":"?")+ba.join("\x26")}function va(c,n){return c.replace(vc,function(I,ba){ba=n[ba];if(void 0===ba)throw Error("No value provided for variable "+I);"function"===typeof ba&&(ba=ba(n));return ba})}function ra(c,
n){for(var I=0;I<c.length;I++)if(c[I]===n)return I;return-1}function Y(c){return window["webkit"+c]||window["moz"+c]||window["ms"+c]}function qa(c){var n=+new Date,I=Math.max(0,16-(n-Vc));Vc=n+I;return window.setTimeout(c,I)}function ya(c,n,I){if(I&&bd===qa)c.call(n);else return bd.call(window,Ma(c,n))}function ia(c){c&&Uc.call(window,c)}function ea(){}function Ha(c){if("undefined"!==typeof L&&L&&L.Mixin){c=xc(c)?c:[c];for(var n=0;n<c.length;n++)c[n]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",
Error().stack)}}function aa(c,n,I){this.x=I?Math.round(c):c;this.y=I?Math.round(n):n}function Ba(c,n,I){return c instanceof aa?c:xc(c)?new aa(c[0],c[1]):void 0===c||null===c?c:"object"===typeof c&&"x"in c&&"y"in c?new aa(c.x,c.y):new aa(c,n,I)}function Va(c,n){if(c){c=n?[c,n]:c;n=0;for(var I=c.length;n<I;n++)this.extend(c[n])}}function Ya(c,n){return!c||c instanceof Va?c:new Va(c,n)}function d(c,n){if(c){c=n?[c,n]:c;n=0;for(var I=c.length;n<I;n++)this.extend(c[n])}}function f(c,n){return c instanceof
d?c:new d(c,n)}function l(c,n,I){if(isNaN(c)||isNaN(n))throw Error("Invalid LatLng object: ("+c+", "+n+")");this.lat=+c;this.lng=+n;void 0!==I&&(this.alt=+I)}function q(c,n,I){return c instanceof l?c:xc(c)&&"object"!==typeof c[0]?3===c.length?new l(c[0],c[1],c[2]):2===c.length?new l(c[0],c[1]):null:void 0===c||null===c?c:"object"===typeof c&&"lat"in c?new l(c.lat,"lng"in c?c.lng:c.lon,c.alt):void 0===n?null:new l(c,n,I)}function w(c,n,I,ba){xc(c)?(this._a=c[0],this._b=c[1],this._c=c[2],this._d=c[3]):
(this._a=c,this._b=n,this._c=I,this._d=ba)}function z(c,n,I,ba){return new w(c,n,I,ba)}function G(c){return document.createElementNS("http://www.w3.org/2000/svg",c)}function H(c,n){var I="",ba,wa;var rb=0;for(ba=c.length;rb<ba;rb++){var Ab=c[rb];var Jb=0;for(wa=Ab.length;Jb<wa;Jb++){var Qb=Ab[Jb];I+=(Jb?"L":"M")+Qb.x+" "+Qb.y}I+=n?Vd?"z":"x":""}return I||"M0 0"}function R(c){return 0<=navigator.userAgent.toLowerCase().indexOf(c)}function ha(c,n,I,ba){"touchstart"===n?D(c,I,ba):"touchmove"===n?xb(c,
I,ba):"touchend"===n&&Hb(c,I,ba);return this}function Ja(c,n,I){I=c["_leaflet_"+n+I];"touchstart"===n?c.removeEventListener(Ke,I,!1):"touchmove"===n?c.removeEventListener(Pe,I,!1):"touchend"===n&&(c.removeEventListener(Ge,I,!1),c.removeEventListener(B,I,!1));return this}function D(c,n,I){var ba=Ma(function(wa){if("mouse"!==wa.pointerType&&wa.MSPOINTER_TYPE_MOUSE&&wa.pointerType!==wa.MSPOINTER_TYPE_MOUSE)if(0>T.indexOf(wa.target.tagName))Wb(wa);else return;Ga(wa,n)});c["_leaflet_touchstart"+I]=ba;
c.addEventListener(Ke,ba,!1);Da||(document.documentElement.addEventListener(Ke,Q,!0),document.documentElement.addEventListener(Pe,oa,!0),document.documentElement.addEventListener(Ge,Fa,!0),document.documentElement.addEventListener(B,Fa,!0),Da=!0)}function Q(c){pa[c.pointerId]=c;ab++}function oa(c){pa[c.pointerId]&&(pa[c.pointerId]=c)}function Fa(c){delete pa[c.pointerId];ab--}function Ga(c,n){c.touches=[];for(var I in pa)c.touches.push(pa[I]);c.changedTouches=[c];n(c)}function xb(c,n,I){var ba=function(wa){(wa.pointerType!==
wa.MSPOINTER_TYPE_MOUSE&&"mouse"!==wa.pointerType||0!==wa.buttons)&&Ga(wa,n)};c["_leaflet_touchmove"+I]=ba;c.addEventListener(Pe,ba,!1)}function Hb(c,n,I){var ba=function(wa){Ga(wa,n)};c["_leaflet_touchend"+I]=ba;c.addEventListener(Ge,ba,!1);c.addEventListener(B,ba,!1)}function Kb(c,n,I){function ba(Qb){if(yd){if(!m||"mouse"===Qb.pointerType)return;var Ac=ab}else Ac=Qb.touches.length;if(!(1<Ac)){Ac=Date.now();var Oc=Ac-(rb||Ac);Ab=Qb.touches?Qb.touches[0]:Qb;Jb=0<Oc&&250>=Oc;rb=Ac}}function wa(Qb){if(Jb&&
!Ab.cancelBubble){if(yd){if(!m||"mouse"===Qb.pointerType)return;Qb={};var Ac;for(Ac in Ab){var Oc=Ab[Ac];Qb[Ac]=Oc&&Oc.bind?Oc.bind(Ab):Oc}Ab=Qb}Ab.type="dblclick";Ab.button=0;n(Ab);rb=null}}var rb,Ab,Jb=!1;c["_leaflet_"+ob+I]=ba;c["_leaflet_"+N+I]=wa;c["_leaflet_dblclick"+I]=n;c.addEventListener(ob,ba,Td?{passive:!1}:!1);c.addEventListener(N,wa,Td?{passive:!1}:!1);c.addEventListener("dblclick",n,!1);return this}function Cb(c,n){var I=c["_leaflet_"+N+n],ba=c["_leaflet_dblclick"+n];c.removeEventListener(ob,
c["_leaflet_"+ob+n],Td?{passive:!1}:!1);c.removeEventListener(N,I,Td?{passive:!1}:!1);m||c.removeEventListener("dblclick",ba,!1);return this}function ib(c){return"string"===typeof c?document.getElementById(c):c}function Ib(c,n){var I=c.style[n]||c.currentStyle&&c.currentStyle[n];I&&"auto"!==I||!document.defaultView||(I=(c=document.defaultView.getComputedStyle(c,null))?c[n]:null);return"auto"===I?null:I}function Oa(c,n,I){c=document.createElement(c);c.className=n||"";I&&I.appendChild(c);return c}function Ua(c){var n=
c.parentNode;n&&n.removeChild(c)}function Pa(c){for(;c.firstChild;)c.removeChild(c.firstChild)}function ja(c){var n=c.parentNode;n&&n.lastChild!==c&&n.appendChild(c)}function Qa(c){var n=c.parentNode;n&&n.firstChild!==c&&n.insertBefore(c,n.firstChild)}function Za(c,n){if(void 0!==c.classList)return c.classList.contains(n);c=kb(c);return 0<c.length&&(new RegExp("(^|\\s)"+n+"(\\s|$)")).test(c)}function qb(c,n){if(void 0!==c.classList){n=ka(n);for(var I=0,ba=n.length;I<ba;I++)c.classList.add(n[I])}else Za(c,
n)||(I=kb(c),Na(c,(I?I+" ":"")+n))}function La(c,n){void 0!==c.classList?c.classList.remove(n):Na(c,Ea((" "+kb(c)+" ").replace(" "+n+" "," ")))}function Na(c,n){void 0===c.className.baseVal?c.className=n:c.className.baseVal=n}function kb(c){c.correspondingElement&&(c=c.correspondingElement);return void 0===c.className.baseVal?c.className:c.className.baseVal}function Sa(c,n){if("opacity"in c.style)c.style.opacity=n;else if("filter"in c.style)a:{var I=!1;try{I=c.filters.item("DXImageTransform.Microsoft.Alpha")}catch(ba){if(1===
n)break a}n=Math.round(100*n);I?(I.Enabled=100!==n,I.Opacity=n):c.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(opacity\x3d"+n+")"}}function vb(c){for(var n=document.documentElement.style,I=0;I<c.length;I++)if(c[I]in n)return c[I];return!1}function jb(c,n,I){n=n||new aa(0,0);c.style[a]=(Bc?"translate("+n.x+"px,"+n.y+"px)":"translate3d("+n.x+"px,"+n.y+"px,0)")+(I?" scale("+I+")":"")}function nb(c,n){c._leaflet_pos=n;pd?jb(c,n):(c.style.left=n.x+"px",c.style.top=n.y+"px")}function sb(c){return c._leaflet_pos||
new aa(0,0)}function hc(){ec(window,"dragstart",Wb)}function Nb(){lb(window,"dragstart",Wb)}function cc(c){for(;-1===c.tabIndex;)c=c.parentNode;c.style&&(nc(),eb=c,Eb=c.style.outline,c.style.outline="none",ec(window,"keydown",nc))}function nc(){eb&&(eb.style.outline=Eb,Eb=eb=void 0,lb(window,"keydown",nc))}function Fc(c){do c=c.parentNode;while(!(c.offsetWidth&&c.offsetHeight||c===document.body));return c}function oc(c){var n=c.getBoundingClientRect();return{x:n.width/c.offsetWidth||1,y:n.height/
c.offsetHeight||1,boundingClientRect:n}}function ec(c,n,I,ba){if("object"===typeof n)for(var wa in n)Gb(c,wa,n[wa],I);else{n=ka(n);wa=0;for(var rb=n.length;wa<rb;wa++)Gb(c,n[wa],I,ba)}return this}function lb(c,n,I,ba){if("object"===typeof n)for(var wa in n)kc(c,wa,n[wa],I);else if(n){n=ka(n);wa=0;for(var rb=n.length;wa<rb;wa++)kc(c,n[wa],I,ba)}else{for(rb in c[jc])kc(c,rb,c[jc][rb]);delete c[jc]}return this}function Gb(c,n,I,ba){var wa=n+y(I)+(ba?"_"+y(ba):"");if(c[jc]&&c[jc][wa])return this;var rb=
function(Jb){return I.call(ba||c,Jb||window.event)},Ab=rb;yd&&0===n.indexOf("touch")?ha(c,n,rb,wa):!Wc||"dblclick"!==n||!Kb||yd&&bb?"addEventListener"in c?"mousewheel"===n?c.addEventListener("onwheel"in c?"wheel":"mousewheel",rb,Td?{passive:!1}:!1):"mouseenter"===n||"mouseleave"===n?(rb=function(Jb){Jb=Jb||window.event;Ia(c,Jb)&&Ab(Jb)},c.addEventListener("mouseenter"===n?"mouseover":"mouseout",rb,!1)):("click"===n&&r&&(rb=function(Jb){var Qb=Jb.timeStamp||Jb.originalEvent&&Jb.originalEvent.timeStamp,
Ac=Ic&&Qb-Ic;Ac&&100<Ac&&500>Ac||Jb.target._simulatedClick&&!Jb._simulated?Ub(Jb):(Ic=Qb,Ab(Jb))}),c.addEventListener(n,rb,!1)):"attachEvent"in c&&c.attachEvent("on"+n,rb):Kb(c,rb,wa);c[jc]=c[jc]||{};c[jc][wa]=rb}function kc(c,n,I,ba){I=n+y(I)+(ba?"_"+y(ba):"");ba=c[jc]&&c[jc][I];if(!ba)return this;yd&&0===n.indexOf("touch")?Ja(c,n,I):!Wc||"dblclick"!==n||!Cb||yd&&bb?"removeEventListener"in c?"mousewheel"===n?c.removeEventListener("onwheel"in c?"wheel":"mousewheel",ba,Td?{passive:!1}:!1):c.removeEventListener("mouseenter"===
n?"mouseover":"mouseleave"===n?"mouseout":n,ba,!1):"detachEvent"in c&&c.detachEvent("on"+n,ba):Cb(c,I);c[jc][I]=null}function V(c){c.stopPropagation?c.stopPropagation():c.originalEvent?c.originalEvent._stopped=!0:c.cancelBubble=!0;cb(c);return this}function hb(c){Gb(c,"mousewheel",V);return this}function Mb(c){ec(c,"mousedown touchstart dblclick",V);Gb(c,"click",xa);return this}function Wb(c){c.preventDefault?c.preventDefault():c.returnValue=!1;return this}function Ub(c){Wb(c);V(c);return this}function lc(c,
n){if(!n)return new aa(c.clientX,c.clientY);var I=oc(n),ba=I.boundingClientRect;return new aa((c.clientX-ba.left)/I.x-n.clientLeft,(c.clientY-ba.top)/I.y-n.clientTop)}function gb(c){return m?c.wheelDeltaY/2:c.deltaY&&0===c.deltaMode?-c.deltaY/uc:c.deltaY&&1===c.deltaMode?20*-c.deltaY:c.deltaY&&2===c.deltaMode?60*-c.deltaY:c.deltaX||c.deltaZ?0:c.wheelDelta?(c.wheelDeltaY||c.wheelDelta)/2:c.detail&&32765>Math.abs(c.detail)?20*-c.detail:c.detail?c.detail/-32765*60:0}function xa(c){zc[c.type]=!0}function cb(c){var n=
zc[c.type];zc[c.type]=!1;return n}function Ia(c,n){n=n.relatedTarget;if(!n)return!0;try{for(;n&&n!==c;)n=n.parentNode}catch(I){return!1}return n!==c}function mb(c,n){if(!n||!c.length)return c.slice();n*=n;for(var I=[c[0]],ba=1,wa=0,rb=c.length;ba<rb;ba++){var Ab=c[ba],Jb=c[wa],Qb=Jb.x-Ab.x;Ab=Jb.y-Ab.y;Qb*Qb+Ab*Ab>n&&(I.push(c[ba]),wa=ba)}wa<rb-1&&I.push(c[rb-1]);c=I;I=c.length;ba=new ("undefined"!==typeof Uint8Array?Uint8Array:Array)(I);ba[0]=ba[I-1]=1;Xb(c,ba,n,0,I-1);wa=[];for(n=0;n<I;n++)ba[n]&&
wa.push(c[n]);return wa}function Sb(c,n,I){return Math.sqrt(ud(c,n,I,!0))}function Xb(c,n,I,ba,wa){var rb=0,Ab;for(Ab=ba+1;Ab<=wa-1;Ab++){var Jb=ud(c[Ab],c[ba],c[wa],!0);if(Jb>rb){var Qb=Ab;rb=Jb}}rb>I&&(n[Qb]=1,Xb(c,n,I,ba,Qb),Xb(c,n,I,Qb,wa))}function tc(c,n,I,ba,wa){ba=ba?Fe:dd(c,I);var rb=dd(n,I);for(Fe=rb;;){if(!(ba|rb))return[c,n];if(ba&rb)return!1;var Ab=ba||rb;var Jb=Ec(c,n,Ab,I,wa);var Qb=dd(Jb,I);Ab===ba?(c=Jb,ba=Qb):(n=Jb,rb=Qb)}}function Ec(c,n,I,ba,wa){var rb=n.x-c.x;n=n.y-c.y;var Ab=
ba.min;ba=ba.max;if(I&8){var Jb=c.x+rb*(ba.y-c.y)/n;var Qb=ba.y}else I&4?(Jb=c.x+rb*(Ab.y-c.y)/n,Qb=Ab.y):I&2?(Jb=ba.x,Qb=c.y+n*(ba.x-c.x)/rb):I&1&&(Jb=Ab.x,Qb=c.y+n*(Ab.x-c.x)/rb);return new aa(Jb,Qb,wa)}function dd(c,n){var I=0;c.x<n.min.x?I|=1:c.x>n.max.x&&(I|=2);c.y<n.min.y?I|=4:c.y>n.max.y&&(I|=8);return I}function ud(c,n,I,ba){var wa=n.x;n=n.y;var rb=I.x-wa,Ab=I.y-n,Jb=rb*rb+Ab*Ab;0<Jb&&(Jb=((c.x-wa)*rb+(c.y-n)*Ab)/Jb,1<Jb?(wa=I.x,n=I.y):0<Jb&&(wa+=rb*Jb,n+=Ab*Jb));rb=c.x-wa;Ab=c.y-n;return ba?
rb*rb+Ab*Ab:new aa(wa,n)}function Yc(c){return!xc(c[0])||"object"!==typeof c[0][0]&&"undefined"!==typeof c[0][0]}function Id(c){console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead.");return Yc(c)}function Wd(c,n,I){var ba=[1,4,2,8],wa,rb,Ab;var Jb=0;for(Ab=c.length;Jb<Ab;Jb++)c[Jb]._code=dd(c[Jb],n);for(rb=0;4>rb;rb++){var Qb=ba[rb];var Ac=[];Jb=0;Ab=c.length;for(wa=Ab-1;Jb<Ab;wa=Jb++){var Oc=c[Jb];wa=c[wa];Oc._code&Qb?wa._code&Qb||(wa=Ec(wa,Oc,Qb,n,I),wa._code=dd(wa,n),Ac.push(wa)):
(wa._code&Qb&&(wa=Ec(wa,Oc,Qb,n,I),wa._code=dd(wa,n),Ac.push(wa)),Ac.push(Oc))}c=Ac}return c}function ge(c,n){var I="Feature"===c.type?c.geometry:c,ba=I?I.coordinates:null,wa=[],rb=n&&n.pointToLayer,Ab=n&&n.coordsToLatLng||Qd,Jb;if(!ba&&!I)return null;switch(I.type){case "Point":return I=Ab(ba),Ld(rb,c,I,n);case "MultiPoint":var Qb=0;for(Jb=ba.length;Qb<Jb;Qb++)I=Ab(ba[Qb]),wa.push(Ld(rb,c,I,n));return new Oe(wa);case "LineString":case "MultiLineString":return c=Dd(ba,"LineString"===I.type?0:1,Ab),
new Ka(c,n);case "Polygon":case "MultiPolygon":return c=Dd(ba,"Polygon"===I.type?1:2,Ab),new pb(c,n);case "GeometryCollection":Qb=0;for(Jb=I.geometries.length;Qb<Jb;Qb++)(ba=ge({geometry:I.geometries[Qb],type:"Feature",properties:c.properties},n))&&wa.push(ba);return new Oe(wa);default:throw Error("Invalid GeoJSON object.");}}function Ld(c,n,I,ba){return c?c(n,I):new zd(I,ba&&ba.markersInheritOptions&&ba)}function Qd(c){return new l(c[1],c[0],c[2])}function Dd(c,n,I){for(var ba=[],wa=0,rb=c.length,
Ab;wa<rb;wa++)Ab=n?Dd(c[wa],n-1,I):(I||Qd)(c[wa]),ba.push(Ab);return ba}function Gc(c,n){n="number"===typeof n?n:6;return void 0!==c.alt?[ua(c.lng,n),ua(c.lat,n),ua(c.alt,n)]:[ua(c.lng,n),ua(c.lat,n)]}function fb(c,n,I,ba){for(var wa=[],rb=0,Ab=c.length;rb<Ab;rb++)wa.push(n?fb(c[rb],n-1,I,ba):Gc(c[rb],ba));!n&&I&&wa.push(wa[0]);return wa}function Db(c,n){return c.feature?ma({},c.feature,{geometry:n}):gc(n)}function gc(c){return"Feature"===c.type||"FeatureCollection"===c.type?c:{type:"Feature",properties:{},
geometry:c}}function sc(c,n){return new bc(c,n)}function wc(c,n){return new Ad(c,n)}function Mc(c){return pe?new Te(c):null}function ic(c){return Vd||qe?new Ne(c):null}var zb=Object.freeze;Object.freeze=function(c){return c};var fc=Object.create||function(){function c(){}return function(n){c.prototype=n;return new c}}(),dc=0,vc=/\{ *([\w_-]+) *\}/g,xc=Array.isArray||function(c){return"[object Array]"===Object.prototype.toString.call(c)},Vc=0,bd=window.requestAnimationFrame||Y("RequestAnimationFrame")||
qa,Uc=window.cancelAnimationFrame||Y("CancelAnimationFrame")||Y("CancelRequestAnimationFrame")||function(c){window.clearTimeout(c)},F=(Object.freeze||Object)({freeze:zb,extend:ma,create:fc,bind:Ma,lastId:dc,stamp:y,throttle:O,wrapNum:X,falseFn:la,formatNum:ua,trim:Ea,splitWords:ka,setOptions:P,getParamString:ca,template:va,isArray:xc,indexOf:ra,emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs\x3d",requestFn:bd,cancelFn:Uc,requestAnimFrame:ya,cancelAnimFrame:ia});ea.extend=
function(c){var n=function(){this.initialize&&this.initialize.apply(this,arguments);this.callInitHooks()},I=n.__super__=this.prototype,ba=fc(I);ba.constructor=n;n.prototype=ba;for(var wa in this)this.hasOwnProperty(wa)&&"prototype"!==wa&&"__super__"!==wa&&(n[wa]=this[wa]);c.statics&&(ma(n,c.statics),delete c.statics);c.includes&&(Ha(c.includes),ma.apply(null,[ba].concat(c.includes)),delete c.includes);ba.options&&(c.options=ma(fc(ba.options),c.options));ma(ba,c);ba._initHooks=[];ba.callInitHooks=
function(){if(!this._initHooksCalled){I.callInitHooks&&I.callInitHooks.call(this);this._initHooksCalled=!0;for(var rb=0,Ab=ba._initHooks.length;rb<Ab;rb++)ba._initHooks[rb].call(this)}};return n};ea.include=function(c){ma(this.prototype,c);return this};ea.mergeOptions=function(c){ma(this.prototype.options,c);return this};ea.addInitHook=function(c){var n=Array.prototype.slice.call(arguments,1);this.prototype._initHooks=this.prototype._initHooks||[];this.prototype._initHooks.push("function"===typeof c?
c:function(){this[c].apply(this,n)});return this};var M={on:function(c,n,I){if("object"===typeof c)for(var ba in c)this._on(ba,c[ba],n);else{c=ka(c);ba=0;for(var wa=c.length;ba<wa;ba++)this._on(c[ba],n,I)}return this},off:function(c,n,I){if(c)if("object"===typeof c)for(var ba in c)this._off(ba,c[ba],n);else{c=ka(c);ba=0;for(var wa=c.length;ba<wa;ba++)this._off(c[ba],n,I)}else delete this._events;return this},_on:function(c,n,I){this._events=this._events||{};var ba=this._events[c];ba||(ba=[],this._events[c]=
ba);I===this&&(I=void 0);c={fn:n,ctx:I};for(var wa=0,rb=ba.length;wa<rb;wa++)if(ba[wa].fn===n&&ba[wa].ctx===I)return;ba.push(c)},_off:function(c,n,I){var ba,wa;if(this._events&&(ba=this._events[c]))if(n){if(I===this&&(I=void 0),ba){var rb=0;for(wa=ba.length;rb<wa;rb++){var Ab=ba[rb];if(Ab.ctx===I&&Ab.fn===n){Ab.fn=la;this._firingCount&&(this._events[c]=ba=ba.slice());ba.splice(rb,1);break}}}}else{rb=0;for(wa=ba.length;rb<wa;rb++)ba[rb].fn=la;delete this._events[c]}},fire:function(c,n,I){if(!this.listens(c,
I))return this;n=ma({},n,{type:c,target:this,sourceTarget:n&&n.sourceTarget||this});if(this._events&&(c=this._events[c])){this._firingCount=this._firingCount+1||1;for(var ba=0,wa=c.length;ba<wa;ba++){var rb=c[ba];rb.fn.call(rb.ctx||this,n)}this._firingCount--}I&&this._propagateEvent(n);return this},listens:function(c,n){var I=this._events&&this._events[c];if(I&&I.length)return!0;if(n)for(var ba in this._eventParents)if(this._eventParents[ba].listens(c,n))return!0;return!1},once:function(c,n,I){if("object"===
typeof c){for(var ba in c)this.once(ba,c[ba],n);return this}var wa=Ma(function(){this.off(c,n,I).off(c,wa,I)},this);return this.on(c,n,I).on(c,wa,I)},addEventParent:function(c){this._eventParents=this._eventParents||{};this._eventParents[y(c)]=c;return this},removeEventParent:function(c){this._eventParents&&delete this._eventParents[y(c)];return this},_propagateEvent:function(c){for(var n in this._eventParents)this._eventParents[n].fire(c.type,ma({layer:c.target,propagatedFrom:c.target},c),!0)}};
M.addEventListener=M.on;M.removeEventListener=M.clearAllEventListeners=M.off;M.addOneTimeEventListener=M.once;M.fireEvent=M.fire;M.hasEventListeners=M.listens;var da=ea.extend(M),Aa=Math.trunc||function(c){return 0<c?Math.floor(c):Math.ceil(c)};aa.prototype={clone:function(){return new aa(this.x,this.y)},add:function(c){return this.clone()._add(Ba(c))},_add:function(c){this.x+=c.x;this.y+=c.y;return this},subtract:function(c){return this.clone()._subtract(Ba(c))},_subtract:function(c){this.x-=c.x;
this.y-=c.y;return this},divideBy:function(c){return this.clone()._divideBy(c)},_divideBy:function(c){this.x/=c;this.y/=c;return this},multiplyBy:function(c){return this.clone()._multiplyBy(c)},_multiplyBy:function(c){this.x*=c;this.y*=c;return this},scaleBy:function(c){return new aa(this.x*c.x,this.y*c.y)},unscaleBy:function(c){return new aa(this.x/c.x,this.y/c.y)},round:function(){return this.clone()._round()},_round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},floor:function(){return this.clone()._floor()},
_floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},ceil:function(){return this.clone()._ceil()},_ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},trunc:function(){return this.clone()._trunc()},_trunc:function(){this.x=Aa(this.x);this.y=Aa(this.y);return this},distanceTo:function(c){c=Ba(c);var n=c.x-this.x;c=c.y-this.y;return Math.sqrt(n*n+c*c)},equals:function(c){c=Ba(c);return c.x===this.x&&c.y===this.y},contains:function(c){c=Ba(c);
return Math.abs(c.x)<=Math.abs(this.x)&&Math.abs(c.y)<=Math.abs(this.y)},toString:function(){return"Point("+ua(this.x)+", "+ua(this.y)+")"}};Va.prototype={extend:function(c){c=Ba(c);this.min||this.max?(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(c.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(c.y,this.max.y)):(this.min=c.clone(),this.max=c.clone());return this},getCenter:function(c){return new aa((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,c)},getBottomLeft:function(){return new aa(this.min.x,
this.max.y)},getTopRight:function(){return new aa(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(c){c="number"===typeof c[0]||c instanceof aa?Ba(c):Ya(c);if(c instanceof Va){var n=c.min;c=c.max}else n=c;return n.x>=this.min.x&&c.x<=this.max.x&&n.y>=this.min.y&&c.y<=this.max.y},intersects:function(c){c=Ya(c);var n=this.min,I=this.max,ba=c.min;c=c.max;var wa=c.y>=n.y&&
ba.y<=I.y;return c.x>=n.x&&ba.x<=I.x&&wa},overlaps:function(c){c=Ya(c);var n=this.min,I=this.max,ba=c.min;c=c.max;var wa=c.y>n.y&&ba.y<I.y;return c.x>n.x&&ba.x<I.x&&wa},isValid:function(){return!(!this.min||!this.max)}};d.prototype={extend:function(c){var n=this._southWest,I=this._northEast;if(c instanceof l)var ba=c;else if(c instanceof d){if(ba=c._southWest,c=c._northEast,!ba||!c)return this}else return c?this.extend(q(c)||f(c)):this;n||I?(n.lat=Math.min(ba.lat,n.lat),n.lng=Math.min(ba.lng,n.lng),
I.lat=Math.max(c.lat,I.lat),I.lng=Math.max(c.lng,I.lng)):(this._southWest=new l(ba.lat,ba.lng),this._northEast=new l(c.lat,c.lng));return this},pad:function(c){var n=this._southWest,I=this._northEast,ba=Math.abs(n.lat-I.lat)*c;c*=Math.abs(n.lng-I.lng);return new d(new l(n.lat-ba,n.lng-c),new l(I.lat+ba,I.lng+c))},getCenter:function(){return new l((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},
getNorthWest:function(){return new l(this.getNorth(),this.getWest())},getSouthEast:function(){return new l(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(c){c="number"===typeof c[0]||c instanceof l||"lat"in c?q(c):f(c);var n=this._southWest,I=this._northEast;if(c instanceof d){var ba=c.getSouthWest();c=c.getNorthEast()}else ba=
c;return ba.lat>=n.lat&&c.lat<=I.lat&&ba.lng>=n.lng&&c.lng<=I.lng},intersects:function(c){c=f(c);var n=this._southWest,I=this._northEast,ba=c.getSouthWest();c=c.getNorthEast();var wa=c.lng>=n.lng&&ba.lng<=I.lng;return c.lat>=n.lat&&ba.lat<=I.lat&&wa},overlaps:function(c){c=f(c);var n=this._southWest,I=this._northEast,ba=c.getSouthWest();c=c.getNorthEast();var wa=c.lng>n.lng&&ba.lng<I.lng;return c.lat>n.lat&&ba.lat<I.lat&&wa},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),
this.getNorth()].join()},equals:function(c,n){if(!c)return!1;c=f(c);return this._southWest.equals(c.getSouthWest(),n)&&this._northEast.equals(c.getNorthEast(),n)},isValid:function(){return!(!this._southWest||!this._northEast)}};l.prototype={equals:function(c,n){if(!c)return!1;c=q(c);return Math.max(Math.abs(this.lat-c.lat),Math.abs(this.lng-c.lng))<=(void 0===n?1E-9:n)},toString:function(c){return"LatLng("+ua(this.lat,c)+", "+ua(this.lng,c)+")"},distanceTo:function(c){return Ra.distance(this,q(c))},
wrap:function(){return Ra.wrapLatLng(this)},toBounds:function(c){c=180*c/40075017;var n=c/Math.cos(Math.PI/180*this.lat);return f([this.lat-c,this.lng-n],[this.lat+c,this.lng+n])},clone:function(){return new l(this.lat,this.lng,this.alt)}};var Wa={latLngToPoint:function(c,n){c=this.projection.project(c);n=this.scale(n);return this.transformation._transform(c,n)},pointToLatLng:function(c,n){n=this.scale(n);c=this.transformation.untransform(c,n);return this.projection.unproject(c)},project:function(c){return this.projection.project(c)},
unproject:function(c){return this.projection.unproject(c)},scale:function(c){return 256*Math.pow(2,c)},zoom:function(c){return Math.log(c/256)/Math.LN2},getProjectedBounds:function(c){if(this.infinite)return null;var n=this.projection.bounds,I=this.scale(c);c=this.transformation.transform(n.min,I);n=this.transformation.transform(n.max,I);return new Va(c,n)},infinite:!1,wrapLatLng:function(c){var n=this.wrapLng?X(c.lng,this.wrapLng,!0):c.lng,I=this.wrapLat?X(c.lat,this.wrapLat,!0):c.lat;return new l(I,
n,c.alt)},wrapLatLngBounds:function(c){var n=c.getCenter(),I=this.wrapLatLng(n),ba=n.lat-I.lat;n=n.lng-I.lng;if(0===ba&&0===n)return c;I=c.getSouthWest();c=c.getNorthEast();I=new l(I.lat-ba,I.lng-n);ba=new l(c.lat-ba,c.lng-n);return new d(I,ba)}},Ra=ma({},Wa,{wrapLng:[-180,180],R:6371E3,distance:function(c,n){var I=Math.PI/180,ba=Math.sin((n.lat-c.lat)*I/2),wa=Math.sin((n.lng-c.lng)*I/2);c=ba*ba+Math.cos(c.lat*I)*Math.cos(n.lat*I)*wa*wa;return 2*this.R*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))}}),Bb=
{R:6378137,MAX_LATITUDE:85.0511287798,project:function(c){var n=Math.PI/180,I=this.MAX_LATITUDE;I=Math.sin(Math.max(Math.min(I,c.lat),-I)*n);return new aa(this.R*c.lng*n,this.R*Math.log((1+I)/(1-I))/2)},unproject:function(c){var n=180/Math.PI;return new l((2*Math.atan(Math.exp(c.y/this.R))-Math.PI/2)*n,c.x*n/this.R)},bounds:function(){var c=6378137*Math.PI;return new Va([-c,-c],[c,c])}()};w.prototype={transform:function(c,n){return this._transform(c.clone(),n)},_transform:function(c,n){n=n||1;c.x=
n*(this._a*c.x+this._b);c.y=n*(this._c*c.y+this._d);return c},untransform:function(c,n){n=n||1;return new aa((c.x/n-this._b)/this._a,(c.y/n-this._d)/this._c)}};var Ob=ma({},Ra,{code:"EPSG:3857",projection:Bb,transformation:function(){var c=.5/(Math.PI*Bb.R);return z(c,.5,-c,.5)}()}),tb=ma({},Ob,{code:"EPSG:900913"}),Tb=document.documentElement.style,mc="ActiveXObject"in window,K=mc&&!document.addEventListener,m="msLaunchUri"in navigator&&!("documentMode"in document),k=R("webkit"),r=R("android"),x=
R("android 2")||R("android 3"),J=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Z=r&&R("Google")&&537>J&&!("AudioNode"in window),sa=!!window.opera,bb=R("chrome"),Ta=R("gecko")&&!k&&!sa&&!mc,Pb=!bb&&R("safari"),ac=R("phantom"),yc="OTransition"in Tb,Pc=0===navigator.platform.indexOf("Win"),Bc=mc&&"transition"in Tb,Hc="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!x,gd="MozPerspective"in Tb,pd=!window.L_DISABLE_3D&&(Bc||Hc||gd)&&!yc&&!ac,cd="undefined"!==typeof orientation||
R("mobile"),le=cd&&k,me=cd&&Hc,Sd=!window.PointerEvent&&window.MSPointerEvent,yd=!k&&!(!window.PointerEvent&&!Sd),Wc=!window.L_NO_TOUCH&&(yd||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),Md=cd&&sa,vd=cd&&Ta,Fd=1<(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI),Td=function(){var c=!1;try{var n=Object.defineProperty({},"passive",{get:function(){c=!0}});window.addEventListener("testPassiveEventSupport",la,n);window.removeEventListener("testPassiveEventSupport",
la,n)}catch(I){}return c},pe=!!document.createElement("canvas").getContext,Vd=!(!document.createElementNS||!G("svg").createSVGRect),qe=!Vd&&function(){try{var c=document.createElement("div");c.innerHTML='\x3cv:shape adj\x3d"1"/\x3e';var n=c.firstChild;n.style.behavior="url(#default#VML)";return n&&"object"===typeof n.adj}catch(I){return!1}}(),Nd=(Object.freeze||Object)({ie:mc,ielt9:K,edge:m,webkit:k,android:r,android23:x,androidStock:Z,opera:sa,chrome:bb,gecko:Ta,safari:Pb,phantom:ac,opera12:yc,win:Pc,
ie3d:Bc,webkit3d:Hc,gecko3d:gd,any3d:pd,mobile:cd,mobileWebkit:le,mobileWebkit3d:me,msPointer:Sd,pointer:yd,touch:Wc,mobileOpera:Md,mobileGecko:vd,retina:Fd,passiveEvents:Td,canvas:pe,svg:Vd,vml:qe}),Ke=Sd?"MSPointerDown":"pointerdown",Pe=Sd?"MSPointerMove":"pointermove",Ge=Sd?"MSPointerUp":"pointerup",B=Sd?"MSPointerCancel":"pointercancel",T=["INPUT","SELECT","OPTION"],pa={},Da=!1,ab=0,ob=Sd?"MSPointerDown":yd?"pointerdown":"touchstart",N=Sd?"MSPointerUp":yd?"pointerup":"touchend",a=vb(["transform",
"webkitTransform","OTransform","MozTransform","msTransform"]),e=vb(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),h="webkitTransition"===e||"OTransition"===e?e+"End":"transitionend",u;if("onselectstart"in document){var C=function(){ec(window,"selectstart",Wb)};var W=function(){lb(window,"selectstart",Wb)}}else{var za=vb(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);C=function(){if(za){var c=document.documentElement.style;u=c[za];c[za]=
"none"}};W=function(){za&&(document.documentElement.style[za]=u,u=void 0)}}var eb,Eb,$b=(Object.freeze||Object)({TRANSFORM:a,TRANSITION:e,TRANSITION_END:h,get:ib,getStyle:Ib,create:Oa,remove:Ua,empty:Pa,toFront:ja,toBack:Qa,hasClass:Za,addClass:qb,removeClass:La,setClass:Na,getClass:kb,setOpacity:Sa,testProp:vb,setTransform:jb,setPosition:nb,getPosition:sb,disableTextSelection:C,enableTextSelection:W,disableImageDrag:hc,enableImageDrag:Nb,preventOutline:cc,restoreOutline:nc,getSizedParentNode:Fc,
getScale:oc}),jc="_leaflet_events",uc=Pc&&bb?2*window.devicePixelRatio:Ta?window.devicePixelRatio:1,zc={},Ic,Lc=(Object.freeze||Object)({on:ec,off:lb,stopPropagation:V,disableScrollPropagation:hb,disableClickPropagation:Mb,preventDefault:Wb,stop:Ub,getMousePosition:lc,getWheelDelta:gb,fakeStop:xa,skipped:cb,isExternalTarget:Ia,addListener:ec,removeListener:lb}),Rc=da.extend({run:function(c,n,I,ba){this.stop();this._el=c;this._inProgress=!0;this._duration=I||.25;this._easeOutPower=1/Math.max(ba||.5,
.2);this._startPos=sb(c);this._offset=n.subtract(this._startPos);this._startTime=+new Date;this.fire("start");this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ya(this._animate,this);this._step()},_step:function(c){var n=+new Date-this._startTime,I=1E3*this._duration;n<I?this._runFrame(this._easeOut(n/I),c):(this._runFrame(1),this._complete())},_runFrame:function(c,n){c=this._startPos.add(this._offset.multiplyBy(c));n&&c._round();
nb(this._el,c);this.fire("step")},_complete:function(){ia(this._animId);this._inProgress=!1;this.fire("end")},_easeOut:function(c){return 1-Math.pow(1-c,this._easeOutPower)}}),Tc=da.extend({options:{crs:Ob,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(c,n){n=P(this,n);this._handlers=
[];this._layers={};this._zoomBoundLayers={};this._sizeChanged=!0;this._initContainer(c);this._initLayout();this._onResize=Ma(this._onResize,this);this._initEvents();n.maxBounds&&this.setMaxBounds(n.maxBounds);void 0!==n.zoom&&(this._zoom=this._limitZoom(n.zoom));n.center&&void 0!==n.zoom&&this.setView(q(n.center),n.zoom,{reset:!0});this.callInitHooks();if(this._zoomAnimated=e&&pd&&!Md&&this.options.zoomAnimation)this._createAnimProxy(),ec(this._proxy,h,this._catchTransitionEnd,this);this._addLayers(this.options.layers)},
setView:function(c,n,I){n=void 0===n?this._zoom:this._limitZoom(n);c=this._limitCenter(q(c),n,this.options.maxBounds);I=I||{};this._stop();if(this._loaded&&!I.reset&&!0!==I&&(void 0!==I.animate&&(I.zoom=ma({animate:I.animate},I.zoom),I.pan=ma({animate:I.animate,duration:I.duration},I.pan)),this._zoom!==n?this._tryAnimatedZoom&&this._tryAnimatedZoom(c,n,I.zoom):this._tryAnimatedPan(c,I.pan)))return clearTimeout(this._sizeTimer),this;this._resetView(c,n);return this},setZoom:function(c,n){return this._loaded?
this.setView(this.getCenter(),c,{zoom:n}):(this._zoom=c,this)},zoomIn:function(c,n){c=c||(pd?this.options.zoomDelta:1);return this.setZoom(this._zoom+c,n)},zoomOut:function(c,n){c=c||(pd?this.options.zoomDelta:1);return this.setZoom(this._zoom-c,n)},setZoomAround:function(c,n,I){var ba=this.getZoomScale(n),wa=this.getSize().divideBy(2);c=(c instanceof aa?c:this.latLngToContainerPoint(c)).subtract(wa).multiplyBy(1-1/ba);wa=this.containerPointToLatLng(wa.add(c));return this.setView(wa,n,{zoom:I})},
_getBoundsCenterZoom:function(c,n){n=n||{};c=c.getBounds?c.getBounds():f(c);var I=Ba(n.paddingTopLeft||n.padding||[0,0]),ba=Ba(n.paddingBottomRight||n.padding||[0,0]),wa=this.getBoundsZoom(c,!1,I.add(ba));wa="number"===typeof n.maxZoom?Math.min(n.maxZoom,wa):wa;if(Infinity===wa)return{center:c.getCenter(),zoom:wa};n=ba.subtract(I).divideBy(2);I=this.project(c.getSouthWest(),wa);c=this.project(c.getNorthEast(),wa);return{center:this.unproject(I.add(c).divideBy(2).add(n),wa),zoom:wa}},fitBounds:function(c,
n){c=f(c);if(!c.isValid())throw Error("Bounds are not valid.");c=this._getBoundsCenterZoom(c,n);return this.setView(c.center,c.zoom,n)},fitWorld:function(c){return this.fitBounds([[-90,-180],[90,180]],c)},panTo:function(c,n){return this.setView(c,this._zoom,{pan:n})},panBy:function(c,n){c=Ba(c).round();n=n||{};if(!c.x&&!c.y)return this.fire("moveend");if(!0!==n.animate&&!this.getSize().contains(c))return this._resetView(this.unproject(this.project(this.getCenter()).add(c)),this.getZoom()),this;this._panAnim||
(this._panAnim=new Rc,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this));n.noMoveStart||this.fire("movestart");!1!==n.animate?(qb(this._mapPane,"leaflet-pan-anim"),c=this._getMapPanePos().subtract(c).round(),this._panAnim.run(this._mapPane,c,n.duration||.25,n.easeLinearity)):(this._rawPanBy(c),this.fire("move").fire("moveend"));return this},flyTo:function(c,n,I){function ba(wd){wd=(od*od-qd*qd+2.0164*(wd?-1:1)*2.0164*md*md)/(4.0328*(wd?od:qd)*md);wd=Math.sqrt(wd*
wd+1)-wd;return 1E-9>wd?-18:Math.log(wd)}function wa(wd){return(Math.exp(wd)+Math.exp(-wd))/2}function rb(wd){return qd*(wa(ad)/wa(ad+1.42*wd))}function Ab(wd){var $d=wa(ad);wd=ad+1.42*wd;wd=(Math.exp(wd)-Math.exp(-wd))/2/wa(wd);return qd*($d*wd-(Math.exp(ad)-Math.exp(-ad))/2)/2.0164}function Jb(){var wd=(Date.now()-Xc)/Od,$d=(1-Math.pow(1-wd,1.5))*kd;1>=wd?(this._flyToFrame=ya(Jb,this),this._move(this.unproject(Qb.add(Ac.subtract(Qb).multiplyBy(Ab($d)/md)),Sc),this.getScaleZoom(qd/rb($d),Sc),{flyTo:!0})):
this._move(c,n)._moveEnd(!0)}I=I||{};if(!1===I.animate||!pd)return this.setView(c,n,I);this._stop();var Qb=this.project(this.getCenter()),Ac=this.project(c),Oc=this.getSize(),Sc=this._zoom;c=q(c);n=void 0===n?Sc:n;var qd=Math.max(Oc.x,Oc.y),od=qd*this.getZoomScale(Sc,n),md=Ac.distanceTo(Qb)||1,ad=ba(0),Xc=Date.now(),kd=(ba(1)-ad)/1.42,Od=I.duration?1E3*I.duration:800*kd;this._moveStart(!0,I.noMoveStart);Jb.call(this);return this},flyToBounds:function(c,n){c=this._getBoundsCenterZoom(c,n);return this.flyTo(c.center,
c.zoom,n)},setMaxBounds:function(c){c=f(c);if(c.isValid())this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds);else return this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds);this.options.maxBounds=c;this._loaded&&this._panInsideMaxBounds();return this.on("moveend",this._panInsideMaxBounds)},setMinZoom:function(c){var n=this.options.minZoom;this.options.minZoom=c;return this._loaded&&n!==c&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(c):
this},setMaxZoom:function(c){var n=this.options.maxZoom;this.options.maxZoom=c;return this._loaded&&n!==c&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(c):this},panInsideBounds:function(c,n){this._enforcingBounds=!0;var I=this.getCenter();c=this._limitCenter(I,this._zoom,f(c));I.equals(c)||this.panTo(c,n);this._enforcingBounds=!1;return this},panInside:function(c,n){n=n||{};var I=Ba(n.paddingTopLeft||n.padding||[0,0]),ba=Ba(n.paddingBottomRight||n.padding||[0,0]),
wa=this.getCenter();wa=this.project(wa);c=this.project(c);var rb=this.getPixelBounds(),Ab=rb.getSize().divideBy(2);rb=Ya([rb.min.add(I),rb.max.subtract(ba)]);if(!rb.contains(c)){this._enforcingBounds=!0;var Jb=wa.subtract(c),Qb=Ba(c.x+Jb.x,c.y+Jb.y);if(c.x<rb.min.x||c.x>rb.max.x)Qb.x=wa.x-Jb.x,Qb.x=0<Jb.x?Qb.x+(Ab.x-I.x):Qb.x-(Ab.x-ba.x);if(c.y<rb.min.y||c.y>rb.max.y)Qb.y=wa.y-Jb.y,Qb.y=0<Jb.y?Qb.y+(Ab.y-I.y):Qb.y-(Ab.y-ba.y);this.panTo(this.unproject(Qb),n);this._enforcingBounds=!1}return this},
invalidateSize:function(c){if(!this._loaded)return this;c=ma({animate:!1,pan:!0},!0===c?{animate:!0}:c);var n=this.getSize();this._sizeChanged=!0;this._lastCenter=null;var I=this.getSize(),ba=n.divideBy(2).round(),wa=I.divideBy(2).round();ba=ba.subtract(wa);if(!ba.x&&!ba.y)return this;c.animate&&c.pan?this.panBy(ba):(c.pan&&this._rawPanBy(ba),this.fire("move"),c.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(Ma(this.fire,this,"moveend"),200)):this.fire("moveend"));return this.fire("resize",
{oldSize:n,newSize:I})},stop:function(){this.setZoom(this._limitZoom(this._zoom));this.options.zoomSnap||this.fire("viewreset");return this._stop()},locate:function(c){c=this._locateOptions=ma({timeout:1E4,watch:!1},c);if(!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var n=Ma(this._handleGeolocationResponse,this),I=Ma(this._handleGeolocationError,this);c.watch?this._locationWatchId=navigator.geolocation.watchPosition(n,I,c):navigator.geolocation.getCurrentPosition(n,
I,c);return this},stopLocate:function(){navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId);this._locateOptions&&(this._locateOptions.setView=!1);return this},_handleGeolocationError:function(c){var n=c.code;c=c.message||(1===n?"permission denied":2===n?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld();this.fire("locationerror",{code:n,message:"Geolocation error: "+c+"."})},_handleGeolocationResponse:function(c){var n=
new l(c.coords.latitude,c.coords.longitude),I=n.toBounds(2*c.coords.accuracy),ba=this._locateOptions;if(ba.setView){var wa=this.getBoundsZoom(I);this.setView(n,ba.maxZoom?Math.min(wa,ba.maxZoom):wa)}n={latlng:n,bounds:I,timestamp:c.timestamp};for(var rb in c.coords)"number"===typeof c.coords[rb]&&(n[rb]=c.coords[rb]);this.fire("locationfound",n)},addHandler:function(c,n){if(!n)return this;n=this[c]=new n(this);this._handlers.push(n);this.options[c]&&n.enable();return this},remove:function(){this._initEvents(!0);
if(this._containerId!==this._container._leaflet_id)throw Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(n){this._containerId=this._container._leaflet_id=void 0}void 0!==this._locationWatchId&&this.stopLocate();this._stop();Ua(this._mapPane);this._clearControlPos&&this._clearControlPos();this._resizeRequest&&(ia(this._resizeRequest),this._resizeRequest=null);this._clearHandlers();this._loaded&&this.fire("unload");for(var c in this._layers)this._layers[c].remove();
for(c in this._panes)Ua(this._panes[c]);this._layers=[];this._panes=[];delete this._mapPane;delete this._renderer;return this},createPane:function(c,n){var I="leaflet-pane"+(c?" leaflet-"+c.replace("Pane","")+"-pane":"");n=Oa("div",I,n||this._mapPane);c&&(this._panes[c]=n);return n},getCenter:function(){this._checkIfLoaded();return this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var c=
this.getPixelBounds(),n=this.unproject(c.getBottomLeft());c=this.unproject(c.getTopRight());return new d(n,c)},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?Infinity:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(c,n,I){c=f(c);I=Ba(I||[0,0]);var ba=this.getZoom()||0,wa=this.getMinZoom(),rb=this.getMaxZoom(),Ab=c.getNorthWest();c=c.getSouthEast();
I=this.getSize().subtract(I);var Jb=Ya(this.project(c,ba),this.project(Ab,ba)).getSize();Ab=pd?this.options.zoomSnap:1;c=I.x/Jb.x;I=I.y/Jb.y;ba=this.getScaleZoom(n?Math.max(c,I):Math.min(c,I),ba);Ab&&(ba=Ab/100*Math.round(ba/(Ab/100)),ba=n?Math.ceil(ba/Ab)*Ab:Math.floor(ba/Ab)*Ab);return Math.max(wa,Math.min(rb,ba))},getSize:function(){if(!this._size||this._sizeChanged)this._size=new aa(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1;return this._size.clone()},
getPixelBounds:function(c,n){c=this._getTopLeftPoint(c,n);return new Va(c,c.add(this.getSize()))},getPixelOrigin:function(){this._checkIfLoaded();return this._pixelOrigin},getPixelWorldBounds:function(c){return this.options.crs.getProjectedBounds(void 0===c?this.getZoom():c)},getPane:function(c){return"string"===typeof c?this._panes[c]:c},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(c,n){var I=this.options.crs;n=void 0===n?this._zoom:
n;return I.scale(c)/I.scale(n)},getScaleZoom:function(c,n){var I=this.options.crs;n=void 0===n?this._zoom:n;c=I.zoom(c*I.scale(n));return isNaN(c)?Infinity:c},project:function(c,n){n=void 0===n?this._zoom:n;return this.options.crs.latLngToPoint(q(c),n)},unproject:function(c,n){n=void 0===n?this._zoom:n;return this.options.crs.pointToLatLng(Ba(c),n)},layerPointToLatLng:function(c){c=Ba(c).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(c){return this.project(q(c))._round()._subtract(this.getPixelOrigin())},
wrapLatLng:function(c){return this.options.crs.wrapLatLng(q(c))},wrapLatLngBounds:function(c){return this.options.crs.wrapLatLngBounds(f(c))},distance:function(c,n){return this.options.crs.distance(q(c),q(n))},containerPointToLayerPoint:function(c){return Ba(c).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(c){return Ba(c).add(this._getMapPanePos())},containerPointToLatLng:function(c){c=this.containerPointToLayerPoint(Ba(c));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(c){return this.layerPointToContainerPoint(this.latLngToLayerPoint(q(c)))},
mouseEventToContainerPoint:function(c){return lc(c,this._container)},mouseEventToLayerPoint:function(c){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(c))},mouseEventToLatLng:function(c){return this.layerPointToLatLng(this.mouseEventToLayerPoint(c))},_initContainer:function(c){c=this._container=ib(c);if(!c)throw Error("Map container not found.");if(c._leaflet_id)throw Error("Map container is already initialized.");ec(c,"scroll",this._onScroll,this);this._containerId=y(c)},
_initLayout:function(){var c=this._container;this._fadeAnimated=this.options.fadeAnimation&&pd;qb(c,"leaflet-container"+(Wc?" leaflet-touch":"")+(Fd?" leaflet-retina":"")+(K?" leaflet-oldie":"")+(Pb?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var n=Ib(c,"position");"absolute"!==n&&"relative"!==n&&"fixed"!==n&&(c.style.position="relative");this._initPanes();this._initControlPos&&this._initControlPos()},_initPanes:function(){var c=this._panes={};this._paneRenderers={};this._mapPane=
this.createPane("mapPane",this._container);nb(this._mapPane,new aa(0,0));this.createPane("tilePane");this.createPane("shadowPane");this.createPane("overlayPane");this.createPane("markerPane");this.createPane("tooltipPane");this.createPane("popupPane");this.options.markerZoomAnimation||(qb(c.markerPane,"leaflet-zoom-hide"),qb(c.shadowPane,"leaflet-zoom-hide"))},_resetView:function(c,n){nb(this._mapPane,new aa(0,0));var I=!this._loaded;this._loaded=!0;n=this._limitZoom(n);this.fire("viewprereset");
var ba=this._zoom!==n;this._moveStart(ba,!1)._move(c,n)._moveEnd(ba);this.fire("viewreset");I&&this.fire("load")},_moveStart:function(c,n){c&&this.fire("zoomstart");n||this.fire("movestart");return this},_move:function(c,n,I){void 0===n&&(n=this._zoom);var ba=this._zoom!==n;this._zoom=n;this._lastCenter=c;this._pixelOrigin=this._getNewPixelOrigin(c);(ba||I&&I.pinch)&&this.fire("zoom",I);return this.fire("move",I)},_moveEnd:function(c){c&&this.fire("zoomend");return this.fire("moveend")},_stop:function(){ia(this._flyToFrame);
this._panAnim&&this._panAnim.stop();return this},_rawPanBy:function(c){nb(this._mapPane,this._getMapPanePos().subtract(c))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw Error("Set map center and zoom first.");},_initEvents:function(c){this._targets={};this._targets[y(this._container)]=this;var n=c?lb:ec;n(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",
this._handleDOMEvent,this);this.options.trackResize&&n(window,"resize",this._onResize,this);pd&&this.options.transform3DLimit&&(c?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ia(this._resizeRequest);this._resizeRequest=ya(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0;this._container.scrollLeft=0},_onMoveEnd:function(){var c=this._getMapPanePos();Math.max(Math.abs(c.x),Math.abs(c.y))>=this.options.transform3DLimit&&
this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(c,n){for(var I=[],ba,wa="mouseout"===n||"mouseover"===n,rb=c.target||c.srcElement,Ab=!1;rb;){if((ba=this._targets[y(rb)])&&("click"===n||"preclick"===n)&&!c._simulated&&this._draggableMoved(ba)){Ab=!0;break}if(ba&&ba.listens(n,!0)){if(wa&&!Ia(rb,c))break;I.push(ba);if(wa)break}if(rb===this._container)break;rb=rb.parentNode}I.length||Ab||wa||!Ia(rb,c)||(I=[this]);return I},_handleDOMEvent:function(c){if(this._loaded&&!cb(c)){var n=
c.type;"mousedown"!==n&&"keypress"!==n&&"keyup"!==n&&"keydown"!==n||cc(c.target||c.srcElement);this._fireDOMEvent(c,n)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(c,n,I){if("click"===c.type){var ba=ma({},c);ba.type="preclick";this._fireDOMEvent(ba,ba.type,I)}if(!c._stopped&&(I=(I||[]).concat(this._findEventTargets(c,n)),I.length)){var wa=I[0];"contextmenu"===n&&wa.listens(n,!0)&&Wb(c);ba={originalEvent:c};if("keypress"!==c.type&&"keydown"!==c.type&&
"keyup"!==c.type){var rb=wa.getLatLng&&(!wa._radius||10>=wa._radius);ba.containerPoint=rb?this.latLngToContainerPoint(wa.getLatLng()):this.mouseEventToContainerPoint(c);ba.layerPoint=this.containerPointToLayerPoint(ba.containerPoint);ba.latlng=rb?wa.getLatLng():this.layerPointToLatLng(ba.layerPoint)}for(c=0;c<I.length&&!(I[c].fire(n,ba,!0),ba.originalEvent._stopped||!1===I[c].options.bubblingMouseEvents&&-1!==ra(this._mouseEvents,n));c++);}},_draggableMoved:function(c){c=c.dragging&&c.dragging.enabled()?
c:this;return c.dragging&&c.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var c=0,n=this._handlers.length;c<n;c++)this._handlers[c].disable()},whenReady:function(c,n){if(this._loaded)c.call(n||this,{target:this});else this.on("load",c,n);return this},_getMapPanePos:function(){return sb(this._mapPane)||new aa(0,0)},_moved:function(){var c=this._getMapPanePos();return c&&!c.equals([0,0])},_getTopLeftPoint:function(c,n){return(c&&void 0!==n?this._getNewPixelOrigin(c,
n):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(c,n){var I=this.getSize()._divideBy(2);return this.project(c,n)._subtract(I)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(c,n,I){I=this._getNewPixelOrigin(I,n);return this.project(c,n)._subtract(I)},_latLngBoundsToNewLayerBounds:function(c,n,I){I=this._getNewPixelOrigin(I,n);return Ya([this.project(c.getSouthWest(),n)._subtract(I),this.project(c.getNorthWest(),n)._subtract(I),this.project(c.getSouthEast(),
n)._subtract(I),this.project(c.getNorthEast(),n)._subtract(I)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(c){return this.latLngToLayerPoint(c).subtract(this._getCenterLayerPoint())},_limitCenter:function(c,n,I){if(!I)return c;var ba=this.project(c,n),wa=this.getSize().divideBy(2);wa=new Va(ba.subtract(wa),ba.add(wa));I=this._getBoundsOffset(wa,I,n);return I.round().equals([0,0])?c:this.unproject(ba.add(I),n)},_limitOffset:function(c,
n){if(!n)return c;var I=this.getPixelBounds();I=new Va(I.min.add(c),I.max.add(c));return c.add(this._getBoundsOffset(I,n))},_getBoundsOffset:function(c,n,I){I=Ya(this.project(n.getNorthEast(),I),this.project(n.getSouthWest(),I));n=I.min.subtract(c.min);I=I.max.subtract(c.max);c=this._rebound(n.x,-I.x);n=this._rebound(n.y,-I.y);return new aa(c,n)},_rebound:function(c,n){return 0<c+n?Math.round(c-n)/2:Math.max(0,Math.ceil(c))-Math.max(0,Math.floor(n))},_limitZoom:function(c){var n=this.getMinZoom(),
I=this.getMaxZoom(),ba=pd?this.options.zoomSnap:1;ba&&(c=Math.round(c/ba)*ba);return Math.max(n,Math.min(I,c))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){La(this._mapPane,"leaflet-pan-anim");this.fire("moveend")},_tryAnimatedPan:function(c,n){c=this._getCenterOffset(c)._trunc();if(!0!==(n&&n.animate)&&!this.getSize().contains(c))return!1;this.panBy(c,n);return!0},_createAnimProxy:function(){var c=this._proxy=Oa("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(c);
this.on("zoomanim",function(n){var I=a,ba=this._proxy.style[I];jb(this._proxy,this.project(n.center,n.zoom),this.getZoomScale(n.zoom,1));ba===this._proxy.style[I]&&this._animatingZoom&&this._onZoomTransitionEnd()},this);this.on("load moveend",this._animMoveEnd,this);this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ua(this._proxy);this.off("load moveend",this._animMoveEnd,this);delete this._proxy},_animMoveEnd:function(){var c=this.getCenter(),n=this.getZoom();jb(this._proxy,
this.project(c,n),this.getZoomScale(n,1))},_catchTransitionEnd:function(c){this._animatingZoom&&0<=c.propertyName.indexOf("transform")&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(c,n,I){if(this._animatingZoom)return!0;I=I||{};if(!this._zoomAnimated||!1===I.animate||this._nothingToAnimate()||Math.abs(n-this._zoom)>this.options.zoomAnimationThreshold)return!1;var ba=this.getZoomScale(n);
ba=this._getCenterOffset(c)._divideBy(1-1/ba);if(!0!==I.animate&&!this.getSize().contains(ba))return!1;ya(function(){this._moveStart(!0,!1)._animateZoom(c,n,!0)},this);return!0},_animateZoom:function(c,n,I,ba){this._mapPane&&(I&&(this._animatingZoom=!0,this._animateToCenter=c,this._animateToZoom=n,qb(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:c,zoom:n,noUpdate:ba}),setTimeout(Ma(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&
La(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),ya(function(){this._moveEnd(!0)},this))}}),Zc=ea.extend({options:{position:"topright"},initialize:function(c){P(this,c)},getPosition:function(){return this.options.position},setPosition:function(c){var n=this._map;n&&n.removeControl(this);this.options.position=c;n&&n.addControl(this);return this},getContainer:function(){return this._container},addTo:function(c){this.remove();this._map=
c;var n=this._container=this.onAdd(c),I=this.getPosition();c=c._controlCorners[I];qb(n,"leaflet-control");-1!==I.indexOf("bottom")?c.insertBefore(n,c.firstChild):c.appendChild(n);this._map.on("unload",this.remove,this);return this},remove:function(){if(!this._map)return this;Ua(this._container);if(this.onRemove)this.onRemove(this._map);this._map.off("unload",this.remove,this);this._map=null;return this},_refocusOnMap:function(c){this._map&&c&&0<c.screenX&&0<c.screenY&&this._map.getContainer().focus()}}),
jd=function(c){return new Zc(c)};Tc.include({addControl:function(c){c.addTo(this);return this},removeControl:function(c){c.remove();return this},_initControlPos:function(){function c(ba,wa){n[ba+wa]=Oa("div","leaflet-"+ba+" leaflet-"+wa,I)}var n=this._controlCorners={},I=this._controlContainer=Oa("div","leaflet-control-container",this._container);c("top","left");c("top","right");c("bottom","left");c("bottom","right")},_clearControlPos:function(){for(var c in this._controlCorners)Ua(this._controlCorners[c]);
Ua(this._controlContainer);delete this._controlCorners;delete this._controlContainer}});var ld=Zc.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(c,n,I,ba){return I<ba?-1:ba<I?1:0}},initialize:function(c,n,I){P(this,I);this._layerControlInputs=[];this._layers=[];this._lastZIndex=0;this._handlingClick=!1;for(var ba in c)this._addLayer(c[ba],ba);for(ba in n)this._addLayer(n[ba],ba,!0)},onAdd:function(c){this._initLayout();this._update();
this._map=c;c.on("zoomend",this._checkDisabledLayers,this);for(c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(c){Zc.prototype.addTo.call(this,c);return this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(c,n){this._addLayer(c,n);return this._map?
this._update():this},addOverlay:function(c,n){this._addLayer(c,n,!0);return this._map?this._update():this},removeLayer:function(c){c.off("add remove",this._onLayerChange,this);(c=this._getLayer(y(c)))&&this._layers.splice(this._layers.indexOf(c),1);return this._map?this._update():this},expand:function(){qb(this._container,"leaflet-control-layers-expanded");this._section.style.height=null;var c=this._map.getSize().y-(this._container.offsetTop+50);c<this._section.clientHeight?(qb(this._section,"leaflet-control-layers-scrollbar"),
this._section.style.height=c+"px"):La(this._section,"leaflet-control-layers-scrollbar");this._checkDisabledLayers();return this},collapse:function(){La(this._container,"leaflet-control-layers-expanded");return this},_initLayout:function(){var c=this._container=Oa("div","leaflet-control-layers"),n=this.options.collapsed;c.setAttribute("aria-haspopup",!0);Mb(c);hb(c);var I=this._section=Oa("section","leaflet-control-layers-list");n&&(this._map.on("click",this.collapse,this),r||ec(c,{mouseenter:this.expand,
mouseleave:this.collapse},this));var ba=this._layersLink=Oa("a","leaflet-control-layers-toggle",c);ba.href="#";ba.title="Layers";Wc?(ec(ba,"click",Ub),ec(ba,"click",this.expand,this)):ec(ba,"focus",this.expand,this);n||this.expand();this._baseLayersList=Oa("div","leaflet-control-layers-base",I);this._separator=Oa("div","leaflet-control-layers-separator",I);this._overlaysList=Oa("div","leaflet-control-layers-overlays",I);c.appendChild(I)},_getLayer:function(c){for(var n=0;n<this._layers.length;n++)if(this._layers[n]&&
y(this._layers[n].layer)===c)return this._layers[n]},_addLayer:function(c,n,I){if(this._map)c.on("add remove",this._onLayerChange,this);this._layers.push({layer:c,name:n,overlay:I});this.options.sortLayers&&this._layers.sort(Ma(function(ba,wa){return this.options.sortFunction(ba.layer,wa.layer,ba.name,wa.name)},this));this.options.autoZIndex&&c.setZIndex&&(this._lastZIndex++,c.setZIndex(this._lastZIndex));this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Pa(this._baseLayersList);
Pa(this._overlaysList);this._layerControlInputs=[];var c,n=0;for(c=0;c<this._layers.length;c++){var I=this._layers[c];this._addItem(I);var ba=ba||I.overlay;var wa=wa||!I.overlay;n+=I.overlay?0:1}this.options.hideSingleBase&&(wa=wa&&1<n,this._baseLayersList.style.display=wa?"":"none");this._separator.style.display=ba&&wa?"":"none";return this},_onLayerChange:function(c){this._handlingClick||this._update();var n=this._getLayer(y(c.target));(c=n.overlay?"add"===c.type?"overlayadd":"overlayremove":"add"===
c.type?"baselayerchange":null)&&this._map.fire(c,n)},_createRadioElement:function(c,n){c='\x3cinput type\x3d"radio" class\x3d"leaflet-control-layers-selector" name\x3d"'+c+'"'+(n?' checked\x3d"checked"':"")+"/\x3e";n=document.createElement("div");n.innerHTML=c;return n.firstChild},_addItem:function(c){var n=document.createElement("label"),I=this._map.hasLayer(c.layer);if(c.overlay){var ba=document.createElement("input");ba.type="checkbox";ba.className="leaflet-control-layers-selector";ba.defaultChecked=
I}else ba=this._createRadioElement("leaflet-base-layers_"+y(this),I);this._layerControlInputs.push(ba);ba.layerId=y(c.layer);ec(ba,"click",this._onInputClick,this);I=document.createElement("span");I.innerHTML=" "+c.name;var wa=document.createElement("div");n.appendChild(wa);wa.appendChild(ba);wa.appendChild(I);(c.overlay?this._overlaysList:this._baseLayersList).appendChild(n);this._checkDisabledLayers();return n},_onInputClick:function(){var c=this._layerControlInputs,n=[],I=[];this._handlingClick=
!0;for(var ba=c.length-1;0<=ba;ba--){var wa=c[ba];var rb=this._getLayer(wa.layerId).layer;wa.checked?n.push(rb):wa.checked||I.push(rb)}for(ba=0;ba<I.length;ba++)this._map.hasLayer(I[ba])&&this._map.removeLayer(I[ba]);for(ba=0;ba<n.length;ba++)this._map.hasLayer(n[ba])||this._map.addLayer(n[ba]);this._handlingClick=!1;this._refocusOnMap()},_checkDisabledLayers:function(){for(var c=this._layerControlInputs,n,I,ba=this._map.getZoom(),wa=c.length-1;0<=wa;wa--)n=c[wa],I=this._getLayer(n.layerId).layer,
n.disabled=void 0!==I.options.minZoom&&ba<I.options.minZoom||void 0!==I.options.maxZoom&&ba>I.options.maxZoom},_expandIfNotCollapsed:function(){this._map&&!this.options.collapsed&&this.expand();return this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),fd=Zc.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"\x26#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(c){var n=Oa("div","leaflet-control-zoom leaflet-bar"),I=this.options;
this._zoomInButton=this._createButton(I.zoomInText,I.zoomInTitle,"leaflet-control-zoom-in",n,this._zoomIn);this._zoomOutButton=this._createButton(I.zoomOutText,I.zoomOutTitle,"leaflet-control-zoom-out",n,this._zoomOut);this._updateDisabled();c.on("zoomend zoomlevelschange",this._updateDisabled,this);return n},onRemove:function(c){c.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){this._disabled=!0;this._updateDisabled();return this},enable:function(){this._disabled=!1;
this._updateDisabled();return this},_zoomIn:function(c){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(c.shiftKey?3:1))},_zoomOut:function(c){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(c.shiftKey?3:1))},_createButton:function(c,n,I,ba,wa){I=Oa("a",I,ba);I.innerHTML=c;I.href="#";I.title=n;I.setAttribute("role","button");I.setAttribute("aria-label",n);Mb(I);ec(I,"click",Ub);ec(I,"click",
wa,this);ec(I,"click",this._refocusOnMap,this);return I},_updateDisabled:function(){var c=this._map;La(this._zoomInButton,"leaflet-disabled");La(this._zoomOutButton,"leaflet-disabled");(this._disabled||c._zoom===c.getMinZoom())&&qb(this._zoomOutButton,"leaflet-disabled");(this._disabled||c._zoom===c.getMaxZoom())&&qb(this._zoomInButton,"leaflet-disabled")}});Tc.mergeOptions({zoomControl:!0});Tc.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new fd,this.addControl(this.zoomControl))});
var ed=Zc.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(c){var n=Oa("div","leaflet-control-scale"),I=this.options;this._addScales(I,"leaflet-control-scale-line",n);c.on(I.updateWhenIdle?"moveend":"move",this._update,this);c.whenReady(this._update,this);return n},onRemove:function(c){c.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(c,n,I){c.metric&&(this._mScale=Oa("div",n,I));c.imperial&&(this._iScale=Oa("div",n,
I))},_update:function(){var c=this._map,n=c.getSize().y/2;c=c.distance(c.containerPointToLatLng([0,n]),c.containerPointToLatLng([this.options.maxWidth,n]));this._updateScales(c)},_updateScales:function(c){this.options.metric&&c&&this._updateMetric(c);this.options.imperial&&c&&this._updateImperial(c)},_updateMetric:function(c){var n=this._getRoundNum(c);this._updateScale(this._mScale,1E3>n?n+" m":n/1E3+" km",n/c)},_updateImperial:function(c){c*=3.2808399;if(5280<c){c/=5280;var n=this._getRoundNum(c);
this._updateScale(this._iScale,n+" mi",n/c)}else n=this._getRoundNum(c),this._updateScale(this._iScale,n+" ft",n/c)},_updateScale:function(c,n,I){c.style.width=Math.round(this.options.maxWidth*I)+"px";c.innerHTML=n},_getRoundNum:function(c){var n=Math.pow(10,(Math.floor(c)+"").length-1);c/=n;return n*(10<=c?10:5<=c?5:3<=c?3:2<=c?2:1)}}),Dc=Zc.extend({options:{position:"bottomright",prefix:'\x3ca href\x3d"https://leafletjs.com" title\x3d"A JS library for interactive maps"\x3eLeaflet\x3c/a\x3e'},initialize:function(c){P(this,
c);this._attributions={}},onAdd:function(c){c.attributionControl=this;this._container=Oa("div","leaflet-control-attribution");Mb(this._container);for(var n in c._layers)c._layers[n].getAttribution&&this.addAttribution(c._layers[n].getAttribution());this._update();return this._container},setPrefix:function(c){this.options.prefix=c;this._update();return this},addAttribution:function(c){if(!c)return this;this._attributions[c]||(this._attributions[c]=0);this._attributions[c]++;this._update();return this},
removeAttribution:function(c){if(!c)return this;this._attributions[c]&&(this._attributions[c]--,this._update());return this},_update:function(){if(this._map){var c=[];for(n in this._attributions)this._attributions[n]&&c.push(n);var n=[];this.options.prefix&&n.push(this.options.prefix);c.length&&n.push(c.join(", "));this._container.innerHTML=n.join(" | ")}}});Tc.mergeOptions({attributionControl:!0});Tc.addInitHook(function(){this.options.attributionControl&&(new Dc).addTo(this)});Zc.Layers=ld;Zc.Zoom=
fd;Zc.Scale=ed;Zc.Attribution=Dc;jd.layers=function(c,n,I){return new ld(c,n,I)};jd.zoom=function(c){return new fd(c)};jd.scale=function(c){return new ed(c)};jd.attribution=function(c){return new Dc(c)};var $c=ea.extend({initialize:function(c){this._map=c},enable:function(){if(this._enabled)return this;this._enabled=!0;this.addHooks();return this},disable:function(){if(!this._enabled)return this;this._enabled=!1;this.removeHooks();return this},enabled:function(){return!!this._enabled}});$c.addTo=
function(c,n){c.addHandler(n,this);return this};var rd={Events:M},Pd=Wc?"touchstart mousedown":"mousedown",Ud={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},Ce={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},ee=da.extend({options:{clickTolerance:3},initialize:function(c,n,I,ba){P(this,ba);this._element=c;this._dragStartTarget=n||c;this._preventOutline=I},enable:function(){this._enabled||(ec(this._dragStartTarget,
Pd,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ee._dragging===this&&this.finishDrag(),lb(this._dragStartTarget,Pd,this._onDown,this),this._moved=this._enabled=!1)},_onDown:function(c){if(!c._simulated&&this._enabled&&(this._moved=!1,!(Za(this._element,"leaflet-zoom-anim")||ee._dragging||c.shiftKey||1!==c.which&&1!==c.button&&!c.touches||(ee._dragging=this,this._preventOutline&&cc(this._element),hc(),C(),this._moving)))){this.fire("down");var n=c.touches?c.touches[0]:c,
I=Fc(this._element);this._startPoint=new aa(n.clientX,n.clientY);this._parentScale=oc(I);ec(document,Ce[c.type],this._onMove,this);ec(document,Ud[c.type],this._onUp,this)}},_onMove:function(c){if(!c._simulated&&this._enabled)if(c.touches&&1<c.touches.length)this._moved=!0;else{var n=c.touches&&1===c.touches.length?c.touches[0]:c;n=(new aa(n.clientX,n.clientY))._subtract(this._startPoint);!n.x&&!n.y||Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,
Wb(c),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=sb(this._element).subtract(n),qb(document.body,"leaflet-dragging"),this._lastTarget=c.target||c.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),qb(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,ia(this._animRequest),this._lastEvent=c,this._animRequest=ya(this._updatePosition,this,!0))}},
_updatePosition:function(){var c={originalEvent:this._lastEvent};this.fire("predrag",c);nb(this._element,this._newPos);this.fire("drag",c)},_onUp:function(c){!c._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){La(document.body,"leaflet-dragging");this._lastTarget&&(La(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var c in Ce)lb(document,Ce[c],this._onMove,this),lb(document,Ud[c],this._onUp,this);Nb();W();this._moved&&this._moving&&(ia(this._animRequest),this.fire("dragend",
{distance:this._newPos.distanceTo(this._startPos)}));this._moving=!1;ee._dragging=!1}}),Fe,ue=(Object.freeze||Object)({simplify:mb,pointToSegmentDistance:Sb,closestPointOnSegment:function(c,n,I){return ud(c,n,I)},clipSegment:tc,_getEdgeIntersection:Ec,_getBitCode:dd,_sqClosestPointOnSegment:ud,isFlat:Yc,_flat:Id}),te=(Object.freeze||Object)({clipPolygon:Wd}),xe={project:function(c){return new aa(c.lng,c.lat)},unproject:function(c){return new l(c.y,c.x)},bounds:new Va([-180,-90],[180,90])},Re={R:6378137,
R_MINOR:6356752.314245179,bounds:new Va([-2.003750834279E7,-1.549657073972E7],[2.003750834279E7,1.876465623138E7]),project:function(c){var n=Math.PI/180,I=this.R,ba=c.lat*n,wa=this.R_MINOR/I;wa=Math.sqrt(1-wa*wa);var rb=wa*Math.sin(ba);ba=-I*Math.log(Math.max(Math.tan(Math.PI/4-ba/2)/Math.pow((1-rb)/(1+rb),wa/2),1E-10));return new aa(c.lng*n*I,ba)},unproject:function(c){var n=180/Math.PI,I=this.R,ba=this.R_MINOR/I;ba=Math.sqrt(1-ba*ba);for(var wa=Math.exp(-c.y/I),rb=Math.PI/2-2*Math.atan(wa),Ab=0,
Jb=.1;15>Ab&&1E-7<Math.abs(Jb);Ab++)Jb=ba*Math.sin(rb),Jb=Math.pow((1-Jb)/(1+Jb),ba/2),Jb=Math.PI/2-2*Math.atan(wa*Jb)-rb,rb+=Jb;return new l(rb*n,c.x*n/I)}},Je=(Object.freeze||Object)({LonLat:xe,Mercator:Re,SphericalMercator:Bb}),ef=ma({},Ra,{code:"EPSG:3395",projection:Re,transformation:function(){var c=.5/(Math.PI*Re.R);return z(c,.5,-c,.5)}()}),Se=ma({},Ra,{code:"EPSG:4326",projection:xe,transformation:z(1/180,1,-1/180,.5)}),Le=ma({},Wa,{projection:xe,transformation:z(1,0,-1,0),scale:function(c){return Math.pow(2,
c)},zoom:function(c){return Math.log(c)/Math.LN2},distance:function(c,n){var I=n.lng-c.lng;c=n.lat-c.lat;return Math.sqrt(I*I+c*c)},infinite:!0});Wa.Earth=Ra;Wa.EPSG3395=ef;Wa.EPSG3857=Ob;Wa.EPSG900913=tb;Wa.EPSG4326=Se;Wa.Simple=Le;var ze=da.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(c){c.addLayer(this);return this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(c){c&&c.removeLayer(this);return this},getPane:function(c){return this._map.getPane(c?
this.options[c]||c:this.options.pane)},addInteractiveTarget:function(c){this._map._targets[y(c)]=this;return this},removeInteractiveTarget:function(c){delete this._map._targets[y(c)];return this},getAttribution:function(){return this.options.attribution},_layerAdd:function(c){var n=c.target;if(n.hasLayer(this)){this._map=n;this._zoomAnimated=n._zoomAnimated;if(this.getEvents){var I=this.getEvents();n.on(I,this);this.once("remove",function(){n.off(I,this)},this)}this.onAdd(n);this.getAttribution&&
n.attributionControl&&n.attributionControl.addAttribution(this.getAttribution());this.fire("add");n.fire("layeradd",{layer:this})}}});Tc.include({addLayer:function(c){if(!c._layerAdd)throw Error("The provided object is not a Layer.");var n=y(c);if(this._layers[n])return this;this._layers[n]=c;c._mapToAdd=this;c.beforeAdd&&c.beforeAdd(this);this.whenReady(c._layerAdd,c);return this},removeLayer:function(c){var n=y(c);if(!this._layers[n])return this;if(this._loaded)c.onRemove(this);c.getAttribution&&
this.attributionControl&&this.attributionControl.removeAttribution(c.getAttribution());delete this._layers[n];this._loaded&&(this.fire("layerremove",{layer:c}),c.fire("remove"));c._map=c._mapToAdd=null;return this},hasLayer:function(c){return!!c&&y(c)in this._layers},eachLayer:function(c,n){for(var I in this._layers)c.call(n,this._layers[I]);return this},_addLayers:function(c){c=c?xc(c)?c:[c]:[];for(var n=0,I=c.length;n<I;n++)this.addLayer(c[n])},_addZoomLimit:function(c){if(isNaN(c.options.maxZoom)||
!isNaN(c.options.minZoom))this._zoomBoundLayers[y(c)]=c,this._updateZoomLevels()},_removeZoomLimit:function(c){c=y(c);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var c=Infinity,n=-Infinity,I=this._getZoomSpan(),ba;for(ba in this._zoomBoundLayers){var wa=this._zoomBoundLayers[ba].options;c=void 0===wa.minZoom?c:Math.min(c,wa.minZoom);n=void 0===wa.maxZoom?n:Math.max(n,wa.maxZoom)}this._layersMaxZoom=-Infinity===n?void 0:n;this._layersMinZoom=
Infinity===c?void 0:c;I!==this._getZoomSpan()&&this.fire("zoomlevelschange");void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom);void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ye=ze.extend({initialize:function(c,n){P(this,n);this._layers={};var I;if(c)for(n=0,I=c.length;n<I;n++)this.addLayer(c[n])},addLayer:function(c){var n=this.getLayerId(c);this._layers[n]=
c;this._map&&this._map.addLayer(c);return this},removeLayer:function(c){c=c in this._layers?c:this.getLayerId(c);this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]);delete this._layers[c];return this},hasLayer:function(c){return!!c&&(c in this._layers||this.getLayerId(c)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(c){var n=Array.prototype.slice.call(arguments,1),I;for(I in this._layers){var ba=this._layers[I];ba[c]&&ba[c].apply(ba,
n)}return this},onAdd:function(c){this.eachLayer(c.addLayer,c)},onRemove:function(c){this.eachLayer(c.removeLayer,c)},eachLayer:function(c,n){for(var I in this._layers)c.call(n,this._layers[I]);return this},getLayer:function(c){return this._layers[c]},getLayers:function(){var c=[];this.eachLayer(c.push,c);return c},setZIndex:function(c){return this.invoke("setZIndex",c)},getLayerId:function(c){return y(c)}}),Oe=ye.extend({addLayer:function(c){if(this.hasLayer(c))return this;c.addEventParent(this);
ye.prototype.addLayer.call(this,c);return this.fire("layeradd",{layer:c})},removeLayer:function(c){if(!this.hasLayer(c))return this;c in this._layers&&(c=this._layers[c]);c.removeEventParent(this);ye.prototype.removeLayer.call(this,c);return this.fire("layerremove",{layer:c})},setStyle:function(c){return this.invoke("setStyle",c)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var c=new d,n;for(n in this._layers){var I=
this._layers[n];c.extend(I.getBounds?I.getBounds():I.getLatLng())}return c}}),Ed=ea.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(c){P(this,c)},createIcon:function(c){return this._createIcon("icon",c)},createShadow:function(c){return this._createIcon("shadow",c)},_createIcon:function(c,n){var I=this._getIconUrl(c);if(!I){if("icon"===c)throw Error("iconUrl not set in Icon options (see the docs).");return null}n=this._createImg(I,n&&"IMG"===n.tagName?n:null);this._setIconStyles(n,
c);return n},_setIconStyles:function(c,n){var I=this.options,ba=I[n+"Size"];"number"===typeof ba&&(ba=[ba,ba]);ba=Ba(ba);var wa=Ba("shadow"===n&&I.shadowAnchor||I.iconAnchor||ba&&ba.divideBy(2,!0));c.className="leaflet-marker-"+n+" "+(I.className||"");wa&&(c.style.marginLeft=-wa.x+"px",c.style.marginTop=-wa.y+"px");ba&&(c.style.width=ba.x+"px",c.style.height=ba.y+"px")},_createImg:function(c,n){n=n||document.createElement("img");n.src=c;return n},_getIconUrl:function(c){return Fd&&this.options[c+
"RetinaUrl"]||this.options[c+"Url"]}}),be=Ed.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(c){be.imagePath||(be.imagePath=this._detectIconPath());return(this.options.imagePath||be.imagePath)+Ed.prototype._getIconUrl.call(this,c)},_detectIconPath:function(){var c=Oa("div","leaflet-default-icon-path",document.body),n=Ib(c,
"background-image")||Ib(c,"backgroundImage");document.body.removeChild(c);return n=null===n||0!==n.indexOf("url")?"":n.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),ve=$c.extend({initialize:function(c){this._marker=c},addHooks:function(){var c=this._marker._icon;this._draggable||(this._draggable=new ee(c,c,!0));this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable();qb(c,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,
predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable();this._marker._icon&&La(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(c){var n=this._marker,I=n._map,ba=this._marker.options.autoPanSpeed,wa=this._marker.options.autoPanPadding,rb=sb(n._icon),Ab=I.getPixelBounds(),Jb=I.getPixelOrigin();wa=Ya(Ab.min._subtract(Jb).add(wa),Ab.max._subtract(Jb).subtract(wa));wa.contains(rb)||(ba=Ba((Math.max(wa.max.x,
rb.x)-wa.max.x)/(Ab.max.x-wa.max.x)-(Math.min(wa.min.x,rb.x)-wa.min.x)/(Ab.min.x-wa.min.x),(Math.max(wa.max.y,rb.y)-wa.max.y)/(Ab.max.y-wa.max.y)-(Math.min(wa.min.y,rb.y)-wa.min.y)/(Ab.min.y-wa.min.y)).multiplyBy(ba),I.panBy(ba,{animate:!1}),this._draggable._newPos._add(ba),this._draggable._startPos._add(ba),nb(n._icon,this._draggable._newPos),this._onDrag(c),this._panRequest=ya(this._adjustPan.bind(this,c)))},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng();this._marker.closePopup().fire("movestart").fire("dragstart")},
_onPreDrag:function(c){this._marker.options.autoPan&&(ia(this._panRequest),this._panRequest=ya(this._adjustPan.bind(this,c)))},_onDrag:function(c){var n=this._marker,I=n._shadow,ba=sb(n._icon),wa=n._map.layerPointToLatLng(ba);I&&nb(I,ba);n._latlng=wa;c.latlng=wa;c.oldLatLng=this._oldLatLng;n.fire("move",c).fire("drag",c)},_onDragEnd:function(c){ia(this._panRequest);delete this._oldLatLng;this._marker.fire("moveend").fire("dragend",c)}}),zd=ze.extend({options:{icon:new be,interactive:!0,keyboard:!0,
title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(c,n){P(this,n);this._latlng=q(c)},onAdd:function(c){if(this._zoomAnimated=this._zoomAnimated&&c.options.markerZoomAnimation)c.on("zoomanim",this._animateZoom,this);this._initIcon();this.update()},onRemove:function(c){this.dragging&&this.dragging.enabled()&&(this.options.draggable=
!0,this.dragging.removeHooks());delete this.dragging;this._zoomAnimated&&c.off("zoomanim",this._animateZoom,this);this._removeIcon();this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(c){var n=this._latlng;this._latlng=q(c);this.update();return this.fire("move",{oldLatLng:n,latlng:this._latlng})},setZIndexOffset:function(c){this.options.zIndexOffset=c;return this.update()},getIcon:function(){return this.options.icon},
setIcon:function(c){this.options.icon=c;this._map&&(this._initIcon(),this.update());this._popup&&this.bindPopup(this._popup,this._popup.options);return this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var c=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(c)}return this},_initIcon:function(){var c=this.options,n="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),I=c.icon.createIcon(this._icon),ba=!1;I!==this._icon&&(this._icon&&this._removeIcon(),
ba=!0,c.title&&(I.title=c.title),"IMG"===I.tagName&&(I.alt=c.alt||""));qb(I,n);c.keyboard&&(I.tabIndex="0");this._icon=I;if(c.riseOnHover)this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});I=c.icon.createShadow(this._shadow);var wa=!1;I!==this._shadow&&(this._removeShadow(),wa=!0);I&&(qb(I,n),I.alt="");this._shadow=I;1>c.opacity&&this._updateOpacity();ba&&this.getPane().appendChild(this._icon);this._initInteraction();I&&wa&&this.getPane(c.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&
this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex});Ua(this._icon);this.removeInteractiveTarget(this._icon);this._icon=null},_removeShadow:function(){this._shadow&&Ua(this._shadow);this._shadow=null},_setPos:function(c){this._icon&&nb(this._icon,c);this._shadow&&nb(this._shadow,c);this._zIndex=c.y+this.options.zIndexOffset;this._resetZIndex()},_updateZIndex:function(c){this._icon&&(this._icon.style.zIndex=this._zIndex+c)},_animateZoom:function(c){c=this._map._latLngToNewLayerPoint(this._latlng,
c.zoom,c.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(qb(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ve)){var c=this.options.draggable;this.dragging&&(c=this.dragging.enabled(),this.dragging.disable());this.dragging=new ve(this);c&&this.dragging.enable()}},setOpacity:function(c){this.options.opacity=c;this._map&&this._updateOpacity();return this},_updateOpacity:function(){var c=this.options.opacity;this._icon&&Sa(this._icon,
c);this._shadow&&Sa(this._shadow,c)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),De=ze.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,
bubblingMouseEvents:!0},beforeAdd:function(c){this._renderer=c.getRenderer(this)},onAdd:function(){this._renderer._initPath(this);this._reset();this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){this._map&&this._renderer._updatePath(this);return this},setStyle:function(c){P(this,c);this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&c&&c.hasOwnProperty("weight")&&this._updateBounds());return this},bringToFront:function(){this._renderer&&
this._renderer._bringToFront(this);return this},bringToBack:function(){this._renderer&&this._renderer._bringToBack(this);return this},getElement:function(){return this._path},_reset:function(){this._project();this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),E=De.extend({options:{fill:!0,radius:10},initialize:function(c,n){P(this,n);this._latlng=q(c);this._radius=this.options.radius},setLatLng:function(c){var n=this._latlng;
this._latlng=q(c);this.redraw();return this.fire("move",{oldLatLng:n,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(c){this.options.radius=this._radius=c;return this.redraw()},getRadius:function(){return this._radius},setStyle:function(c){var n=c&&c.radius||this._radius;De.prototype.setStyle.call(this,c);this.setRadius(n);return this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng);this._updateBounds()},_updateBounds:function(){var c=
this._radius,n=this._radiusY||c,I=this._clickTolerance();c=[c+I,n+I];this._pxBounds=new Va(this._point.subtract(c),this._point.add(c))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(c){return c.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),S=E.extend({initialize:function(c,n,I){"number"===typeof n&&(n=ma({},
I,{radius:n}));P(this,n);this._latlng=q(c);if(isNaN(this.options.radius))throw Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(c){this._mRadius=c;return this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var c=[this._radius,this._radiusY||this._radius];return new d(this._map.layerPointToLatLng(this._point.subtract(c)),this._map.layerPointToLatLng(this._point.add(c)))},setStyle:De.prototype.setStyle,_project:function(){var c=this._latlng.lng,
n=this._latlng.lat,I=this._map,ba=I.options.crs;if(ba.distance===Ra.distance){var wa=Math.PI/180;ba=this._mRadius/Ra.R/wa;var rb=I.project([n+ba,c]),Ab=I.project([n-ba,c]);Ab=rb.add(Ab).divideBy(2);var Jb=I.unproject(Ab).lat;wa=Math.acos((Math.cos(ba*wa)-Math.sin(n*wa)*Math.sin(Jb*wa))/(Math.cos(n*wa)*Math.cos(Jb*wa)))/wa;if(isNaN(wa)||0===wa)wa=ba/Math.cos(Math.PI/180*n);this._point=Ab.subtract(I.getPixelOrigin());this._radius=isNaN(wa)?0:Ab.x-I.project([Jb,c-wa]).x;this._radiusY=Ab.y-rb.y}else c=
ba.unproject(ba.project(this._latlng).subtract([this._mRadius,0])),this._point=I.latLngToLayerPoint(this._latlng),this._radius=this._point.x-I.latLngToLayerPoint(c).x;this._updateBounds()}}),Ka=De.extend({options:{smoothFactor:1,noClip:!1},initialize:function(c,n){P(this,n);this._setLatLngs(c)},getLatLngs:function(){return this._latlngs},setLatLngs:function(c){this._setLatLngs(c);return this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(c){for(var n=Infinity,
I=null,ba=ud,wa,rb,Ab=0,Jb=this._parts.length;Ab<Jb;Ab++)for(var Qb=this._parts[Ab],Ac=1,Oc=Qb.length;Ac<Oc;Ac++){wa=Qb[Ac-1];rb=Qb[Ac];var Sc=ba(c,wa,rb,!0);Sc<n&&(n=Sc,I=ba(c,wa,rb))}I&&(I.distance=Math.sqrt(n));return I},getCenter:function(){if(!this._map)throw Error("Must add layer to map before using getCenter()");var c,n,I,ba=this._rings[0],wa=ba.length;if(!wa)return null;for(n=c=0;c<wa-1;c++)n+=ba[c].distanceTo(ba[c+1])/2;if(0===n)return this._map.layerPointToLatLng(ba[0]);for(I=c=0;c<wa-1;c++){var rb=
ba[c];var Ab=ba[c+1];var Jb=rb.distanceTo(Ab);I+=Jb;if(I>n)return c=(I-n)/Jb,this._map.layerPointToLatLng([Ab.x-c*(Ab.x-rb.x),Ab.y-c*(Ab.y-rb.y)])}},getBounds:function(){return this._bounds},addLatLng:function(c,n){n=n||this._defaultShape();c=q(c);n.push(c);this._bounds.extend(c);return this.redraw()},_setLatLngs:function(c){this._bounds=new d;this._latlngs=this._convertLatLngs(c)},_defaultShape:function(){return Yc(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(c){for(var n=
[],I=Yc(c),ba=0,wa=c.length;ba<wa;ba++)I?(n[ba]=q(c[ba]),this._bounds.extend(n[ba])):n[ba]=this._convertLatLngs(c[ba]);return n},_project:function(){var c=new Va;this._rings=[];this._projectLatlngs(this._latlngs,this._rings,c);this._bounds.isValid()&&c.isValid()&&(this._rawPxBounds=c,this._updateBounds())},_updateBounds:function(){var c=this._clickTolerance();c=new aa(c,c);this._pxBounds=new Va([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)])},_projectLatlngs:function(c,n,I){var ba=
c.length,wa;if(c[0]instanceof l){var rb=[];for(wa=0;wa<ba;wa++)rb[wa]=this._map.latLngToLayerPoint(c[wa]),I.extend(rb[wa]);n.push(rb)}else for(wa=0;wa<ba;wa++)this._projectLatlngs(c[wa],n,I)},_clipPoints:function(){var c=this._renderer._bounds;this._parts=[];if(this._pxBounds&&this._pxBounds.intersects(c))if(this.options.noClip)this._parts=this._rings;else{var n=this._parts,I,ba,wa,rb;var Ab=I=0;for(ba=this._rings.length;I<ba;I++){var Jb=this._rings[I];var Qb=0;for(wa=Jb.length;Qb<wa-1;Qb++)if(rb=
tc(Jb[Qb],Jb[Qb+1],c,Qb,!0))if(n[Ab]=n[Ab]||[],n[Ab].push(rb[0]),rb[1]!==Jb[Qb+1]||Qb===wa-2)n[Ab].push(rb[1]),Ab++}}},_simplifyPoints:function(){for(var c=this._parts,n=this.options.smoothFactor,I=0,ba=c.length;I<ba;I++)c[I]=mb(c[I],n)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(c,n){var I,ba,wa=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(c))return!1;
var rb=0;for(ba=this._parts.length;rb<ba;rb++){var Ab=this._parts[rb];var Jb=0;var Qb=Ab.length;for(I=Qb-1;Jb<Qb;I=Jb++)if((n||0!==Jb)&&Sb(c,Ab[I],Ab[Jb])<=wa)return!0}return!1}});Ka._flat=Id;var pb=Ka.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw Error("Must add layer to map before using getCenter()");var c,n,I,ba,wa=this._rings[0],rb=wa.length;if(!rb)return null;var Ab=n=I=ba=0;for(c=rb-1;Ab<rb;c=Ab++){var Jb=
wa[Ab];c=wa[c];var Qb=Jb.y*c.x-c.y*Jb.x;I+=(Jb.x+c.x)*Qb;ba+=(Jb.y+c.y)*Qb;n+=3*Qb}return this._map.layerPointToLatLng(0===n?wa[0]:[I/n,ba/n])},_convertLatLngs:function(c){c=Ka.prototype._convertLatLngs.call(this,c);var n=c.length;2<=n&&c[0]instanceof l&&c[0].equals(c[n-1])&&c.pop();return c},_setLatLngs:function(c){Ka.prototype._setLatLngs.call(this,c);Yc(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Yc(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var c=
this._renderer._bounds,n=this.options.weight;n=new aa(n,n);c=new Va(c.min.subtract(n),c.max.add(n));this._parts=[];if(this._pxBounds&&this._pxBounds.intersects(c))if(this.options.noClip)this._parts=this._rings;else{n=0;for(var I=this._rings.length,ba;n<I;n++)ba=Wd(this._rings[n],c,!0),ba.length&&this._parts.push(ba)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(c){var n=!1,I,ba;if(!this._pxBounds||!this._pxBounds.contains(c))return!1;var wa=0;for(ba=this._parts.length;wa<
ba;wa++){var rb=this._parts[wa];var Ab=0;var Jb=rb.length;for(I=Jb-1;Ab<Jb;I=Ab++){var Qb=rb[Ab];I=rb[I];Qb.y>c.y!==I.y>c.y&&c.x<(I.x-Qb.x)*(c.y-Qb.y)/(I.y-Qb.y)+Qb.x&&(n=!n)}}return n||Ka.prototype._containsPoint.call(this,c,!0)}}),bc=Oe.extend({initialize:function(c,n){P(this,n);this._layers={};c&&this.addData(c)},addData:function(c){var n=xc(c)?c:c.features,I;if(n){c=0;for(I=n.length;c<I;c++){var ba=n[c];(ba.geometries||ba.geometry||ba.features||ba.coordinates)&&this.addData(ba)}return this}n=
this.options;if(n.filter&&!n.filter(c))return this;I=ge(c,n);if(!I)return this;I.feature=gc(c);I.defaultOptions=I.options;this.resetStyle(I);if(n.onEachFeature)n.onEachFeature(c,I);return this.addLayer(I)},resetStyle:function(c){if(void 0===c)return this.eachLayer(this.resetStyle,this);c.options=ma({},c.defaultOptions);this._setLayerStyle(c,this.options.style);return this},setStyle:function(c){return this.eachLayer(function(n){this._setLayerStyle(n,c)},this)},_setLayerStyle:function(c,n){c.setStyle&&
("function"===typeof n&&(n=n(c.feature)),c.setStyle(n))}}),Cc={toGeoJSON:function(c){return Db(this,{type:"Point",coordinates:Gc(this.getLatLng(),c)})}};zd.include(Cc);S.include(Cc);E.include(Cc);Ka.include({toGeoJSON:function(c){var n=!Yc(this._latlngs);c=fb(this._latlngs,n?1:0,!1,c);return Db(this,{type:(n?"Multi":"")+"LineString",coordinates:c})}});pb.include({toGeoJSON:function(c){var n=!Yc(this._latlngs),I=n&&!Yc(this._latlngs[0]);c=fb(this._latlngs,I?2:n?1:0,!0,c);n||(c=[c]);return Db(this,
{type:(I?"Multi":"")+"Polygon",coordinates:c})}});ye.include({toMultiPoint:function(c){var n=[];this.eachLayer(function(I){n.push(I.toGeoJSON(c).geometry.coordinates)});return Db(this,{type:"MultiPoint",coordinates:n})},toGeoJSON:function(c){var n=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===n)return this.toMultiPoint(c);var I="GeometryCollection"===n,ba=[];this.eachLayer(function(wa){wa.toGeoJSON&&(wa=wa.toGeoJSON(c),I?ba.push(wa.geometry):(wa=gc(wa),"FeatureCollection"===
wa.type?ba.push.apply(ba,wa.features):ba.push(wa)))});return I?Db(this,{geometries:ba,type:"GeometryCollection"}):{type:"FeatureCollection",features:ba}}});var Qc=ze.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(c,n,I){this._url=c;this._bounds=f(n);P(this,I)},onAdd:function(){this._image||(this._initImage(),1>this.options.opacity&&this._updateOpacity());this.options.interactive&&(qb(this._image,"leaflet-interactive"),
this.addInteractiveTarget(this._image));this.getPane().appendChild(this._image);this._reset()},onRemove:function(){Ua(this._image);this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(c){this.options.opacity=c;this._image&&this._updateOpacity();return this},setStyle:function(c){c.opacity&&this.setOpacity(c.opacity);return this},bringToFront:function(){this._map&&ja(this._image);return this},bringToBack:function(){this._map&&Qa(this._image);return this},setUrl:function(c){this._url=
c;this._image&&(this._image.src=c);return this},setBounds:function(c){this._bounds=f(c);this._map&&this._reset();return this},getEvents:function(){var c={zoom:this._reset,viewreset:this._reset};this._zoomAnimated&&(c.zoomanim=this._animateZoom);return c},setZIndex:function(c){this.options.zIndex=c;this._updateZIndex();return this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var c="IMG"===this._url.tagName,n=this._image=c?this._url:Oa("img");
qb(n,"leaflet-image-layer");this._zoomAnimated&&qb(n,"leaflet-zoom-animated");this.options.className&&qb(n,this.options.className);n.onselectstart=la;n.onmousemove=la;n.onload=Ma(this.fire,this,"load");n.onerror=Ma(this._overlayOnError,this,"error");if(this.options.crossOrigin||""===this.options.crossOrigin)n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin;this.options.zIndex&&this._updateZIndex();c?this._url=n.src:(n.src=this._url,n.alt=this.options.alt)},_animateZoom:function(c){var n=
this._map.getZoomScale(c.zoom);c=this._map._latLngBoundsToNewLayerBounds(this._bounds,c.zoom,c.center).min;jb(this._image,c,n)},_reset:function(){var c=this._image,n=new Va(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),I=n.getSize();nb(c,n.min);c.style.width=I.x+"px";c.style.height=I.y+"px"},_updateOpacity:function(){Sa(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==
this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var c=this.options.errorOverlayUrl;c&&this._url!==c&&(this._url=c,this._image.src=c)}}),sd=Qc.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0},_initImage:function(){var c="VIDEO"===this._url.tagName,n=this._image=c?this._url:Oa("video");qb(n,"leaflet-image-layer");this._zoomAnimated&&qb(n,"leaflet-zoom-animated");this.options.className&&qb(n,this.options.className);n.onselectstart=
la;n.onmousemove=la;n.onloadeddata=Ma(this.fire,this,"load");if(c){c=n.getElementsByTagName("source");for(var I=[],ba=0;ba<c.length;ba++)I.push(c[ba].src);this._url=0<c.length?I:[n.src]}else for(xc(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&n.style.hasOwnProperty("objectFit")&&(n.style.objectFit="fill"),n.autoplay=!!this.options.autoplay,n.loop=!!this.options.loop,c=0;c<this._url.length;c++)I=Oa("source"),I.src=this._url[c],n.appendChild(I)}}),Bd=Qc.extend({_initImage:function(){var c=
this._image=this._url;qb(c,"leaflet-image-layer");this._zoomAnimated&&qb(c,"leaflet-zoom-animated");this.options.className&&qb(c,this.options.className);c.onselectstart=la;c.onmousemove=la}}),nd=ze.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(c,n){P(this,c);this._source=n},onAdd:function(c){this._zoomAnimated=c._zoomAnimated;this._container||this._initLayout();c._fadeAnimated&&Sa(this._container,0);clearTimeout(this._removeTimeout);this.getPane().appendChild(this._container);
this.update();c._fadeAnimated&&Sa(this._container,1);this.bringToFront()},onRemove:function(c){c._fadeAnimated?(Sa(this._container,0),this._removeTimeout=setTimeout(Ma(Ua,void 0,this._container),200)):Ua(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(c){this._latlng=q(c);this._map&&(this._updatePosition(),this._adjustPan());return this},getContent:function(){return this._content},setContent:function(c){this._content=c;this.update();return this},getElement:function(){return this._container},
update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var c={zoom:this._updatePosition,viewreset:this._updatePosition};this._zoomAnimated&&(c.zoomanim=this._animateZoom);return c},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){this._map&&ja(this._container);return this},bringToBack:function(){this._map&&
Qa(this._container);return this},_prepareOpen:function(c,n,I){n instanceof ze||(I=n,n=c);if(n instanceof Oe)for(var ba in c._layers){n=c._layers[ba];break}if(!I)if(n.getCenter)I=n.getCenter();else if(n.getLatLng)I=n.getLatLng();else throw Error("Unable to get source layer LatLng.");this._source=n;this.update();return I},_updateContent:function(){if(this._content){var c=this._contentNode,n="function"===typeof this._content?this._content(this._source||this):this._content;if("string"===typeof n)c.innerHTML=
n;else{for(;c.hasChildNodes();)c.removeChild(c.firstChild);c.appendChild(n)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var c=this._map.latLngToLayerPoint(this._latlng),n=Ba(this.options.offset),I=this._getAnchor();this._zoomAnimated?nb(this._container,c.add(I)):n=n.add(c).add(I);c=this._containerBottom=-n.y;n=this._containerLeft=-Math.round(this._containerWidth/2)+n.x;this._container.style.bottom=c+"px";this._container.style.left=n+"px"}},_getAnchor:function(){return[0,
0]}}),Rd=nd.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(c){c.openPopup(this);return this},onAdd:function(c){nd.prototype.onAdd.call(this,c);c.fire("popupopen",{popup:this});if(this._source&&(this._source.fire("popupopen",{popup:this},!0),!(this._source instanceof De)))this._source.on("preclick",V)},onRemove:function(c){nd.prototype.onRemove.call(this,
c);c.fire("popupclose",{popup:this});this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof De||this._source.off("preclick",V))},getEvents:function(){var c=nd.prototype.getEvents.call(this);if(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)c.preclick=this._close;this.options.keepInView&&(c.moveend=this._adjustPan);return c},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var c=this._container=
Oa("div","leaflet-popup "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=Oa("div","leaflet-popup-content-wrapper",c);this._contentNode=Oa("div","leaflet-popup-content",n);Mb(n);hb(this._contentNode);ec(n,"contextmenu",V);this._tipContainer=Oa("div","leaflet-popup-tip-container",c);this._tip=Oa("div","leaflet-popup-tip",this._tipContainer);this.options.closeButton&&(c=this._closeButton=Oa("a","leaflet-popup-close-button",c),c.href="#close",c.innerHTML="\x26#215;",ec(c,"click",
this._onCloseButtonClick,this))},_updateLayout:function(){var c=this._contentNode,n=c.style;n.width="";n.whiteSpace="nowrap";var I=c.offsetWidth;I=Math.min(I,this.options.maxWidth);I=Math.max(I,this.options.minWidth);n.width=I+1+"px";n.whiteSpace="";n.height="";I=c.offsetHeight;var ba=this.options.maxHeight;ba&&I>ba?(n.height=ba+"px",qb(c,"leaflet-popup-scrolled")):La(c,"leaflet-popup-scrolled");this._containerWidth=this._container.offsetWidth},_animateZoom:function(c){c=this._map._latLngToNewLayerPoint(this._latlng,
c.zoom,c.center);var n=this._getAnchor();nb(this._container,c.add(n))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var c=this._map,n=parseInt(Ib(this._container,"marginBottom"),10)||0;n=this._container.offsetHeight+n;var I=this._containerWidth,ba=new aa(this._containerLeft,-n-this._containerBottom);ba._add(sb(this._container));ba=c.layerPointToContainerPoint(ba);var wa=Ba(this.options.autoPanPadding),rb=Ba(this.options.autoPanPaddingTopLeft||wa);wa=
Ba(this.options.autoPanPaddingBottomRight||wa);var Ab=c.getSize(),Jb=0,Qb=0;ba.x+I+wa.x>Ab.x&&(Jb=ba.x+I-Ab.x+wa.x);0>ba.x-Jb-rb.x&&(Jb=ba.x-rb.x);ba.y+n+wa.y>Ab.y&&(Qb=ba.y+n-Ab.y+wa.y);0>ba.y-Qb-rb.y&&(Qb=ba.y-rb.y);(Jb||Qb)&&c.fire("autopanstart").panBy([Jb,Qb])}},_onCloseButtonClick:function(c){this._close();Ub(c)},_getAnchor:function(){return Ba(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Tc.mergeOptions({closePopupOnClick:!0});Tc.include({openPopup:function(c,
n,I){c instanceof Rd||(c=(new Rd(I)).setContent(c));n&&c.setLatLng(n);if(this.hasLayer(c))return this;this._popup&&this._popup.options.autoClose&&this.closePopup();this._popup=c;return this.addLayer(c)},closePopup:function(c){c&&c!==this._popup||(c=this._popup,this._popup=null);c&&this.removeLayer(c);return this}});ze.include({bindPopup:function(c,n){if(c instanceof Rd)P(c,n),this._popup=c,c._source=this;else{if(!this._popup||n)this._popup=new Rd(n,this);this._popup.setContent(c)}this._popupHandlersAdded||
(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0);return this},unbindPopup:function(){this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null);return this},openPopup:function(c,n){this._popup&&this._map&&(n=this._popup._prepareOpen(this,c,n),this._map.openPopup(this._popup,n));return this},closePopup:function(){this._popup&&
this._popup._close();return this},togglePopup:function(c){this._popup&&(this._popup._map?this.closePopup():this.openPopup(c));return this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(c){this._popup&&this._popup.setContent(c);return this},getPopup:function(){return this._popup},_openPopup:function(c){var n=c.layer||c.target;this._popup&&this._map&&(Ub(c),n instanceof De?this.openPopup(c.layer||c.target,c.latlng):this._map.hasLayer(this._popup)&&this._popup._source===
n?this.closePopup():this.openPopup(n,c.latlng))},_movePopup:function(c){this._popup.setLatLng(c.latlng)},_onKeyPress:function(c){13===c.originalEvent.keyCode&&this._openPopup(c)}});var Ie=nd.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(c){nd.prototype.onAdd.call(this,c);this.setOpacity(this.options.opacity);c.fire("tooltipopen",{tooltip:this});this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(c){nd.prototype.onRemove.call(this,
c);c.fire("tooltipclose",{tooltip:this});this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var c=nd.prototype.getEvents.call(this);Wc&&!this.options.permanent&&(c.preclick=this._close);return c},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){this._contentNode=this._container=Oa("div","leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"))},_updateLayout:function(){},_adjustPan:function(){},
_setPosition:function(c){var n=this._map,I=this._container,ba=n.latLngToContainerPoint(n.getCenter());n=n.layerPointToContainerPoint(c);var wa=this.options.direction,rb=I.offsetWidth,Ab=I.offsetHeight,Jb=Ba(this.options.offset),Qb=this._getAnchor();"top"===wa?c=c.add(Ba(-rb/2+Jb.x,-Ab+Jb.y+Qb.y,!0)):"bottom"===wa?c=c.subtract(Ba(rb/2-Jb.x,-Jb.y,!0)):"center"===wa?c=c.subtract(Ba(rb/2+Jb.x,Ab/2-Qb.y+Jb.y,!0)):"right"===wa||"auto"===wa&&n.x<ba.x?(wa="right",c=c.add(Ba(Jb.x+Qb.x,Qb.y-Ab/2+Jb.y,!0))):
(wa="left",c=c.subtract(Ba(rb+Qb.x-Jb.x,Ab/2-Qb.y-Jb.y,!0)));La(I,"leaflet-tooltip-right");La(I,"leaflet-tooltip-left");La(I,"leaflet-tooltip-top");La(I,"leaflet-tooltip-bottom");qb(I,"leaflet-tooltip-"+wa);nb(I,c)},_updatePosition:function(){var c=this._map.latLngToLayerPoint(this._latlng);this._setPosition(c)},setOpacity:function(c){this.options.opacity=c;this._container&&Sa(this._container,c)},_animateZoom:function(c){c=this._map._latLngToNewLayerPoint(this._latlng,c.zoom,c.center);this._setPosition(c)},
_getAnchor:function(){return Ba(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Tc.include({openTooltip:function(c,n,I){c instanceof Ie||(c=(new Ie(I)).setContent(c));n&&c.setLatLng(n);return this.hasLayer(c)?this:this.addLayer(c)},closeTooltip:function(c){c&&this.removeLayer(c);return this}});ze.include({bindTooltip:function(c,n){if(c instanceof Ie)P(c,n),this._tooltip=c,c._source=this;else{if(!this._tooltip||n)this._tooltip=new Ie(n,
this);this._tooltip.setContent(c)}this._initTooltipInteractions();this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip();return this},unbindTooltip:function(){this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null);return this},_initTooltipInteractions:function(c){if(c||!this._tooltipHandlersAdded){var n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,
n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),Wc&&(n.click=this._openTooltip));this[c?"off":"on"](n);this._tooltipHandlersAdded=!c}},openTooltip:function(c,n){this._tooltip&&this._map&&(n=this._tooltip._prepareOpen(this,c,n),this._map.openTooltip(this._tooltip,n),this._tooltip.options.interactive&&this._tooltip._container&&(qb(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container)));return this},closeTooltip:function(){this._tooltip&&
(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(La(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container)));return this},toggleTooltip:function(c){this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(c));return this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(c){this._tooltip&&this._tooltip.setContent(c);return this},getTooltip:function(){return this._tooltip},
_openTooltip:function(c){this._tooltip&&this._map&&this.openTooltip(c.layer||c.target,this._tooltip.options.sticky?c.latlng:void 0)},_moveTooltip:function(c){var n=c.latlng;this._tooltip.options.sticky&&c.originalEvent&&(c=this._map.mouseEventToContainerPoint(c.originalEvent),c=this._map.containerPointToLayerPoint(c),n=this._map.layerPointToLatLng(c));this._tooltip.setLatLng(n)}});var He=Ed.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(c){c=
c&&"DIV"===c.tagName?c:document.createElement("div");var n=this.options;n.html instanceof Element?(Pa(c),c.appendChild(n.html)):c.innerHTML=!1!==n.html?n.html:"";n.bgPos&&(n=Ba(n.bgPos),c.style.backgroundPosition=-n.x+"px "+-n.y+"px");this._setIconStyles(c,"icon");return c},createShadow:function(){return null}});Ed.Default=be;var we=ze.extend({options:{tileSize:256,opacity:1,updateWhenIdle:cd,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,
minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(c){P(this,c)},onAdd:function(){this._initContainer();this._levels={};this._tiles={};this._resetView();this._update()},beforeAdd:function(c){c._addZoomLimit(this)},onRemove:function(c){this._removeAllTiles();Ua(this._container);c._removeZoomLimit(this);this._container=null;this._tileZoom=void 0},bringToFront:function(){this._map&&(ja(this._container),this._setAutoZIndex(Math.max));return this},bringToBack:function(){this._map&&
(Qa(this._container),this._setAutoZIndex(Math.min));return this},getContainer:function(){return this._container},setOpacity:function(c){this.options.opacity=c;this._updateOpacity();return this},setZIndex:function(c){this.options.zIndex=c;this._updateZIndex();return this},isLoading:function(){return this._loading},redraw:function(){this._map&&(this._removeAllTiles(),this._update());return this},getEvents:function(){var c={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,
moveend:this._onMoveEnd};this.options.updateWhenIdle||(this._onMove||(this._onMove=O(this._onMoveEnd,this.options.updateInterval,this)),c.move=this._onMove);this._zoomAnimated&&(c.zoomanim=this._animateZoom);return c},createTile:function(){return document.createElement("div")},getTileSize:function(){var c=this.options.tileSize;return c instanceof aa?c:new aa(c,c)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},
_setAutoZIndex:function(c){for(var n=this.getPane().children,I=-c(-Infinity,Infinity),ba=0,wa=n.length,rb;ba<wa;ba++)rb=n[ba].style.zIndex,n[ba]!==this._container&&rb&&(I=c(I,+rb));isFinite(I)&&(this.options.zIndex=I+c(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!K){Sa(this._container,this.options.opacity);var c=+new Date,n=!1,I=!1,ba;for(ba in this._tiles){var wa=this._tiles[ba];if(wa.current&&wa.loaded){var rb=Math.min(1,(c-wa.loaded)/200);Sa(wa.el,rb);1>rb?n=!0:(wa.active?
I=!0:this._onOpaqueTile(wa),wa.active=!0)}}I&&!this._noPrune&&this._pruneTiles();n&&(ia(this._fadeFrame),this._fadeFrame=ya(this._updateOpacity,this))}},_onOpaqueTile:la,_initContainer:function(){this._container||(this._container=Oa("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),1>this.options.opacity&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var c=this._tileZoom,n=this.options.maxZoom;if(void 0!==c){for(var I in this._levels)this._levels[I].el.children.length||
I===c?(this._levels[I].el.style.zIndex=n-Math.abs(c-I),this._onUpdateLevel(I)):(Ua(this._levels[I].el),this._removeTilesAtZoom(I),this._onRemoveLevel(I),delete this._levels[I]);I=this._levels[c];var ba=this._map;I||(I=this._levels[c]={},I.el=Oa("div","leaflet-tile-container leaflet-zoom-animated",this._container),I.el.style.zIndex=n,I.origin=ba.project(ba.unproject(ba.getPixelOrigin()),c).round(),I.zoom=c,this._setZoomTransform(I,ba.getCenter(),ba.getZoom()),this._onCreateLevel(I));return this._level=
I}},_onUpdateLevel:la,_onRemoveLevel:la,_onCreateLevel:la,_pruneTiles:function(){if(this._map){var c;var n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(c in this._tiles)n=this._tiles[c],n.retain=n.current;for(c in this._tiles)n=this._tiles[c],n.current&&!n.active&&(n=n.coords,this._retainParent(n.x,n.y,n.z,n.z-5)||this._retainChildren(n.x,n.y,n.z,n.z+2));for(c in this._tiles)this._tiles[c].retain||this._removeTile(c)}}},_removeTilesAtZoom:function(c){for(var n in this._tiles)this._tiles[n].coords.z===
c&&this._removeTile(n)},_removeAllTiles:function(){for(var c in this._tiles)this._removeTile(c)},_invalidateAll:function(){for(var c in this._levels)Ua(this._levels[c].el),this._onRemoveLevel(c),delete this._levels[c];this._removeAllTiles();this._tileZoom=void 0},_retainParent:function(c,n,I,ba){c=Math.floor(c/2);n=Math.floor(n/2);--I;var wa=new aa(+c,+n);wa.z=+I;wa=this._tileCoordsToKey(wa);if((wa=this._tiles[wa])&&wa.active)return wa.retain=!0;wa&&wa.loaded&&(wa.retain=!0);return I>ba?this._retainParent(c,
n,I,ba):!1},_retainChildren:function(c,n,I,ba){for(var wa=2*c;wa<2*c+2;wa++)for(var rb=2*n;rb<2*n+2;rb++){var Ab=new aa(wa,rb);Ab.z=I+1;Ab=this._tileCoordsToKey(Ab);(Ab=this._tiles[Ab])&&Ab.active?Ab.retain=!0:(Ab&&Ab.loaded&&(Ab.retain=!0),I+1<ba&&this._retainChildren(wa,rb,I+1,ba))}},_resetView:function(c){c=c&&(c.pinch||c.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(c){this._setView(c.center,c.zoom,!0,c.noUpdate)},_clampZoom:function(c){var n=this.options;
return void 0!==n.minNativeZoom&&c<n.minNativeZoom?n.minNativeZoom:void 0!==n.maxNativeZoom&&n.maxNativeZoom<c?n.maxNativeZoom:c},_setView:function(c,n,I,ba){var wa=this._clampZoom(Math.round(n));if(void 0!==this.options.maxZoom&&wa>this.options.maxZoom||void 0!==this.options.minZoom&&wa<this.options.minZoom)wa=void 0;var rb=this.options.updateWhenZooming&&wa!==this._tileZoom;if(!ba||rb)this._tileZoom=wa,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==wa&&
this._update(c),I||this._pruneTiles(),this._noPrune=!!I;this._setZoomTransforms(c,n)},_setZoomTransforms:function(c,n){for(var I in this._levels)this._setZoomTransform(this._levels[I],c,n)},_setZoomTransform:function(c,n,I){var ba=this._map.getZoomScale(I,c.zoom);n=c.origin.multiplyBy(ba).subtract(this._map._getNewPixelOrigin(n,I)).round();pd?jb(c.el,n,ba):nb(c.el,n)},_resetGrid:function(){var c=this._map,n=c.options.crs,I=this._tileSize=this.getTileSize(),ba=this._tileZoom,wa=this._map.getPixelWorldBounds(this._tileZoom);
wa&&(this._globalTileRange=this._pxBoundsToTileRange(wa));this._wrapX=n.wrapLng&&!this.options.noWrap&&[Math.floor(c.project([0,n.wrapLng[0]],ba).x/I.x),Math.ceil(c.project([0,n.wrapLng[1]],ba).x/I.y)];this._wrapY=n.wrapLat&&!this.options.noWrap&&[Math.floor(c.project([n.wrapLat[0],0],ba).y/I.x),Math.ceil(c.project([n.wrapLat[1],0],ba).y/I.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(c){var n=this._map,I=n._animatingZoom?Math.max(n._animateToZoom,
n.getZoom()):n.getZoom();I=n.getZoomScale(I,this._tileZoom);c=n.project(c,this._tileZoom).floor();n=n.getSize().divideBy(2*I);return new Va(c.subtract(n),c.add(n))},_update:function(c){var n=this._map;if(n){var I=this._clampZoom(n.getZoom());void 0===c&&(c=n.getCenter());if(void 0!==this._tileZoom){n=this._getTiledPixelBounds(c);var ba=this._pxBoundsToTileRange(n),wa=ba.getCenter();n=[];var rb=this.options.keepBuffer;rb=new Va(ba.getBottomLeft().subtract([rb,-rb]),ba.getTopRight().add([rb,-rb]));
if(!(isFinite(ba.min.x)&&isFinite(ba.min.y)&&isFinite(ba.max.x)&&isFinite(ba.max.y)))throw Error("Attempted to load an infinite number of tiles");for(var Ab in this._tiles){var Jb=this._tiles[Ab].coords;Jb.z===this._tileZoom&&rb.contains(new aa(Jb.x,Jb.y))||(this._tiles[Ab].current=!1)}if(1<Math.abs(I-this._tileZoom))this._setView(c,I);else{for(I=ba.min.y;I<=ba.max.y;I++)for(c=ba.min.x;c<=ba.max.x;c++)Ab=new aa(c,I),Ab.z=this._tileZoom,this._isValidTile(Ab)&&((rb=this._tiles[this._tileCoordsToKey(Ab)])?
rb.current=!0:n.push(Ab));n.sort(function(Qb,Ac){return Qb.distanceTo(wa)-Ac.distanceTo(wa)});if(0!==n.length){this._loading||(this._loading=!0,this.fire("loading"));ba=document.createDocumentFragment();for(c=0;c<n.length;c++)this._addTile(n[c],ba);this._level.el.appendChild(ba)}}}}},_isValidTile:function(c){var n=this._map.options.crs;if(!n.infinite){var I=this._globalTileRange;if(!n.wrapLng&&(c.x<I.min.x||c.x>I.max.x)||!n.wrapLat&&(c.y<I.min.y||c.y>I.max.y))return!1}if(!this.options.bounds)return!0;
c=this._tileCoordsToBounds(c);return f(this.options.bounds).overlaps(c)},_keyToBounds:function(c){return this._tileCoordsToBounds(this._keyToTileCoords(c))},_tileCoordsToNwSe:function(c){var n=this._map,I=this.getTileSize(),ba=c.scaleBy(I);I=ba.add(I);ba=n.unproject(ba,c.z);c=n.unproject(I,c.z);return[ba,c]},_tileCoordsToBounds:function(c){c=this._tileCoordsToNwSe(c);c=new d(c[0],c[1]);this.options.noWrap||(c=this._map.wrapLatLngBounds(c));return c},_tileCoordsToKey:function(c){return c.x+":"+c.y+
":"+c.z},_keyToTileCoords:function(c){c=c.split(":");var n=new aa(+c[0],+c[1]);n.z=+c[2];return n},_removeTile:function(c){var n=this._tiles[c];n&&(Ua(n.el),delete this._tiles[c],this.fire("tileunload",{tile:n.el,coords:this._keyToTileCoords(c)}))},_initTile:function(c){qb(c,"leaflet-tile");var n=this.getTileSize();c.style.width=n.x+"px";c.style.height=n.y+"px";c.onselectstart=la;c.onmousemove=la;K&&1>this.options.opacity&&Sa(c,this.options.opacity);r&&!x&&(c.style.WebkitBackfaceVisibility="hidden")},
_addTile:function(c,n){var I=this._getTilePos(c),ba=this._tileCoordsToKey(c),wa=this.createTile(this._wrapCoords(c),Ma(this._tileReady,this,c));this._initTile(wa);2>this.createTile.length&&ya(Ma(this._tileReady,this,c,null,wa));nb(wa,I);this._tiles[ba]={el:wa,coords:c,current:!0};n.appendChild(wa);this.fire("tileloadstart",{tile:wa,coords:c})},_tileReady:function(c,n,I){n&&this.fire("tileerror",{error:n,tile:I,coords:c});I=this._tileCoordsToKey(c);if(I=this._tiles[I])I.loaded=+new Date,this._map._fadeAnimated?
(Sa(I.el,0),ia(this._fadeFrame),this._fadeFrame=ya(this._updateOpacity,this)):(I.active=!0,this._pruneTiles()),n||(qb(I.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:I.el,coords:c})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),K||!this._map._fadeAnimated?ya(this._pruneTiles,this):setTimeout(Ma(this._pruneTiles,this),250))},_getTilePos:function(c){return c.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(c){var n=new aa(this._wrapX?X(c.x,this._wrapX):
c.x,this._wrapY?X(c.y,this._wrapY):c.y);n.z=c.z;return n},_pxBoundsToTileRange:function(c){var n=this.getTileSize();return new Va(c.min.unscaleBy(n).floor(),c.max.unscaleBy(n).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var c in this._tiles)if(!this._tiles[c].loaded)return!1;return!0}}),Ad=we.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(c,n){this._url=c;n=P(this,n);n.detectRetina&&
Fd&&0<n.maxZoom&&(n.tileSize=Math.floor(n.tileSize/2),n.zoomReverse?(n.zoomOffset--,n.minZoom++):(n.zoomOffset++,n.maxZoom--),n.minZoom=Math.max(0,n.minZoom));"string"===typeof n.subdomains&&(n.subdomains=n.subdomains.split(""));if(!r)this.on("tileunload",this._onTileRemove)},setUrl:function(c,n){this._url===c&&void 0===n&&(n=!0);this._url=c;n||this.redraw();return this},createTile:function(c,n){var I=document.createElement("img");ec(I,"load",Ma(this._tileOnLoad,this,n,I));ec(I,"error",Ma(this._tileOnError,
this,n,I));if(this.options.crossOrigin||""===this.options.crossOrigin)I.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin;I.alt="";I.setAttribute("role","presentation");I.src=this.getTileUrl(c);return I},getTileUrl:function(c){var n={r:Fd?"@2x":"",s:this._getSubdomain(c),x:c.x,y:c.y,z:this._getZoomForUrl()};this._map&&!this._map.options.crs.infinite&&(c=this._globalTileRange.max.y-c.y,this.options.tms&&(n.y=c),n["-y"]=c);return va(this._url,ma(n,this.options))},_tileOnLoad:function(c,
n){K?setTimeout(Ma(c,this,null,n),0):c(null,n)},_tileOnError:function(c,n,I){var ba=this.options.errorTileUrl;ba&&n.getAttribute("src")!==ba&&(n.src=ba);c(I,n)},_onTileRemove:function(c){c.tile.onload=null},_getZoomForUrl:function(){var c=this._tileZoom,n=this.options.maxZoom,I=this.options.zoomOffset;this.options.zoomReverse&&(c=n-c);return c+I},_getSubdomain:function(c){return this.options.subdomains[Math.abs(c.x+c.y)%this.options.subdomains.length]},_abortLoading:function(){var c;for(c in this._tiles)if(this._tiles[c].coords.z!==
this._tileZoom){var n=this._tiles[c].el;n.onload=la;n.onerror=la;n.complete||(n.src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs\x3d",Ua(n),delete this._tiles[c])}},_removeTile:function(c){var n=this._tiles[c];if(n)return Z||n.el.setAttribute("src","data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs\x3d"),we.prototype._removeTile.call(this,c)},_tileReady:function(c,n,I){if(this._map&&(!I||"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs\x3d"!==I.getAttribute("src")))return we.prototype._tileReady.call(this,
c,n,I)}}),hf=Ad.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(c,n){this._url=c;c=ma({},this.defaultWmsParams);for(var I in n)I in this.options||(c[I]=n[I]);n=P(this,n);n=n.detectRetina&&Fd?2:1;I=this.getTileSize();c.width=I.x*n;c.height=I.y*n;this.wmsParams=c},onAdd:function(c){this._crs=this.options.crs||c.options.crs;this._wmsVersion=parseFloat(this.wmsParams.version);
this.wmsParams[1.3<=this._wmsVersion?"crs":"srs"]=this._crs.code;Ad.prototype.onAdd.call(this,c)},getTileUrl:function(c){var n=this._tileCoordsToNwSe(c),I=this._crs;I=Ya(I.project(n[0]),I.project(n[1]));n=I.min;I=I.max;n=(1.3<=this._wmsVersion&&this._crs===Se?[n.y,n.x,I.y,I.x]:[n.x,n.y,I.x,I.y]).join(",");c=Ad.prototype.getTileUrl.call(this,c);return c+ca(this.wmsParams,c,this.options.uppercase)+(this.options.uppercase?"\x26BBOX\x3d":"\x26bbox\x3d")+n},setParams:function(c,n){ma(this.wmsParams,c);
n||this.redraw();return this}});Ad.WMS=hf;wc.wms=function(c,n){return new hf(c,n)};var oe=ze.extend({options:{padding:.1,tolerance:0},initialize:function(c){P(this,c);y(this);this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&qb(this._container,"leaflet-zoom-animated"));this.getPane().appendChild(this._container);this._update();this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this);this._destroyContainer()},
getEvents:function(){var c={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};this._zoomAnimated&&(c.zoomanim=this._onAnimZoom);return c},_onAnimZoom:function(c){this._updateTransform(c.center,c.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(c,n){var I=this._map.getZoomScale(n,this._zoom),ba=sb(this._container),wa=this._map.getSize().multiplyBy(.5+this.options.padding),rb=this._map.project(this._center,
n);c=this._map.project(c,n).subtract(rb);ba=wa.multiplyBy(-I).add(ba).add(wa).subtract(c);pd?jb(this._container,ba,I):nb(this._container,ba)},_reset:function(){this._update();this._updateTransform(this._center,this._zoom);for(var c in this._layers)this._layers[c]._reset()},_onZoomEnd:function(){for(var c in this._layers)this._layers[c]._project()},_updatePaths:function(){for(var c in this._layers)this._layers[c]._update()},_update:function(){var c=this.options.padding,n=this._map.getSize(),I=this._map.containerPointToLayerPoint(n.multiplyBy(-c)).round();
this._bounds=new Va(I,I.add(n.multiplyBy(1+2*c)).round());this._center=this._map.getCenter();this._zoom=this._map.getZoom()}}),Te=oe.extend({getEvents:function(){var c=oe.prototype.getEvents.call(this);c.viewprereset=this._onViewPreReset;return c},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){oe.prototype.onAdd.call(this);this._draw()},_initContainer:function(){var c=this._container=document.createElement("canvas");ec(c,"mousemove",this._onMouseMove,this);ec(c,"click dblclick mousedown mouseup contextmenu",
this._onClick,this);ec(c,"mouseout",this._handleMouseOut,this);this._ctx=c.getContext("2d")},_destroyContainer:function(){ia(this._redrawRequest);delete this._ctx;Ua(this._container);lb(this._container);delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){this._redrawBounds=null;for(var c in this._layers){var n=this._layers[c];n._update()}this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){oe.prototype._update.call(this);var c=this._bounds,n=
this._container,I=c.getSize(),ba=Fd?2:1;nb(n,c.min);n.width=ba*I.x;n.height=ba*I.y;n.style.width=I.x+"px";n.style.height=I.y+"px";Fd&&this._ctx.scale(2,2);this._ctx.translate(-c.min.x,-c.min.y);this.fire("update")}},_reset:function(){oe.prototype._reset.call(this);this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(c){this._updateDashArray(c);this._layers[y(c)]=c;c=c._order={layer:c,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c);
this._drawLast=c;this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(c){this._requestRedraw(c)},_removePath:function(c){var n=c._order,I=n.next;n=n.prev;I?I.prev=n:this._drawLast=n;n?n.next=I:this._drawFirst=I;delete c._order;delete this._layers[y(c)];this._requestRedraw(c)},_updatePath:function(c){this._extendRedrawBounds(c);c._project();c._update();this._requestRedraw(c)},_updateStyle:function(c){this._updateDashArray(c);this._requestRedraw(c)},_updateDashArray:function(c){if("string"===
typeof c.options.dashArray){var n=c.options.dashArray.split(/[, ]+/),I=[],ba;for(ba=0;ba<n.length;ba++){var wa=Number(n[ba]);if(isNaN(wa))return;I.push(wa)}c.options._dashArray=I}else c.options._dashArray=c.options.dashArray},_requestRedraw:function(c){this._map&&(this._extendRedrawBounds(c),this._redrawRequest=this._redrawRequest||ya(this._redraw,this))},_extendRedrawBounds:function(c){if(c._pxBounds){var n=(c.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Va;this._redrawBounds.extend(c._pxBounds.min.subtract([n,
n]));this._redrawBounds.extend(c._pxBounds.max.add([n,n]))}},_redraw:function(){this._redrawRequest=null;this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil());this._clear();this._draw();this._redrawBounds=null},_clear:function(){var c=this._redrawBounds;if(c){var n=c.getSize();this._ctx.clearRect(c.min.x,c.min.y,n.x,n.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var c=this._redrawBounds;this._ctx.save();if(c){var n=
c.getSize();this._ctx.beginPath();this._ctx.rect(c.min.x,c.min.y,n.x,n.y);this._ctx.clip()}this._drawing=!0;for(var I=this._drawFirst;I;I=I.next)n=I.layer,(!c||n._pxBounds&&n._pxBounds.intersects(c))&&n._updatePath();this._drawing=!1;this._ctx.restore()},_updatePoly:function(c,n){if(this._drawing){var I,ba,wa=c._parts,rb=wa.length,Ab=this._ctx;if(rb){Ab.beginPath();for(I=0;I<rb;I++){var Jb=0;for(ba=wa[I].length;Jb<ba;Jb++){var Qb=wa[I][Jb];Ab[Jb?"lineTo":"moveTo"](Qb.x,Qb.y)}n&&Ab.closePath()}this._fillStroke(Ab,
c)}}},_updateCircle:function(c){if(this._drawing&&!c._empty()){var n=c._point,I=this._ctx,ba=Math.max(Math.round(c._radius),1),wa=(Math.max(Math.round(c._radiusY),1)||ba)/ba;1!==wa&&(I.save(),I.scale(1,wa));I.beginPath();I.arc(n.x,n.y/wa,ba,0,2*Math.PI,!1);1!==wa&&I.restore();this._fillStroke(I,c)}},_fillStroke:function(c,n){var I=n.options;I.fill&&(c.globalAlpha=I.fillOpacity,c.fillStyle=I.fillColor||I.color,c.fill(I.fillRule||"evenodd"));I.stroke&&0!==I.weight&&(c.setLineDash&&c.setLineDash(n.options&&
n.options._dashArray||[]),c.globalAlpha=I.opacity,c.lineWidth=I.weight,c.strokeStyle=I.color,c.lineCap=I.lineCap,c.lineJoin=I.lineJoin,c.stroke())},_onClick:function(c){for(var n=this._map.mouseEventToLayerPoint(c),I,ba,wa=this._drawFirst;wa;wa=wa.next)I=wa.layer,I.options.interactive&&I._containsPoint(n)&&!this._map._draggableMoved(I)&&(ba=I);ba&&(xa(c),this._fireEvent([ba],c))},_onMouseMove:function(c){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var n=this._map.mouseEventToLayerPoint(c);
this._handleMouseHover(c,n)}},_handleMouseOut:function(c){var n=this._hoveredLayer;n&&(La(this._container,"leaflet-interactive"),this._fireEvent([n],c,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(c,n){if(!this._mouseHoverThrottled){for(var I,ba,wa=this._drawFirst;wa;wa=wa.next)I=wa.layer,I.options.interactive&&I._containsPoint(n)&&(ba=I);ba!==this._hoveredLayer&&(this._handleMouseOut(c),ba&&(qb(this._container,"leaflet-interactive"),this._fireEvent([ba],
c,"mouseover"),this._hoveredLayer=ba));this._hoveredLayer&&this._fireEvent([this._hoveredLayer],c);this._mouseHoverThrottled=!0;setTimeout(L.bind(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(c,n,I){this._map._fireDOMEvent(n,I||n.type,c)},_bringToFront:function(c){var n=c._order;if(n){var I=n.next,ba=n.prev;I&&((I.prev=ba)?ba.next=I:I&&(this._drawFirst=I),n.prev=this._drawLast,this._drawLast.next=n,n.next=null,this._drawLast=n,this._requestRedraw(c))}},_bringToBack:function(c){var n=
c._order;if(n){var I=n.next,ba=n.prev;ba&&((ba.next=I)?I.prev=ba:ba&&(this._drawLast=ba),n.prev=null,n.next=this._drawFirst,this._drawFirst=this._drawFirst.prev=n,this._requestRedraw(c))}}}),Cd=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(c){return document.createElement("\x3clvml:"+c+' class\x3d"lvml"\x3e')}}catch(c){return function(n){return document.createElement("\x3c"+n+' xmlns\x3d"urn:schemas-microsoft.com:vml" class\x3d"lvml"\x3e')}}}(),Me=
{_initContainer:function(){this._container=Oa("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(oe.prototype._update.call(this),this.fire("update"))},_initPath:function(c){var n=c._container=Cd("shape");qb(n,"leaflet-vml-shape "+(this.options.className||""));n.coordsize="1 1";c._path=Cd("path");n.appendChild(c._path);this._updateStyle(c);this._layers[y(c)]=c},_addPath:function(c){var n=c._container;this._container.appendChild(n);c.options.interactive&&c.addInteractiveTarget(n)},
_removePath:function(c){var n=c._container;Ua(n);c.removeInteractiveTarget(n);delete this._layers[y(c)]},_updateStyle:function(c){var n=c._stroke,I=c._fill,ba=c.options,wa=c._container;wa.stroked=!!ba.stroke;wa.filled=!!ba.fill;ba.stroke?(n||(n=c._stroke=Cd("stroke")),wa.appendChild(n),n.weight=ba.weight+"px",n.color=ba.color,n.opacity=ba.opacity,n.dashStyle=ba.dashArray?xc(ba.dashArray)?ba.dashArray.join(" "):ba.dashArray.replace(/( *, *)/g," "):"",n.endcap=ba.lineCap.replace("butt","flat"),n.joinstyle=
ba.lineJoin):n&&(wa.removeChild(n),c._stroke=null);ba.fill?(I||(I=c._fill=Cd("fill")),wa.appendChild(I),I.color=ba.fillColor||ba.color,I.opacity=ba.fillOpacity):I&&(wa.removeChild(I),c._fill=null)},_updateCircle:function(c){var n=c._point.round(),I=Math.round(c._radius),ba=Math.round(c._radiusY||I);this._setPath(c,c._empty()?"M0 0":"AL "+n.x+","+n.y+" "+I+","+ba+" 0,23592600")},_setPath:function(c,n){c._path.v=n},_bringToFront:function(c){ja(c._container)},_bringToBack:function(c){Qa(c._container)}},
Ue=qe?Cd:G,Ne=oe.extend({getEvents:function(){var c=oe.prototype.getEvents.call(this);c.zoomstart=this._onZoomStart;return c},_initContainer:function(){this._container=Ue("svg");this._container.setAttribute("pointer-events","none");this._rootGroup=Ue("g");this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ua(this._container);lb(this._container);delete this._container;delete this._rootGroup;delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||
!this._bounds){oe.prototype._update.call(this);var c=this._bounds,n=c.getSize(),I=this._container;this._svgSize&&this._svgSize.equals(n)||(this._svgSize=n,I.setAttribute("width",n.x),I.setAttribute("height",n.y));nb(I,c.min);I.setAttribute("viewBox",[c.min.x,c.min.y,n.x,n.y].join(" "));this.fire("update")}},_initPath:function(c){var n=c._path=Ue("path");c.options.className&&qb(n,c.options.className);c.options.interactive&&qb(n,"leaflet-interactive");this._updateStyle(c);this._layers[y(c)]=c},_addPath:function(c){this._rootGroup||
this._initContainer();this._rootGroup.appendChild(c._path);c.addInteractiveTarget(c._path)},_removePath:function(c){Ua(c._path);c.removeInteractiveTarget(c._path);delete this._layers[y(c)]},_updatePath:function(c){c._project();c._update()},_updateStyle:function(c){var n=c._path;c=c.options;n&&(c.stroke?(n.setAttribute("stroke",c.color),n.setAttribute("stroke-opacity",c.opacity),n.setAttribute("stroke-width",c.weight),n.setAttribute("stroke-linecap",c.lineCap),n.setAttribute("stroke-linejoin",c.lineJoin),
c.dashArray?n.setAttribute("stroke-dasharray",c.dashArray):n.removeAttribute("stroke-dasharray"),c.dashOffset?n.setAttribute("stroke-dashoffset",c.dashOffset):n.removeAttribute("stroke-dashoffset")):n.setAttribute("stroke","none"),c.fill?(n.setAttribute("fill",c.fillColor||c.color),n.setAttribute("fill-opacity",c.fillOpacity),n.setAttribute("fill-rule",c.fillRule||"evenodd")):n.setAttribute("fill","none"))},_updatePoly:function(c,n){this._setPath(c,H(c._parts,n))},_updateCircle:function(c){var n=
c._point,I=Math.max(Math.round(c._radius),1),ba="a"+I+","+(Math.max(Math.round(c._radiusY),1)||I)+" 0 1,0 ";n=c._empty()?"M0 0":"M"+(n.x-I)+","+n.y+ba+2*I+",0 "+ba+2*-I+",0 ";this._setPath(c,n)},_setPath:function(c,n){c._path.setAttribute("d",n)},_bringToFront:function(c){ja(c._path)},_bringToBack:function(c){Qa(c._path)}});qe&&Ne.include(Me);Tc.include({getRenderer:function(c){c=c.options.renderer||this._getPaneRenderer(c.options.pane)||this.options.renderer||this._renderer;c||(c=this._renderer=
this._createRenderer());this.hasLayer(c)||this.addLayer(c);return c},_getPaneRenderer:function(c){if("overlayPane"===c||void 0===c)return!1;var n=this._paneRenderers[c];void 0===n&&(n=this._createRenderer({pane:c}),this._paneRenderers[c]=n);return n},_createRenderer:function(c){return this.options.preferCanvas&&Mc(c)||ic(c)}});var yb=pb.extend({initialize:function(c,n){pb.prototype.initialize.call(this,this._boundsToLatLngs(c),n)},setBounds:function(c){return this.setLatLngs(this._boundsToLatLngs(c))},
_boundsToLatLngs:function(c){c=f(c);return[c.getSouthWest(),c.getNorthWest(),c.getNorthEast(),c.getSouthEast()]}});Ne.create=Ue;Ne.pointsToPath=H;bc.geometryToLayer=ge;bc.coordsToLatLng=Qd;bc.coordsToLatLngs=Dd;bc.latLngToCoords=Gc;bc.latLngsToCoords=fb;bc.getFeature=Db;bc.asFeature=gc;Tc.mergeOptions({boxZoom:!0});var Rb=$c.extend({initialize:function(c){this._map=c;this._container=c._container;this._pane=c._panes.overlayPane;this._resetStateTimeout=0;c.on("unload",this._destroy,this)},addHooks:function(){ec(this._container,
"mousedown",this._onMouseDown,this)},removeHooks:function(){lb(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ua(this._pane);delete this._pane},_resetState:function(){this._resetStateTimeout=0;this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(c){if(!c.shiftKey||1!==c.which&&1!==c.button)return!1;this._clearDeferredResetState();
this._resetState();C();hc();this._startPoint=this._map.mouseEventToContainerPoint(c);ec(document,{contextmenu:Ub,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(c){this._moved||(this._moved=!0,this._box=Oa("div","leaflet-zoom-box",this._container),qb(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart"));this._point=this._map.mouseEventToContainerPoint(c);c=new Va(this._point,this._startPoint);var n=c.getSize();nb(this._box,c.min);
this._box.style.width=n.x+"px";this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(Ua(this._box),La(this._container,"leaflet-crosshair"));W();Nb();lb(document,{contextmenu:Ub,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(c){if(1===c.which||1===c.button)this._finish(),this._moved&&(this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(Ma(this._resetState,this),0),c=new d(this._map.containerPointToLatLng(this._startPoint),
this._map.containerPointToLatLng(this._point)),this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c}))},_onKeyDown:function(c){27===c.keyCode&&this._finish()}});Tc.addInitHook("addHandler","boxZoom",Rb);Tc.mergeOptions({doubleClickZoom:!0});var Fb=$c.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(c){var n=this._map,I=n.getZoom(),ba=n.options.zoomDelta;I=c.originalEvent.shiftKey?
I-ba:I+ba;"center"===n.options.doubleClickZoom?n.setZoom(I):n.setZoomAround(c.containerPoint,I)}});Tc.addInitHook("addHandler","doubleClickZoom",Fb);Tc.mergeOptions({dragging:!0,inertia:!x,inertiaDeceleration:3400,inertiaMaxSpeed:Infinity,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var rc=$c.extend({addHooks:function(){if(!this._draggable){var c=this._map;this._draggable=new ee(c._mapPane,c._container);this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},
this);this._draggable.on("predrag",this._onPreDragLimit,this);c.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),c.on("zoomend",this._onZoomEnd,this),c.whenReady(this._onZoomEnd,this))}qb(this._map._container,"leaflet-grab leaflet-touch-drag");this._draggable.enable();this._positions=[];this._times=[]},removeHooks:function(){La(this._map._container,"leaflet-grab");La(this._map._container,"leaflet-touch-drag");this._draggable.disable()},moved:function(){return this._draggable&&
this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var c=this._map;c._stop();if(this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var n=f(this._map.options.maxBounds);this._offsetLimit=Ya(this._map.latLngToContainerPoint(n.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(n.getSouthEast()).multiplyBy(-1).add(this._map.getSize()));this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=
null;c.fire("movestart").fire("dragstart");c.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(c){if(this._map.options.inertia){var n=this._lastTime=+new Date,I=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(I);this._times.push(n);this._prunePositions(n)}this._map.fire("move",c).fire("drag",c)},_prunePositions:function(c){for(;1<this._positions.length&&50<c-this._times[0];)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var c=
this._map.getSize().divideBy(2);this._initialWorldOffset=this._map.latLngToLayerPoint([0,0]).subtract(c).x;this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(c,n){return c-(c-n)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var c=this._draggable._newPos.subtract(this._draggable._startPos),n=this._offsetLimit;c.x<n.min.x&&(c.x=this._viscousLimit(c.x,n.min.x));c.y<n.min.y&&(c.y=this._viscousLimit(c.y,n.min.y));c.x>n.max.x&&(c.x=
this._viscousLimit(c.x,n.max.x));c.y>n.max.y&&(c.y=this._viscousLimit(c.y,n.max.y));this._draggable._newPos=this._draggable._startPos.add(c)}},_onPreDragWrap:function(){var c=this._worldWidth,n=Math.round(c/2),I=this._initialWorldOffset,ba=this._draggable._newPos.x,wa=(ba-n+I)%c+n-I;c=(ba+n+I)%c-n-I;I=Math.abs(wa+I)<Math.abs(c+I)?wa:c;this._draggable._absPos=this._draggable._newPos.clone();this._draggable._newPos.x=I},_onDragEnd:function(c){var n=this._map,I=n.options,ba=!I.inertia||2>this._times.length;
n.fire("dragend",c);if(ba)n.fire("moveend");else{this._prunePositions(+new Date);c=this._lastPos.subtract(this._positions[0]);var wa=I.easeLinearity;ba=c.multiplyBy(wa/((this._lastTime-this._times[0])/1E3));var rb=ba.distanceTo([0,0]);c=Math.min(I.inertiaMaxSpeed,rb);ba=ba.multiplyBy(c/rb);var Ab=c/(I.inertiaDeceleration*wa),Jb=ba.multiplyBy(-Ab/2).round();Jb.x||Jb.y?(Jb=n._limitOffset(Jb,n.options.maxBounds),ya(function(){n.panBy(Jb,{duration:Ab,easeLinearity:wa,noMoveStart:!0,animate:!0})})):n.fire("moveend")}}});
Tc.addInitHook("addHandler","dragging",rc);Tc.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Kc=$c.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(c){this._map=c;this._setPanDelta(c.options.keyboardPanDelta);this._setZoomDelta(c.options.zoomDelta)},addHooks:function(){var c=this._map._container;0>=c.tabIndex&&(c.tabIndex="0");ec(c,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this);this._map.on({focus:this._addHooks,
blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks();lb(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this);this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var c=document.body,n=document.documentElement,I=c.scrollTop||n.scrollTop;c=c.scrollLeft||n.scrollLeft;this._map._container.focus();window.scrollTo(c,I)}},_onFocus:function(){this._focused=!0;this._map.fire("focus")},_onBlur:function(){this._focused=
!1;this._map.fire("blur")},_setPanDelta:function(c){var n=this._panKeys={},I=this.keyCodes,ba;var wa=0;for(ba=I.left.length;wa<ba;wa++)n[I.left[wa]]=[-1*c,0];wa=0;for(ba=I.right.length;wa<ba;wa++)n[I.right[wa]]=[c,0];wa=0;for(ba=I.down.length;wa<ba;wa++)n[I.down[wa]]=[0,c];wa=0;for(ba=I.up.length;wa<ba;wa++)n[I.up[wa]]=[0,-1*c]},_setZoomDelta:function(c){var n=this._zoomKeys={},I=this.keyCodes,ba;var wa=0;for(ba=I.zoomIn.length;wa<ba;wa++)n[I.zoomIn[wa]]=c;wa=0;for(ba=I.zoomOut.length;wa<ba;wa++)n[I.zoomOut[wa]]=
-c},_addHooks:function(){ec(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){lb(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(c){if(!(c.altKey||c.ctrlKey||c.metaKey)){var n=c.keyCode,I=this._map;if(n in this._panKeys)I._panAnim&&I._panAnim._inProgress||(n=this._panKeys[n],c.shiftKey&&(n=Ba(n).multiplyBy(3)),I.panBy(n),I.options.maxBounds&&I.panInsideBounds(I.options.maxBounds));else if(n in this._zoomKeys)I.setZoom(I.getZoom()+(c.shiftKey?3:1)*this._zoomKeys[n]);else if(27===
n&&I._popup&&I._popup.options.closeOnEscapeKey)I.closePopup();else return;Ub(c)}}});Tc.addInitHook("addHandler","keyboard",Kc);Tc.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var fa=$c.extend({addHooks:function(){ec(this._map._container,"mousewheel",this._onWheelScroll,this);this._delta=0},removeHooks:function(){lb(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(c){var n=gb(c),I=this._map.options.wheelDebounceTime;this._delta+=
n;this._lastMousePos=this._map.mouseEventToContainerPoint(c);this._startTime||(this._startTime=+new Date);n=Math.max(I-(+new Date-this._startTime),0);clearTimeout(this._timer);this._timer=setTimeout(Ma(this._performZoom,this),n);Ub(c)},_performZoom:function(){var c=this._map,n=c.getZoom(),I=this._map.options.zoomSnap||0;c._stop();var ba=4*Math.log(2/(1+Math.exp(-Math.abs(this._delta/(4*this._map.options.wheelPxPerZoomLevel)))))/Math.LN2;I=I?Math.ceil(ba/I)*I:ba;I=c._limitZoom(n+(0<this._delta?I:-I))-
n;this._delta=0;this._startTime=null;I&&("center"===c.options.scrollWheelZoom?c.setZoom(n+I):c.setZoomAround(this._lastMousePos,n+I))}});Tc.addInitHook("addHandler","scrollWheelZoom",fa);Tc.mergeOptions({tap:!0,tapTolerance:15});var Ca=$c.extend({addHooks:function(){ec(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){lb(this._map._container,"touchstart",this._onDown,this)},_onDown:function(c){if(c.touches)if(Wb(c),this._fireClick=!0,1<c.touches.length)this._fireClick=!1,
clearTimeout(this._holdTimeout);else{var n=c.touches[0];c=n.target;this._startPos=this._newPos=new aa(n.clientX,n.clientY);c.tagName&&"a"===c.tagName.toLowerCase()&&qb(c,"leaflet-active");this._holdTimeout=setTimeout(Ma(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",n))},this),1E3);this._simulateEvent("mousedown",n);ec(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(c){clearTimeout(this._holdTimeout);lb(document,{touchmove:this._onMove,
touchend:this._onUp},this);if(this._fireClick&&c&&c.changedTouches){c=c.changedTouches[0];var n=c.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&La(n,"leaflet-active");this._simulateEvent("mouseup",c);this._isTapValid()&&this._simulateEvent("click",c)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(c){c=c.touches[0];this._newPos=new aa(c.clientX,c.clientY);this._simulateEvent("mousemove",c)},_simulateEvent:function(c,n){var I=
document.createEvent("MouseEvents");I._simulated=!0;n.target._simulatedClick=!0;I.initMouseEvent(c,!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null);n.target.dispatchEvent(I)}});Wc&&!yd&&Tc.addInitHook("addHandler","tap",Ca);Tc.mergeOptions({touchZoom:Wc&&!x,bounceAtZoomLimits:!0});var Xa=$c.extend({addHooks:function(){qb(this._map._container,"leaflet-touch-zoom");ec(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){La(this._map._container,
"leaflet-touch-zoom");lb(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(c){var n=this._map;if(c.touches&&2===c.touches.length&&!n._animatingZoom&&!this._zooming){var I=n.mouseEventToContainerPoint(c.touches[0]),ba=n.mouseEventToContainerPoint(c.touches[1]);this._centerPoint=n.getSize()._divideBy(2);this._startLatLng=n.containerPointToLatLng(this._centerPoint);"center"!==n.options.touchZoom&&(this._pinchStartLatLng=n.containerPointToLatLng(I.add(ba)._divideBy(2)));
this._startDist=I.distanceTo(ba);this._startZoom=n.getZoom();this._moved=!1;this._zooming=!0;n._stop();ec(document,"touchmove",this._onTouchMove,this);ec(document,"touchend",this._onTouchEnd,this);Wb(c)}},_onTouchMove:function(c){if(c.touches&&2===c.touches.length&&this._zooming){var n=this._map,I=n.mouseEventToContainerPoint(c.touches[0]),ba=n.mouseEventToContainerPoint(c.touches[1]),wa=I.distanceTo(ba)/this._startDist;this._zoom=n.getScaleZoom(wa,this._startZoom);!n.options.bounceAtZoomLimits&&
(this._zoom<n.getMinZoom()&&1>wa||this._zoom>n.getMaxZoom()&&1<wa)&&(this._zoom=n._limitZoom(this._zoom));if("center"===n.options.touchZoom){if(this._center=this._startLatLng,1===wa)return}else{I=I._add(ba)._divideBy(2)._subtract(this._centerPoint);if(1===wa&&0===I.x&&0===I.y)return;this._center=n.unproject(n.project(this._pinchStartLatLng,this._zoom).subtract(I),this._zoom)}this._moved||(n._moveStart(!0,!1),this._moved=!0);ia(this._animRequest);n=Ma(n._move,n,this._center,this._zoom,{pinch:!0,round:!1});
this._animRequest=ya(n,this,!0);Wb(c)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,ia(this._animRequest),lb(document,"touchmove",this._onTouchMove),lb(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Tc.addInitHook("addHandler","touchZoom",Xa);Tc.BoxZoom=Rb;Tc.DoubleClickZoom=
Fb;Tc.Drag=rc;Tc.Keyboard=Kc;Tc.ScrollWheelZoom=fa;Tc.Tap=Ca;Tc.TouchZoom=Xa;Object.freeze=zb;p.version="1.6.0";p.Control=Zc;p.control=jd;p.Browser=Nd;p.Evented=da;p.Mixin=rd;p.Util=F;p.Class=ea;p.Handler=$c;p.extend=ma;p.bind=Ma;p.stamp=y;p.setOptions=P;p.DomEvent=Lc;p.DomUtil=$b;p.PosAnimation=Rc;p.Draggable=ee;p.LineUtil=ue;p.PolyUtil=te;p.Point=aa;p.point=Ba;p.Bounds=Va;p.bounds=Ya;p.Transformation=w;p.transformation=z;p.Projection=Je;p.LatLng=l;p.latLng=q;p.LatLngBounds=d;p.latLngBounds=f;p.CRS=
Wa;p.GeoJSON=bc;p.geoJSON=sc;p.geoJson=sc;p.Layer=ze;p.LayerGroup=ye;p.layerGroup=function(c,n){return new ye(c,n)};p.FeatureGroup=Oe;p.featureGroup=function(c){return new Oe(c)};p.ImageOverlay=Qc;p.imageOverlay=function(c,n,I){return new Qc(c,n,I)};p.VideoOverlay=sd;p.videoOverlay=function(c,n,I){return new sd(c,n,I)};p.SVGOverlay=Bd;p.svgOverlay=function(c,n,I){return new Bd(c,n,I)};p.DivOverlay=nd;p.Popup=Rd;p.popup=function(c,n){return new Rd(c,n)};p.Tooltip=Ie;p.tooltip=function(c,n){return new Ie(c,
n)};p.Icon=Ed;p.icon=function(c){return new Ed(c)};p.DivIcon=He;p.divIcon=function(c){return new He(c)};p.Marker=zd;p.marker=function(c,n){return new zd(c,n)};p.TileLayer=Ad;p.tileLayer=wc;p.GridLayer=we;p.gridLayer=function(c){return new we(c)};p.SVG=Ne;p.svg=ic;p.Renderer=oe;p.Canvas=Te;p.canvas=Mc;p.Path=De;p.CircleMarker=E;p.circleMarker=function(c,n){return new E(c,n)};p.Circle=S;p.circle=function(c,n,I){return new S(c,n,I)};p.Polyline=Ka;p.polyline=function(c,n){return new Ka(c,n)};p.Polygon=
pb;p.polygon=function(c,n){return new pb(c,n)};p.Rectangle=yb;p.rectangle=function(c,n){return new yb(c,n)};p.Map=Tc;p.map=function(c,n){return new Tc(c,n)};var db=window.L;p.noConflict=function(){window.L=db;return this};window.L=p})}
goog.provide("module$node_modules$leaflet$dist$leaflet_src");
goog.global. module$node_modules$leaflet$dist$leaflet_src=shadow.js.require(2, {});
