shadow$provide[83]=function(Nc,Vb,pc,wb){(function(p){"object"==typeof wb&&"object"==typeof pc?p(Vb(1)):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],p):p(CodeMirror)})(function(p){function ma(Ea,ka,P){var ca=Ea.getLineHandle(ka.line),va=ka.ch-1,ra=P&&P.afterCursor;null==ra&&(ra=/(^| )cm-fat-cursor($| )/.test(Ea.getWrapperElement().className));var Y=P&&P.bracketRegex||/[(){}[\]]/;ca=!ra&&0<=va&&Y.test(ca.text.charAt(va))&&ua[ca.text.charAt(va)]||Y.test(ca.text.charAt(va+1))&&
ua[ca.text.charAt(++va)];if(!ca)return null;ra="\x3e"==ca.charAt(1)?1:-1;if(P&&P.strict&&0<ra!=(va==ka.ch))return null;Y=Ea.getTokenTypeAt(la(ka.line,va+1));Ea=Ma(Ea,la(ka.line,va+(0<ra?1:0)),ra,Y||null,P);return null==Ea?null:{from:la(ka.line,va),to:Ea&&Ea.pos,match:Ea&&Ea.ch==ca.charAt(0),forward:0<ra}}function Ma(Ea,ka,P,ca,va){var ra=va&&va.maxScanLineLength||1E4,Y=va&&va.maxScanLines||1E3,qa=[];va=va&&va.bracketRegex||/[(){}[\]]/;Y=0<P?Math.min(ka.line+Y,Ea.lastLine()+1):Math.max(Ea.firstLine()-
1,ka.line-Y);for(var ya=ka.line;ya!=Y;ya+=P){var ia=Ea.getLine(ya);if(ia){var ea=0<P?0:ia.length-1,Ha=0<P?ia.length:-1;if(!(ia.length>ra))for(ya==ka.line&&(ea=ka.ch-(0>P?1:0));ea!=Ha;ea+=P){var aa=ia.charAt(ea);if(va.test(aa)&&(void 0===ca||Ea.getTokenTypeAt(la(ya,ea+1))==ca)){var Ba=ua[aa];if(Ba&&"\x3e"==Ba.charAt(1)==0<P)qa.push(aa);else if(qa.length)qa.pop();else return{pos:la(ya,ea),ch:aa}}}}}return ya-P==(0<P?Ea.lastLine():Ea.firstLine())?!1:null}function y(Ea,ka,P){for(var ca=Ea.state.matchBrackets.maxHighlightLineLength||
1E3,va=[],ra=Ea.listSelections(),Y=0;Y<ra.length;Y++){var qa=ra[Y].empty()&&ma(Ea,ra[Y].head,P);if(qa&&Ea.getLine(qa.from.line).length<=ca){var ya=qa.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";va.push(Ea.markText(qa.from,la(qa.from.line,qa.from.ch+1),{className:ya}));qa.to&&Ea.getLine(qa.to.line).length<=ca&&va.push(Ea.markText(qa.to,la(qa.to.line,qa.to.ch+1),{className:ya}))}}if(va.length)if(X&&Ea.state.focused&&Ea.focus(),P=function(){Ea.operation(function(){for(var ia=0;ia<
va.length;ia++)va[ia].clear()})},ka)setTimeout(P,800);else return P}function O(Ea){Ea.operation(function(){Ea.state.matchBrackets.currentlyHighlighted&&(Ea.state.matchBrackets.currentlyHighlighted(),Ea.state.matchBrackets.currentlyHighlighted=null);Ea.state.matchBrackets.currentlyHighlighted=y(Ea,!1,Ea.state.matchBrackets)})}var X=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||8>document.documentMode),la=p.Pos,ua={"(":")\x3e",")":"(\x3c","[":"]\x3e","]":"[\x3c","{":"}\x3e","}":"{\x3c",
"\x3c":"\x3e\x3e","\x3e":"\x3c\x3c"};p.defineOption("matchBrackets",!1,function(Ea,ka,P){function ca(va){va.state.matchBrackets&&va.state.matchBrackets.currentlyHighlighted&&(va.state.matchBrackets.currentlyHighlighted(),va.state.matchBrackets.currentlyHighlighted=null)}P&&P!=p.Init&&(Ea.off("cursorActivity",O),Ea.off("focus",O),Ea.off("blur",ca),ca(Ea));ka&&(Ea.state.matchBrackets="object"==typeof ka?ka:{},Ea.on("cursorActivity",O),Ea.on("focus",O),Ea.on("blur",ca))});p.defineExtension("matchBrackets",
function(){y(this,!0)});p.defineExtension("findMatchingBracket",function(Ea,ka,P){if(P||"boolean"==typeof ka)P?(P.strict=ka,ka=P):ka=ka?{strict:!0}:null;return ma(this,Ea,ka)});p.defineExtension("scanForBracket",function(Ea,ka,P,ca){return Ma(this,Ea,ka,P,ca)})})}
goog.provide("module$node_modules$codemirror$addon$edit$matchbrackets");
goog.global. module$node_modules$codemirror$addon$edit$matchbrackets=shadow.js.require(83, {});
